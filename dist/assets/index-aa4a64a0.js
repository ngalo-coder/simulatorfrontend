var tm=Object.defineProperty;var rm=(e,t,r)=>t in e?tm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ht=(e,t,r)=>(rm(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yc={exports:{}},Xs={},vc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=Symbol.for("react.element"),sm=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),om=Symbol.for("react.provider"),cm=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),mm=Symbol.for("react.memo"),fm=Symbol.for("react.lazy"),Gi=Symbol.iterator;function hm(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var wc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jc=Object.assign,Nc={};function Vr(e,t,r){this.props=e,this.context=t,this.refs=Nc,this.updater=r||wc}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bc(){}bc.prototype=Vr.prototype;function Ol(e,t,r){this.props=e,this.context=t,this.refs=Nc,this.updater=r||wc}var Bl=Ol.prototype=new bc;Bl.constructor=Ol;jc(Bl,Vr.prototype);Bl.isPureReactComponent=!0;var Ji=Array.isArray,Sc=Object.prototype.hasOwnProperty,Vl={current:null},kc={key:!0,ref:!0,__self:!0,__source:!0};function Cc(e,t,r){var s,a={},l=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Sc.call(t,s)&&!kc.hasOwnProperty(s)&&(a[s]=t[s]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)a[s]===void 0&&(a[s]=c[s]);return{$$typeof:zn,type:e,key:l,ref:i,props:a,_owner:Vl.current}}function pm(e,t){return{$$typeof:zn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===zn}function gm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xi=/\/+/g;function pa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gm(""+e.key):t.toString(36)}function us(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case zn:case sm:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+pa(i,0):s,Ji(a)?(r="",e!=null&&(r=e.replace(Xi,"$&/")+"/"),us(a,t,r,"",function(u){return u})):a!=null&&(Wl(a)&&(a=pm(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Xi,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",Ji(e))for(var c=0;c<e.length;c++){l=e[c];var o=s+pa(l,c);i+=us(l,t,r,o,a)}else if(o=hm(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=s+pa(l,c++),i+=us(l,t,r,o,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Hn(e,t,r){if(e==null)return e;var s=[],a=0;return us(e,s,"","",function(l){return t.call(r,l,a++)}),s}function xm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},ds={transition:null},ym={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ds,ReactCurrentOwner:Vl};function Ec(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Hn,forEach:function(e,t,r){Hn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hn(e,function(){t++}),t},toArray:function(e){return Hn(e,function(t){return t})||[]},only:function(e){if(!Wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=Vr;F.Fragment=am;F.Profiler=im;F.PureComponent=Ol;F.StrictMode=lm;F.Suspense=dm;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ym;F.act=Ec;F.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jc({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Vl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Sc.call(t,o)&&!kc.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:zn,type:e.type,key:a,ref:l,props:s,_owner:i}};F.createContext=function(e){return e={$$typeof:cm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:om,_context:e},e.Consumer=e};F.createElement=Cc;F.createFactory=function(e){var t=Cc.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:um,render:e}};F.isValidElement=Wl;F.lazy=function(e){return{$$typeof:fm,_payload:{_status:-1,_result:e},_init:xm}};F.memo=function(e,t){return{$$typeof:mm,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=ds.transition;ds.transition={};try{e()}finally{ds.transition=t}};F.unstable_act=Ec;F.useCallback=function(e,t){return je.current.useCallback(e,t)};F.useContext=function(e){return je.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return je.current.useDeferredValue(e)};F.useEffect=function(e,t){return je.current.useEffect(e,t)};F.useId=function(){return je.current.useId()};F.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};F.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return je.current.useMemo(e,t)};F.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};F.useRef=function(e){return je.current.useRef(e)};F.useState=function(e){return je.current.useState(e)};F.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};F.useTransition=function(){return je.current.useTransition()};F.version="18.3.1";vc.exports=F;var x=vc.exports;const Pc=nm(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=x,wm=Symbol.for("react.element"),jm=Symbol.for("react.fragment"),Nm=Object.prototype.hasOwnProperty,bm=vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sm={key:!0,ref:!0,__self:!0,__source:!0};function _c(e,t,r){var s,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Nm.call(t,s)&&!Sm.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:wm,type:e,key:l,ref:i,props:a,_owner:bm.current}}Xs.Fragment=jm;Xs.jsx=_c;Xs.jsxs=_c;yc.exports=Xs;var n=yc.exports,Wa={},Rc={exports:{}},Ae={},Lc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,I){var $=C.length;C.push(I);e:for(;0<$;){var W=$-1>>>1,G=C[W];if(0<a(G,I))C[W]=I,C[$]=G,$=W;else break e}}function r(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var I=C[0],$=C.pop();if($!==I){C[0]=$;e:for(var W=0,G=C.length,st=G>>>1;W<st;){var S=2*(W+1)-1,A=C[S],z=S+1,D=C[z];if(0>a(A,$))z<G&&0>a(D,A)?(C[W]=D,C[z]=$,W=z):(C[W]=A,C[S]=$,W=S);else if(z<G&&0>a(D,$))C[W]=D,C[z]=$,W=z;else break e}}return I}function a(C,I){var $=C.sortIndex-I.sortIndex;return $!==0?$:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],u=[],p=1,d=null,g=3,v=!1,N=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(C){for(var I=r(u);I!==null;){if(I.callback===null)s(u);else if(I.startTime<=C)s(u),I.sortIndex=I.expirationTime,t(o,I);else break;I=r(u)}}function y(C){if(j=!1,f(C),!N)if(r(o)!==null)N=!0,Jt(w);else{var I=r(u);I!==null&&mt(y,I.startTime-C)}}function w(C,I){N=!1,j&&(j=!1,h(b),b=-1),v=!0;var $=g;try{for(f(I),d=r(o);d!==null&&(!(d.expirationTime>I)||C&&!K());){var W=d.callback;if(typeof W=="function"){d.callback=null,g=d.priorityLevel;var G=W(d.expirationTime<=I);I=e.unstable_now(),typeof G=="function"?d.callback=G:d===r(o)&&s(o),f(I)}else s(o);d=r(o)}if(d!==null)var st=!0;else{var S=r(u);S!==null&&mt(y,S.startTime-I),st=!1}return st}finally{d=null,g=$,v=!1}}var k=!1,P=null,b=-1,T=5,L=-1;function K(){return!(e.unstable_now()-L<T)}function be(){if(P!==null){var C=e.unstable_now();L=C;var I=!0;try{I=P(!0,C)}finally{I?dt():(k=!1,P=null)}}else k=!1}var dt;if(typeof m=="function")dt=function(){m(be)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Pt=ae.port2;ae.port1.onmessage=be,dt=function(){Pt.postMessage(null)}}else dt=function(){E(be,0)};function Jt(C){P=C,k||(k=!0,dt())}function mt(C,I){b=E(function(){C(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,Jt(w))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(C){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var $=g;g=I;try{return C()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=g;g=C;try{return I()}finally{g=$}},e.unstable_scheduleCallback=function(C,I,$){var W=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,C){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,C={id:p++,callback:I,priorityLevel:C,startTime:$,expirationTime:G,sortIndex:-1},$>W?(C.sortIndex=$,t(u,C),r(o)===null&&C===r(u)&&(j?(h(b),b=-1):j=!0,mt(y,$-W))):(C.sortIndex=G,t(o,C),N||v||(N=!0,Jt(w))),C},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(C){var I=g;return function(){var $=g;g=I;try{return C.apply(this,arguments)}finally{g=$}}}})(Tc);Lc.exports=Tc;var km=Lc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=x,Ie=km;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ic=new Set,wn={};function hr(e,t){Mr(e,t),Mr(e+"Capture",t)}function Mr(e,t){for(wn[e]=t,e=0;e<t.length;e++)Ic.add(t[e])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=Object.prototype.hasOwnProperty,Em=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qi={},Zi={};function Pm(e){return Ha.call(Zi,e)?!0:Ha.call(qi,e)?!1:Em.test(e)?Zi[e]=!0:(qi[e]=!0,!1)}function _m(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rm(e,t,r,s){if(t===null||typeof t>"u"||_m(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,r,s,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hl=/[\-:]([a-z])/g;function Yl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hl,Yl);he[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hl,Yl);he[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hl,Yl);he[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ql(e,t,r,s){var a=he.hasOwnProperty(t)?he[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rm(t,r,a,s)&&(r=null),s||a===null?Pm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Et=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yn=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),Ac=Symbol.for("react.provider"),$c=Symbol.for("react.context"),Gl=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Ka=Symbol.for("react.suspense_list"),Jl=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Mc=Symbol.for("react.offscreen"),eo=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=eo&&e[eo]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,ga;function an(e){if(ga===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var xa=!1;function ya(e,t){if(!e||xa)return"";xa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=s.stack.split(`
`),i=a.length-1,c=l.length-1;1<=i&&0<=c&&a[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(a[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||a[i]!==l[c]){var o=`
`+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{xa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?an(e):""}function Lm(e){switch(e.tag){case 5:return an(e.type);case 16:return an("Lazy");case 13:return an("Suspense");case 19:return an("SuspenseList");case 0:case 2:case 15:return e=ya(e.type,!1),e;case 11:return e=ya(e.type.render,!1),e;case 1:return e=ya(e.type,!0),e;default:return""}}function Ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case Ya:return"Profiler";case Kl:return"StrictMode";case Qa:return"Suspense";case Ka:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $c:return(e.displayName||"Context")+".Consumer";case Ac:return(e._context.displayName||"Context")+".Provider";case Gl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jl:return t=e.displayName||null,t!==null?t:Ga(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Ga(e(t))}catch{}}return null}function Tm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ga(t);case 8:return t===Kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ht(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Im(e){var t=Fc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qn(e){e._valueTracker||(e._valueTracker=Im(e))}function zc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Fc(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ja(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function to(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ht(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dc(e,t){t=t.checked,t!=null&&Ql(e,"checked",t,!1)}function Xa(e,t){Dc(e,t);var r=Ht(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qa(e,t.type,r):t.hasOwnProperty("defaultValue")&&qa(e,t.type,Ht(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ro(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qa(e,t,r){(t!=="number"||Ss(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ln=Array.isArray;function Rr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ht(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Za(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function no(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_(92));if(ln(r)){if(1<r.length)throw Error(_(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ht(r)}}function Uc(e,t){var r=Ht(t.value),s=Ht(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function so(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kn,Bc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(e){Am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dn[t]=dn[e]})});function Vc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dn.hasOwnProperty(e)&&dn[e]?(""+t).trim():t+"px"}function Wc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=Vc(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var $m=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,t){if(t){if($m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,Lr=null,Tr=null;function ao(e){if(e=On(e)){if(typeof sl!="function")throw Error(_(280));var t=e.stateNode;t&&(t=ra(t),sl(e.stateNode,e.type,t))}}function Hc(e){Lr?Tr?Tr.push(e):Tr=[e]:Lr=e}function Yc(){if(Lr){var e=Lr,t=Tr;if(Tr=Lr=null,ao(e),t)for(e=0;e<t.length;e++)ao(t[e])}}function Qc(e,t){return e(t)}function Kc(){}var va=!1;function Gc(e,t,r){if(va)return e(t,r);va=!0;try{return Qc(e,t,r)}finally{va=!1,(Lr!==null||Tr!==null)&&(Kc(),Yc())}}function Nn(e,t){var r=e.stateNode;if(r===null)return null;var s=ra(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_(231,t,typeof r));return r}var al=!1;if(Nt)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){al=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{al=!1}function Mm(e,t,r,s,a,l,i,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(p){this.onError(p)}}var mn=!1,ks=null,Cs=!1,ll=null,Fm={onError:function(e){mn=!0,ks=e}};function zm(e,t,r,s,a,l,i,c,o){mn=!1,ks=null,Mm.apply(Fm,arguments)}function Dm(e,t,r,s,a,l,i,c,o){if(zm.apply(this,arguments),mn){if(mn){var u=ks;mn=!1,ks=null}else throw Error(_(198));Cs||(Cs=!0,ll=u)}}function pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lo(e){if(pr(e)!==e)throw Error(_(188))}function Um(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(_(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return lo(a),e;if(l===s)return lo(a),t;l=l.sibling}throw Error(_(188))}if(r.return!==s.return)r=a,s=l;else{for(var i=!1,c=a.child;c;){if(c===r){i=!0,r=a,s=l;break}if(c===s){i=!0,s=a,r=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===r){i=!0,r=l,s=a;break}if(c===s){i=!0,s=l,r=a;break}c=c.sibling}if(!i)throw Error(_(189))}}if(r.alternate!==s)throw Error(_(190))}if(r.tag!==3)throw Error(_(188));return r.stateNode.current===r?e:t}function Xc(e){return e=Um(e),e!==null?qc(e):null}function qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qc(e);if(t!==null)return t;e=e.sibling}return null}var Zc=Ie.unstable_scheduleCallback,io=Ie.unstable_cancelCallback,Om=Ie.unstable_shouldYield,Bm=Ie.unstable_requestPaint,se=Ie.unstable_now,Vm=Ie.unstable_getCurrentPriorityLevel,ql=Ie.unstable_ImmediatePriority,eu=Ie.unstable_UserBlockingPriority,Es=Ie.unstable_NormalPriority,Wm=Ie.unstable_LowPriority,tu=Ie.unstable_IdlePriority,qs=null,ot=null;function Hm(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(qs,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Km,Ym=Math.log,Qm=Math.LN2;function Km(e){return e>>>=0,e===0?32:31-(Ym(e)/Qm|0)|0}var Gn=64,Jn=4194304;function on(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ps(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var c=i&~a;c!==0?s=on(c):(l&=i,l!==0&&(s=on(l)))}else i=r&~a,i!==0?s=on(i):l!==0&&(s=on(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Xe(t),a=1<<r,s|=e[r],t&=~a;return s}function Gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Xe(l),c=1<<i,o=a[i];o===-1?(!(c&r)||c&s)&&(a[i]=Gm(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ru(){var e=Gn;return Gn<<=1,!(Gn&4194240)&&(Gn=64),e}function wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=r}function Xm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Xe(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function Zl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Xe(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var V=0;function nu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var su,ei,au,lu,iu,ol=!1,Xn=[],Ft=null,zt=null,Dt=null,bn=new Map,Sn=new Map,Tt=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oo(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(t.pointerId)}}function qr(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=On(t),t!==null&&ei(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Zm(e,t,r,s,a){switch(t){case"focusin":return Ft=qr(Ft,e,t,r,s,a),!0;case"dragenter":return zt=qr(zt,e,t,r,s,a),!0;case"mouseover":return Dt=qr(Dt,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return bn.set(l,qr(bn.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,Sn.set(l,qr(Sn.get(l)||null,e,t,r,s,a)),!0}return!1}function ou(e){var t=nr(e.target);if(t!==null){var r=pr(t);if(r!==null){if(t=r.tag,t===13){if(t=Jc(r),t!==null){e.blockedOn=t,iu(e.priority,function(){au(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);nl=s,r.target.dispatchEvent(s),nl=null}else return t=On(r),t!==null&&ei(t),e.blockedOn=r,!1;t.shift()}return!0}function co(e,t,r){ms(e)&&r.delete(t)}function ef(){ol=!1,Ft!==null&&ms(Ft)&&(Ft=null),zt!==null&&ms(zt)&&(zt=null),Dt!==null&&ms(Dt)&&(Dt=null),bn.forEach(co),Sn.forEach(co)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,ef)))}function kn(e){function t(a){return Zr(a,e)}if(0<Xn.length){Zr(Xn[0],e);for(var r=1;r<Xn.length;r++){var s=Xn[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ft!==null&&Zr(Ft,e),zt!==null&&Zr(zt,e),Dt!==null&&Zr(Dt,e),bn.forEach(t),Sn.forEach(t),r=0;r<Tt.length;r++)s=Tt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Tt.length&&(r=Tt[0],r.blockedOn===null);)ou(r),r.blockedOn===null&&Tt.shift()}var Ir=Et.ReactCurrentBatchConfig,_s=!0;function tf(e,t,r,s){var a=V,l=Ir.transition;Ir.transition=null;try{V=1,ti(e,t,r,s)}finally{V=a,Ir.transition=l}}function rf(e,t,r,s){var a=V,l=Ir.transition;Ir.transition=null;try{V=4,ti(e,t,r,s)}finally{V=a,Ir.transition=l}}function ti(e,t,r,s){if(_s){var a=cl(e,t,r,s);if(a===null)Ra(e,t,s,Rs,r),oo(e,s);else if(Zm(a,e,t,r,s))s.stopPropagation();else if(oo(e,s),t&4&&-1<qm.indexOf(e)){for(;a!==null;){var l=On(a);if(l!==null&&su(l),l=cl(e,t,r,s),l===null&&Ra(e,t,s,Rs,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else Ra(e,t,s,null,r)}}var Rs=null;function cl(e,t,r,s){if(Rs=null,e=Xl(s),e=nr(e),e!==null)if(t=pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rs=e,null}function cu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case ql:return 1;case eu:return 4;case Es:case Wm:return 16;case tu:return 536870912;default:return 16}default:return 16}}var $t=null,ri=null,fs=null;function uu(){if(fs)return fs;var e,t=ri,r=t.length,s,a="value"in $t?$t.value:$t.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[l-s];s++);return fs=a.slice(e,1<s?1-s:void 0)}function hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function uo(){return!1}function $e(e){function t(r,s,a,l,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?qn:uo,this.isPropagationStopped=uo,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=$e(Wr),Un=te({},Wr,{view:0,detail:0}),nf=$e(Un),ja,Na,en,Zs=te({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:si,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(ja=e.screenX-en.screenX,Na=e.screenY-en.screenY):Na=ja=0,en=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),mo=$e(Zs),sf=te({},Zs,{dataTransfer:0}),af=$e(sf),lf=te({},Un,{relatedTarget:0}),ba=$e(lf),of=te({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),cf=$e(of),uf=te({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),df=$e(uf),mf=te({},Wr,{data:0}),fo=$e(mf),ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pf[e])?!!t[e]:!1}function si(){return gf}var xf=te({},Un,{key:function(e){if(e.key){var t=ff[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:si,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yf=$e(xf),vf=te({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=$e(vf),wf=te({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:si}),jf=$e(wf),Nf=te({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bf=$e(Nf),Sf=te({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kf=$e(Sf),Cf=[9,13,27,32],ai=Nt&&"CompositionEvent"in window,fn=null;Nt&&"documentMode"in document&&(fn=document.documentMode);var Ef=Nt&&"TextEvent"in window&&!fn,du=Nt&&(!ai||fn&&8<fn&&11>=fn),po=String.fromCharCode(32),go=!1;function mu(e,t){switch(e){case"keyup":return Cf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function Pf(e,t){switch(e){case"compositionend":return fu(t);case"keypress":return t.which!==32?null:(go=!0,po);case"textInput":return e=t.data,e===po&&go?null:e;default:return null}}function _f(e,t){if(wr)return e==="compositionend"||!ai&&mu(e,t)?(e=uu(),fs=ri=$t=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var Rf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rf[e.type]:t==="textarea"}function hu(e,t,r,s){Hc(s),t=Ls(t,"onChange"),0<t.length&&(r=new ni("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var hn=null,Cn=null;function Lf(e){ku(e,0)}function ea(e){var t=br(e);if(zc(t))return e}function Tf(e,t){if(e==="change")return t}var pu=!1;if(Nt){var Sa;if(Nt){var ka="oninput"in document;if(!ka){var yo=document.createElement("div");yo.setAttribute("oninput","return;"),ka=typeof yo.oninput=="function"}Sa=ka}else Sa=!1;pu=Sa&&(!document.documentMode||9<document.documentMode)}function vo(){hn&&(hn.detachEvent("onpropertychange",gu),Cn=hn=null)}function gu(e){if(e.propertyName==="value"&&ea(Cn)){var t=[];hu(t,Cn,e,Xl(e)),Gc(Lf,t)}}function If(e,t,r){e==="focusin"?(vo(),hn=t,Cn=r,hn.attachEvent("onpropertychange",gu)):e==="focusout"&&vo()}function Af(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ea(Cn)}function $f(e,t){if(e==="click")return ea(t)}function Mf(e,t){if(e==="input"||e==="change")return ea(t)}function Ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ze=typeof Object.is=="function"?Object.is:Ff;function En(e,t){if(Ze(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Ha.call(t,a)||!Ze(e[a],t[a]))return!1}return!0}function wo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jo(e,t){var r=wo(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wo(r)}}function xu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yu(){for(var e=window,t=Ss();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ss(e.document)}return t}function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zf(e){var t=yu(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xu(r.ownerDocument.documentElement,r)){if(s!==null&&li(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=jo(r,l);var i=jo(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Df=Nt&&"documentMode"in document&&11>=document.documentMode,jr=null,ul=null,pn=null,dl=!1;function No(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dl||jr==null||jr!==Ss(s)||(s=jr,"selectionStart"in s&&li(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pn&&En(pn,s)||(pn=s,s=Ls(ul,"onSelect"),0<s.length&&(t=new ni("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=jr)))}function Zn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nr={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionend:Zn("Transition","TransitionEnd")},Ca={},vu={};Nt&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function ta(e){if(Ca[e])return Ca[e];if(!Nr[e])return e;var t=Nr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vu)return Ca[e]=t[r];return e}var wu=ta("animationend"),ju=ta("animationiteration"),Nu=ta("animationstart"),bu=ta("transitionend"),Su=new Map,bo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Su.set(e,t),hr(t,[e])}for(var Ea=0;Ea<bo.length;Ea++){var Pa=bo[Ea],Uf=Pa.toLowerCase(),Of=Pa[0].toUpperCase()+Pa.slice(1);Qt(Uf,"on"+Of)}Qt(wu,"onAnimationEnd");Qt(ju,"onAnimationIteration");Qt(Nu,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(bu,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bf=new Set("cancel close invalid load scroll toggle".split(" ").concat(cn));function So(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Dm(s,t,void 0,e),e.currentTarget=null}function ku(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var c=s[i],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==l&&a.isPropagationStopped())break e;So(a,c,u),l=o}else for(i=0;i<s.length;i++){if(c=s[i],o=c.instance,u=c.currentTarget,c=c.listener,o!==l&&a.isPropagationStopped())break e;So(a,c,u),l=o}}}if(Cs)throw e=ll,Cs=!1,ll=null,e}function Y(e,t){var r=t[gl];r===void 0&&(r=t[gl]=new Set);var s=e+"__bubble";r.has(s)||(Cu(t,e,2,!1),r.add(s))}function _a(e,t,r){var s=0;t&&(s|=4),Cu(r,e,s,t)}var es="_reactListening"+Math.random().toString(36).slice(2);function Pn(e){if(!e[es]){e[es]=!0,Ic.forEach(function(r){r!=="selectionchange"&&(Bf.has(r)||_a(r,!1,e),_a(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[es]||(t[es]=!0,_a("selectionchange",!1,t))}}function Cu(e,t,r,s){switch(cu(t)){case 1:var a=tf;break;case 4:a=rf;break;default:a=ti}r=a.bind(null,t,r,e),a=void 0,!al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ra(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var c=s.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===a||o.nodeType===8&&o.parentNode===a))return;i=i.return}for(;c!==null;){if(i=nr(c),i===null)return;if(o=i.tag,o===5||o===6){s=l=i;continue e}c=c.parentNode}}s=s.return}Gc(function(){var u=l,p=Xl(r),d=[];e:{var g=Su.get(e);if(g!==void 0){var v=ni,N=e;switch(e){case"keypress":if(hs(r)===0)break e;case"keydown":case"keyup":v=yf;break;case"focusin":N="focus",v=ba;break;case"focusout":N="blur",v=ba;break;case"beforeblur":case"afterblur":v=ba;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jf;break;case wu:case ju:case Nu:v=cf;break;case bu:v=bf;break;case"scroll":v=nf;break;case"wheel":v=kf;break;case"copy":case"cut":case"paste":v=df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ho}var j=(t&4)!==0,E=!j&&e==="scroll",h=j?g!==null?g+"Capture":null:g;j=[];for(var m=u,f;m!==null;){f=m;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,h!==null&&(y=Nn(m,h),y!=null&&j.push(_n(m,y,f)))),E)break;m=m.return}0<j.length&&(g=new v(g,N,null,r,p),d.push({event:g,listeners:j}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&r!==nl&&(N=r.relatedTarget||r.fromElement)&&(nr(N)||N[bt]))break e;if((v||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,v?(N=r.relatedTarget||r.toElement,v=u,N=N?nr(N):null,N!==null&&(E=pr(N),N!==E||N.tag!==5&&N.tag!==6)&&(N=null)):(v=null,N=u),v!==N)){if(j=mo,y="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(j=ho,y="onPointerLeave",h="onPointerEnter",m="pointer"),E=v==null?g:br(v),f=N==null?g:br(N),g=new j(y,m+"leave",v,r,p),g.target=E,g.relatedTarget=f,y=null,nr(p)===u&&(j=new j(h,m+"enter",N,r,p),j.target=f,j.relatedTarget=E,y=j),E=y,v&&N)t:{for(j=v,h=N,m=0,f=j;f;f=xr(f))m++;for(f=0,y=h;y;y=xr(y))f++;for(;0<m-f;)j=xr(j),m--;for(;0<f-m;)h=xr(h),f--;for(;m--;){if(j===h||h!==null&&j===h.alternate)break t;j=xr(j),h=xr(h)}j=null}else j=null;v!==null&&ko(d,g,v,j,!1),N!==null&&E!==null&&ko(d,E,N,j,!0)}}e:{if(g=u?br(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var w=Tf;else if(xo(g))if(pu)w=Mf;else{w=Af;var k=If}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=$f);if(w&&(w=w(e,u))){hu(d,w,r,p);break e}k&&k(e,g,u),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&qa(g,"number",g.value)}switch(k=u?br(u):window,e){case"focusin":(xo(k)||k.contentEditable==="true")&&(jr=k,ul=u,pn=null);break;case"focusout":pn=ul=jr=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,No(d,r,p);break;case"selectionchange":if(Df)break;case"keydown":case"keyup":No(d,r,p)}var P;if(ai)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else wr?mu(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(du&&r.locale!=="ko"&&(wr||b!=="onCompositionStart"?b==="onCompositionEnd"&&wr&&(P=uu()):($t=p,ri="value"in $t?$t.value:$t.textContent,wr=!0)),k=Ls(u,b),0<k.length&&(b=new fo(b,e,null,r,p),d.push({event:b,listeners:k}),P?b.data=P:(P=fu(r),P!==null&&(b.data=P)))),(P=Ef?Pf(e,r):_f(e,r))&&(u=Ls(u,"onBeforeInput"),0<u.length&&(p=new fo("onBeforeInput","beforeinput",null,r,p),d.push({event:p,listeners:u}),p.data=P))}ku(d,t)})}function _n(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ls(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Nn(e,r),l!=null&&s.unshift(_n(e,l,a)),l=Nn(e,t),l!=null&&s.push(_n(e,l,a))),e=e.return}return s}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ko(e,t,r,s,a){for(var l=t._reactName,i=[];r!==null&&r!==s;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===s)break;c.tag===5&&u!==null&&(c=u,a?(o=Nn(r,l),o!=null&&i.unshift(_n(r,o,c))):a||(o=Nn(r,l),o!=null&&i.push(_n(r,o,c)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Vf=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function Co(e){return(typeof e=="string"?e:""+e).replace(Vf,`
`).replace(Wf,"")}function ts(e,t,r){if(t=Co(t),Co(e)!==t&&r)throw Error(_(425))}function Ts(){}var ml=null,fl=null;function hl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,Hf=typeof clearTimeout=="function"?clearTimeout:void 0,Eo=typeof Promise=="function"?Promise:void 0,Yf=typeof queueMicrotask=="function"?queueMicrotask:typeof Eo<"u"?function(e){return Eo.resolve(null).then(e).catch(Qf)}:pl;function Qf(e){setTimeout(function(){throw e})}function La(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),kn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);kn(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Po(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),it="__reactFiber$"+Hr,Rn="__reactProps$"+Hr,bt="__reactContainer$"+Hr,gl="__reactEvents$"+Hr,Kf="__reactListeners$"+Hr,Gf="__reactHandles$"+Hr;function nr(e){var t=e[it];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[it]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Po(e);e!==null;){if(r=e[it])return r;e=Po(e)}return t}e=r,r=e.parentNode}return null}function On(e){return e=e[it]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function ra(e){return e[Rn]||null}var xl=[],Sr=-1;function Kt(e){return{current:e}}function Q(e){0>Sr||(e.current=xl[Sr],xl[Sr]=null,Sr--)}function H(e,t){Sr++,xl[Sr]=e.current,e.current=t}var Yt={},ye=Kt(Yt),Ce=Kt(!1),or=Yt;function Fr(e,t){var r=e.type.contextTypes;if(!r)return Yt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ee(e){return e=e.childContextTypes,e!=null}function Is(){Q(Ce),Q(ye)}function _o(e,t,r){if(ye.current!==Yt)throw Error(_(168));H(ye,t),H(Ce,r)}function Eu(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(_(108,Tm(e)||"Unknown",a));return te({},r,s)}function As(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,or=ye.current,H(ye,e),H(Ce,Ce.current),!0}function Ro(e,t,r){var s=e.stateNode;if(!s)throw Error(_(169));r?(e=Eu(e,t,or),s.__reactInternalMemoizedMergedChildContext=e,Q(Ce),Q(ye),H(ye,e)):Q(Ce),H(Ce,r)}var xt=null,na=!1,Ta=!1;function Pu(e){xt===null?xt=[e]:xt.push(e)}function Jf(e){na=!0,Pu(e)}function Gt(){if(!Ta&&xt!==null){Ta=!0;var e=0,t=V;try{var r=xt;for(V=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}xt=null,na=!1}catch(a){throw xt!==null&&(xt=xt.slice(e+1)),Zc(ql,Gt),a}finally{V=t,Ta=!1}}return null}var kr=[],Cr=0,$s=null,Ms=0,De=[],Ue=0,cr=null,yt=1,vt="";function tr(e,t){kr[Cr++]=Ms,kr[Cr++]=$s,$s=e,Ms=t}function _u(e,t,r){De[Ue++]=yt,De[Ue++]=vt,De[Ue++]=cr,cr=e;var s=yt;e=vt;var a=32-Xe(s)-1;s&=~(1<<a),r+=1;var l=32-Xe(t)+a;if(30<l){var i=a-a%5;l=(s&(1<<i)-1).toString(32),s>>=i,a-=i,yt=1<<32-Xe(t)+a|r<<a|s,vt=l+e}else yt=1<<l|r<<a|s,vt=e}function ii(e){e.return!==null&&(tr(e,1),_u(e,1,0))}function oi(e){for(;e===$s;)$s=kr[--Cr],kr[Cr]=null,Ms=kr[--Cr],kr[Cr]=null;for(;e===cr;)cr=De[--Ue],De[Ue]=null,vt=De[--Ue],De[Ue]=null,yt=De[--Ue],De[Ue]=null}var Te=null,Le=null,J=!1,Je=null;function Ru(e,t){var r=Oe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lo(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Te=e,Le=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Te=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cr!==null?{id:yt,overflow:vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Oe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Te=e,Le=null,!0):!1;default:return!1}}function yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vl(e){if(J){var t=Le;if(t){var r=t;if(!Lo(e,t)){if(yl(e))throw Error(_(418));t=Ut(r.nextSibling);var s=Te;t&&Lo(e,t)?Ru(s,r):(e.flags=e.flags&-4097|2,J=!1,Te=e)}}else{if(yl(e))throw Error(_(418));e.flags=e.flags&-4097|2,J=!1,Te=e}}}function To(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function rs(e){if(e!==Te)return!1;if(!J)return To(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hl(e.type,e.memoizedProps)),t&&(t=Le)){if(yl(e))throw Lu(),Error(_(418));for(;t;)Ru(e,t),t=Ut(t.nextSibling)}if(To(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Le=Ut(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=Te?Ut(e.stateNode.nextSibling):null;return!0}function Lu(){for(var e=Le;e;)e=Ut(e.nextSibling)}function zr(){Le=Te=null,J=!1}function ci(e){Je===null?Je=[e]:Je.push(e)}var Xf=Et.ReactCurrentBatchConfig;function tn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_(309));var s=r.stateNode}if(!s)throw Error(_(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var c=a.refs;i===null?delete c[l]:c[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(_(284));if(!r._owner)throw Error(_(290,e))}return e}function ns(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Io(e){var t=e._init;return t(e._payload)}function Tu(e){function t(h,m){if(e){var f=h.deletions;f===null?(h.deletions=[m],h.flags|=16):f.push(m)}}function r(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function s(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function a(h,m){return h=Wt(h,m),h.index=0,h.sibling=null,h}function l(h,m,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<m?(h.flags|=2,m):f):(h.flags|=2,m)):(h.flags|=1048576,m)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function c(h,m,f,y){return m===null||m.tag!==6?(m=Da(f,h.mode,y),m.return=h,m):(m=a(m,f),m.return=h,m)}function o(h,m,f,y){var w=f.type;return w===vr?p(h,m,f.props.children,y,f.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&Io(w)===m.type)?(y=a(m,f.props),y.ref=tn(h,m,f),y.return=h,y):(y=js(f.type,f.key,f.props,null,h.mode,y),y.ref=tn(h,m,f),y.return=h,y)}function u(h,m,f,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=Ua(f,h.mode,y),m.return=h,m):(m=a(m,f.children||[]),m.return=h,m)}function p(h,m,f,y,w){return m===null||m.tag!==7?(m=ir(f,h.mode,y,w),m.return=h,m):(m=a(m,f),m.return=h,m)}function d(h,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Da(""+m,h.mode,f),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yn:return f=js(m.type,m.key,m.props,null,h.mode,f),f.ref=tn(h,null,m),f.return=h,f;case yr:return m=Ua(m,h.mode,f),m.return=h,m;case Rt:var y=m._init;return d(h,y(m._payload),f)}if(ln(m)||Jr(m))return m=ir(m,h.mode,f,null),m.return=h,m;ns(h,m)}return null}function g(h,m,f,y){var w=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return w!==null?null:c(h,m,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Yn:return f.key===w?o(h,m,f,y):null;case yr:return f.key===w?u(h,m,f,y):null;case Rt:return w=f._init,g(h,m,w(f._payload),y)}if(ln(f)||Jr(f))return w!==null?null:p(h,m,f,y,null);ns(h,f)}return null}function v(h,m,f,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(f)||null,c(m,h,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yn:return h=h.get(y.key===null?f:y.key)||null,o(m,h,y,w);case yr:return h=h.get(y.key===null?f:y.key)||null,u(m,h,y,w);case Rt:var k=y._init;return v(h,m,f,k(y._payload),w)}if(ln(y)||Jr(y))return h=h.get(f)||null,p(m,h,y,w,null);ns(m,y)}return null}function N(h,m,f,y){for(var w=null,k=null,P=m,b=m=0,T=null;P!==null&&b<f.length;b++){P.index>b?(T=P,P=null):T=P.sibling;var L=g(h,P,f[b],y);if(L===null){P===null&&(P=T);break}e&&P&&L.alternate===null&&t(h,P),m=l(L,m,b),k===null?w=L:k.sibling=L,k=L,P=T}if(b===f.length)return r(h,P),J&&tr(h,b),w;if(P===null){for(;b<f.length;b++)P=d(h,f[b],y),P!==null&&(m=l(P,m,b),k===null?w=P:k.sibling=P,k=P);return J&&tr(h,b),w}for(P=s(h,P);b<f.length;b++)T=v(P,h,b,f[b],y),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?b:T.key),m=l(T,m,b),k===null?w=T:k.sibling=T,k=T);return e&&P.forEach(function(K){return t(h,K)}),J&&tr(h,b),w}function j(h,m,f,y){var w=Jr(f);if(typeof w!="function")throw Error(_(150));if(f=w.call(f),f==null)throw Error(_(151));for(var k=w=null,P=m,b=m=0,T=null,L=f.next();P!==null&&!L.done;b++,L=f.next()){P.index>b?(T=P,P=null):T=P.sibling;var K=g(h,P,L.value,y);if(K===null){P===null&&(P=T);break}e&&P&&K.alternate===null&&t(h,P),m=l(K,m,b),k===null?w=K:k.sibling=K,k=K,P=T}if(L.done)return r(h,P),J&&tr(h,b),w;if(P===null){for(;!L.done;b++,L=f.next())L=d(h,L.value,y),L!==null&&(m=l(L,m,b),k===null?w=L:k.sibling=L,k=L);return J&&tr(h,b),w}for(P=s(h,P);!L.done;b++,L=f.next())L=v(P,h,b,L.value,y),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?b:L.key),m=l(L,m,b),k===null?w=L:k.sibling=L,k=L);return e&&P.forEach(function(be){return t(h,be)}),J&&tr(h,b),w}function E(h,m,f,y){if(typeof f=="object"&&f!==null&&f.type===vr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Yn:e:{for(var w=f.key,k=m;k!==null;){if(k.key===w){if(w=f.type,w===vr){if(k.tag===7){r(h,k.sibling),m=a(k,f.props.children),m.return=h,h=m;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&Io(w)===k.type){r(h,k.sibling),m=a(k,f.props),m.ref=tn(h,k,f),m.return=h,h=m;break e}r(h,k);break}else t(h,k);k=k.sibling}f.type===vr?(m=ir(f.props.children,h.mode,y,f.key),m.return=h,h=m):(y=js(f.type,f.key,f.props,null,h.mode,y),y.ref=tn(h,m,f),y.return=h,h=y)}return i(h);case yr:e:{for(k=f.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){r(h,m.sibling),m=a(m,f.children||[]),m.return=h,h=m;break e}else{r(h,m);break}else t(h,m);m=m.sibling}m=Ua(f,h.mode,y),m.return=h,h=m}return i(h);case Rt:return k=f._init,E(h,m,k(f._payload),y)}if(ln(f))return N(h,m,f,y);if(Jr(f))return j(h,m,f,y);ns(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(r(h,m.sibling),m=a(m,f),m.return=h,h=m):(r(h,m),m=Da(f,h.mode,y),m.return=h,h=m),i(h)):r(h,m)}return E}var Dr=Tu(!0),Iu=Tu(!1),Fs=Kt(null),zs=null,Er=null,ui=null;function di(){ui=Er=zs=null}function mi(e){var t=Fs.current;Q(Fs),e._currentValue=t}function wl(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Ar(e,t){zs=e,ui=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(ui!==e)if(e={context:e,memoizedValue:t,next:null},Er===null){if(zs===null)throw Error(_(308));Er=e,zs.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return t}var sr=null;function fi(e){sr===null?sr=[e]:sr.push(e)}function Au(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,fi(t)):(r.next=a.next,a.next=r),t.interleaved=r,St(e,s)}function St(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lt=!1;function hi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ot(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,O&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,St(e,r)}return a=s.interleaved,a===null?(t.next=t,fi(s)):(t.next=a.next,a.next=t),s.interleaved=t,St(e,r)}function ps(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Zl(e,r)}}function Ao(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ds(e,t,r,s){var a=e.updateQueue;Lt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var o=c,u=o.next;o.next=null,i===null?l=u:i.next=u,i=o;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==i&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=o))}if(l!==null){var d=a.baseState;i=0,p=u=o=null,c=l;do{var g=c.lane,v=c.eventTime;if((s&g)===g){p!==null&&(p=p.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=e,j=c;switch(g=t,v=r,j.tag){case 1:if(N=j.payload,typeof N=="function"){d=N.call(v,d,g);break e}d=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,g=typeof N=="function"?N.call(v,d,g):N,g==null)break e;d=te({},d,g);break e;case 2:Lt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[c]:g.push(c))}else v={eventTime:v,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=v,o=d):p=p.next=v,i|=g;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;g=c,c=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(1);if(p===null&&(o=d),a.baseState=o,a.firstBaseUpdate=u,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);dr|=i,e.lanes=i,e.memoizedState=d}}function $o(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(_(191,a));a.call(s)}}}var Bn={},ct=Kt(Bn),Ln=Kt(Bn),Tn=Kt(Bn);function ar(e){if(e===Bn)throw Error(_(174));return e}function pi(e,t){switch(H(Tn,t),H(Ln,e),H(ct,Bn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:el(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=el(t,e)}Q(ct),H(ct,t)}function Ur(){Q(ct),Q(Ln),Q(Tn)}function Mu(e){ar(Tn.current);var t=ar(ct.current),r=el(t,e.type);t!==r&&(H(Ln,e),H(ct,r))}function gi(e){Ln.current===e&&(Q(ct),Q(Ln))}var Z=Kt(0);function Us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=[];function xi(){for(var e=0;e<Ia.length;e++)Ia[e]._workInProgressVersionPrimary=null;Ia.length=0}var gs=Et.ReactCurrentDispatcher,Aa=Et.ReactCurrentBatchConfig,ur=0,ee=null,oe=null,ue=null,Os=!1,gn=!1,In=0,qf=0;function pe(){throw Error(_(321))}function yi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ze(e[r],t[r]))return!1;return!0}function vi(e,t,r,s,a,l){if(ur=l,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gs.current=e===null||e.memoizedState===null?rh:nh,e=r(s,a),gn){l=0;do{if(gn=!1,In=0,25<=l)throw Error(_(301));l+=1,ue=oe=null,t.updateQueue=null,gs.current=sh,e=r(s,a)}while(gn)}if(gs.current=Bs,t=oe!==null&&oe.next!==null,ur=0,ue=oe=ee=null,Os=!1,t)throw Error(_(300));return e}function wi(){var e=In!==0;return In=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=e:ue=ue.next=e,ue}function We(){if(oe===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ue===null?ee.memoizedState:ue.next;if(t!==null)ue=t,oe=e;else{if(e===null)throw Error(_(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?ee.memoizedState=ue=e:ue=ue.next=e}return ue}function An(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=We(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var s=oe,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var c=i=null,o=null,u=l;do{var p=u.lane;if((ur&p)===p)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=d,i=s):o=o.next=d,ee.lanes|=p,dr|=p}u=u.next}while(u!==null&&u!==l);o===null?i=s:o.next=c,Ze(s,t.memoizedState)||(ke=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=o,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,ee.lanes|=l,dr|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ma(e){var t=We(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Ze(l,t.memoizedState)||(ke=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function Fu(){}function zu(e,t){var r=ee,s=We(),a=t(),l=!Ze(s.memoizedState,a);if(l&&(s.memoizedState=a,ke=!0),s=s.queue,ji(Ou.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,$n(9,Uu.bind(null,r,s,a,t),void 0,null),de===null)throw Error(_(349));ur&30||Du(r,t,a)}return a}function Du(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Uu(e,t,r,s){t.value=r,t.getSnapshot=s,Bu(t)&&Vu(e)}function Ou(e,t,r){return r(function(){Bu(t)&&Vu(e)})}function Bu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ze(e,r)}catch{return!0}}function Vu(e){var t=St(e,1);t!==null&&qe(t,e,1,-1)}function Mo(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},t.queue=e,e=e.dispatch=th.bind(null,ee,e),[t.memoizedState,e]}function $n(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Wu(){return We().memoizedState}function xs(e,t,r,s){var a=lt();ee.flags|=e,a.memoizedState=$n(1|t,r,void 0,s===void 0?null:s)}function sa(e,t,r,s){var a=We();s=s===void 0?null:s;var l=void 0;if(oe!==null){var i=oe.memoizedState;if(l=i.destroy,s!==null&&yi(s,i.deps)){a.memoizedState=$n(t,r,l,s);return}}ee.flags|=e,a.memoizedState=$n(1|t,r,l,s)}function Fo(e,t){return xs(8390656,8,e,t)}function ji(e,t){return sa(2048,8,e,t)}function Hu(e,t){return sa(4,2,e,t)}function Yu(e,t){return sa(4,4,e,t)}function Qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ku(e,t,r){return r=r!=null?r.concat([e]):null,sa(4,4,Qu.bind(null,t,e),r)}function Ni(){}function Gu(e,t){var r=We();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&yi(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Ju(e,t){var r=We();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&yi(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Xu(e,t,r){return ur&21?(Ze(r,t)||(r=ru(),ee.lanes|=r,dr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=r)}function Zf(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var s=Aa.transition;Aa.transition={};try{e(!1),t()}finally{V=r,Aa.transition=s}}function qu(){return We().memoizedState}function eh(e,t,r){var s=Vt(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(e))ed(t,r);else if(r=Au(e,t,r,s),r!==null){var a=we();qe(r,e,s,a),td(r,t,s)}}function th(e,t,r){var s=Vt(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))ed(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,c=l(i,r);if(a.hasEagerState=!0,a.eagerState=c,Ze(c,i)){var o=t.interleaved;o===null?(a.next=a,fi(t)):(a.next=o.next,o.next=a),t.interleaved=a;return}}catch{}finally{}r=Au(e,t,a,s),r!==null&&(a=we(),qe(r,e,s,a),td(r,t,s))}}function Zu(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function ed(e,t){gn=Os=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function td(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Zl(e,r)}}var Bs={readContext:Ve,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},rh={readContext:Ve,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:Fo,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xs(4194308,4,Qu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=lt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=eh.bind(null,ee,e),[s.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Mo,useDebugValue:Ni,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Zf.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ee,a=lt();if(J){if(r===void 0)throw Error(_(407));r=r()}else{if(r=t(),de===null)throw Error(_(349));ur&30||Du(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Fo(Ou.bind(null,s,l,e),[e]),s.flags|=2048,$n(9,Uu.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=lt(),t=de.identifierPrefix;if(J){var r=vt,s=yt;r=(s&~(1<<32-Xe(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=In++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nh={readContext:Ve,useCallback:Gu,useContext:Ve,useEffect:ji,useImperativeHandle:Ku,useInsertionEffect:Hu,useLayoutEffect:Yu,useMemo:Ju,useReducer:$a,useRef:Wu,useState:function(){return $a(An)},useDebugValue:Ni,useDeferredValue:function(e){var t=We();return Xu(t,oe.memoizedState,e)},useTransition:function(){var e=$a(An)[0],t=We().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:zu,useId:qu,unstable_isNewReconciler:!1},sh={readContext:Ve,useCallback:Gu,useContext:Ve,useEffect:ji,useImperativeHandle:Ku,useInsertionEffect:Hu,useLayoutEffect:Yu,useMemo:Ju,useReducer:Ma,useRef:Wu,useState:function(){return Ma(An)},useDebugValue:Ni,useDeferredValue:function(e){var t=We();return oe===null?t.memoizedState=e:Xu(t,oe.memoizedState,e)},useTransition:function(){var e=Ma(An)[0],t=We().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:zu,useId:qu,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function jl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var aa={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=we(),a=Vt(e),l=wt(s,a);l.payload=t,r!=null&&(l.callback=r),t=Ot(e,l,a),t!==null&&(qe(t,e,a,s),ps(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=we(),a=Vt(e),l=wt(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Ot(e,l,a),t!==null&&(qe(t,e,a,s),ps(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=we(),s=Vt(e),a=wt(r,s);a.tag=2,t!=null&&(a.callback=t),t=Ot(e,a,s),t!==null&&(qe(t,e,s,r),ps(t,e,s))}};function zo(e,t,r,s,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!En(r,s)||!En(a,l):!0}function rd(e,t,r){var s=!1,a=Yt,l=t.contextType;return typeof l=="object"&&l!==null?l=Ve(l):(a=Ee(t)?or:ye.current,s=t.contextTypes,l=(s=s!=null)?Fr(e,a):Yt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Do(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function Nl(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},hi(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Ve(l):(l=Ee(t)?or:ye.current,a.context=Fr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(jl(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&aa.enqueueReplaceState(a,a.state,null),Ds(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var r="",s=t;do r+=Lm(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Fa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ah=typeof WeakMap=="function"?WeakMap:Map;function nd(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ws||(Ws=!0,Il=s),bl(e,t)},r}function sd(e,t,r){r=wt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){bl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){bl(e,t),typeof s!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Uo(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new ah;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=vh.bind(null,e,t,r),t.then(e,e))}function Oo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bo(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Ot(r,t,1))),r.lanes|=1),e)}var lh=Et.ReactCurrentOwner,ke=!1;function ve(e,t,r,s){t.child=e===null?Iu(t,null,r,s):Dr(t,e.child,r,s)}function Vo(e,t,r,s,a){r=r.render;var l=t.ref;return Ar(t,a),s=vi(e,t,r,s,l,a),r=wi(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kt(e,t,a)):(J&&r&&ii(t),t.flags|=1,ve(e,t,s,a),t.child)}function Wo(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!Ri(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,ad(e,t,l,s,a)):(e=js(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:En,r(i,s)&&e.ref===t.ref)return kt(e,t,a)}return t.flags|=1,e=Wt(l,s),e.ref=t.ref,e.return=t,t.child=e}function ad(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(En(l,s)&&e.ref===t.ref)if(ke=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,kt(e,t,a)}return Sl(e,t,r,s,a)}function ld(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(_r,Re),Re|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(_r,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,H(_r,Re),Re|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,H(_r,Re),Re|=s;return ve(e,t,a,r),t.child}function id(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,r,s,a){var l=Ee(r)?or:ye.current;return l=Fr(t,l),Ar(t,a),r=vi(e,t,r,s,l,a),s=wi(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,kt(e,t,a)):(J&&s&&ii(t),t.flags|=1,ve(e,t,r,a),t.child)}function Ho(e,t,r,s,a){if(Ee(r)){var l=!0;As(t)}else l=!1;if(Ar(t,a),t.stateNode===null)ys(e,t),rd(t,r,s),Nl(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Ee(r)?or:ye.current,u=Fr(t,u));var p=r.getDerivedStateFromProps,d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==s||o!==u)&&Do(t,i,s,u),Lt=!1;var g=t.memoizedState;i.state=g,Ds(t,s,i,a),o=t.memoizedState,c!==s||g!==o||Ce.current||Lt?(typeof p=="function"&&(jl(t,r,p,s),o=t.memoizedState),(c=Lt||zo(t,r,c,s,g,o,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=u,s=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,$u(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ke(t.type,c),i.props=u,d=t.pendingProps,g=i.context,o=r.contextType,typeof o=="object"&&o!==null?o=Ve(o):(o=Ee(r)?or:ye.current,o=Fr(t,o));var v=r.getDerivedStateFromProps;(p=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==d||g!==o)&&Do(t,i,s,o),Lt=!1,g=t.memoizedState,i.state=g,Ds(t,s,i,a);var N=t.memoizedState;c!==d||g!==N||Ce.current||Lt?(typeof v=="function"&&(jl(t,r,v,s),N=t.memoizedState),(u=Lt||zo(t,r,u,s,g,N,o)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,N,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,N,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=N),i.props=s,i.state=N,i.context=o,s=u):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return kl(e,t,r,s,l,a)}function kl(e,t,r,s,a,l){id(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&Ro(t,r,!1),kt(e,t,l);s=t.stateNode,lh.current=t;var c=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Dr(t,e.child,null,l),t.child=Dr(t,null,c,l)):ve(e,t,c,l),t.memoizedState=s.state,a&&Ro(t,r,!0),t.child}function od(e){var t=e.stateNode;t.pendingContext?_o(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(e,t.context,!1),pi(e,t.containerInfo)}function Yo(e,t,r,s,a){return zr(),ci(a),t.flags|=256,ve(e,t,r,s),t.child}var Cl={dehydrated:null,treeContext:null,retryLane:0};function El(e){return{baseLanes:e,cachePool:null,transitions:null}}function cd(e,t,r){var s=t.pendingProps,a=Z.current,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),H(Z,a&1),e===null)return vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,l?(s=t.mode,l=t.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=oa(i,s,0,null),e=ir(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=El(r),t.memoizedState=Cl,e):bi(t,i));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return ih(e,t,i,s,c,a,r);if(l){l=s.fallback,i=t.mode,a=e.child,c=a.sibling;var o={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=Wt(a,o),s.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=Wt(c,l):(l=ir(l,i,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,i=e.child.memoizedState,i=i===null?El(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=Cl,s}return l=e.child,e=l.sibling,s=Wt(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function bi(e,t){return t=oa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ss(e,t,r,s){return s!==null&&ci(s),Dr(t,e.child,null,r),e=bi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ih(e,t,r,s,a,l,i){if(r)return t.flags&256?(t.flags&=-257,s=Fa(Error(_(422))),ss(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=oa({mode:"visible",children:s.children},a,0,null),l=ir(l,a,i,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Dr(t,e.child,null,i),t.child.memoizedState=El(i),t.memoizedState=Cl,l);if(!(t.mode&1))return ss(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var c=s.dgst;return s=c,l=Error(_(419)),s=Fa(l,s,void 0),ss(e,t,i,s)}if(c=(i&e.childLanes)!==0,ke||c){if(s=de,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,St(e,a),qe(s,e,a,-1))}return _i(),s=Fa(Error(_(421))),ss(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=wh.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Le=Ut(a.nextSibling),Te=t,J=!0,Je=null,e!==null&&(De[Ue++]=yt,De[Ue++]=vt,De[Ue++]=cr,yt=e.id,vt=e.overflow,cr=t),t=bi(t,s.children),t.flags|=4096,t)}function Qo(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wl(e.return,t,r)}function za(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function ud(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(ve(e,t,s.children,r),s=Z.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qo(e,r,t);else if(e.tag===19)Qo(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(H(Z,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Us(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),za(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Us(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}za(t,!0,r,null,l);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),dr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,r=Wt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oh(e,t,r){switch(t.tag){case 3:od(t),zr();break;case 5:Mu(t);break;case 1:Ee(t.type)&&As(t);break;case 4:pi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;H(Fs,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(H(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?cd(e,t,r):(H(Z,Z.current&1),e=kt(e,t,r),e!==null?e.sibling:null);H(Z,Z.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return ud(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),H(Z,Z.current),s)break;return null;case 22:case 23:return t.lanes=0,ld(e,t,r)}return kt(e,t,r)}var dd,Pl,md,fd;dd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pl=function(){};md=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,ar(ct.current);var l=null;switch(r){case"input":a=Ja(e,a),s=Ja(e,s),l=[];break;case"select":a=te({},a,{value:void 0}),s=te({},s,{value:void 0}),l=[];break;case"textarea":a=Za(e,a),s=Za(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ts)}tl(r,s);var i;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in s){var o=s[u];if(c=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(r||(r={}),r[i]=o[i])}else r||(l||(l=[]),l.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wn.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&Y("scroll",e),l||c===o||(l=[])):(l=l||[]).push(u,o))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};fd=function(e,t,r,s){r!==s&&(t.flags|=4)};function rn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function ch(e,t,r){var s=t.pendingProps;switch(oi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Ee(t.type)&&Is(),ge(t),null;case 3:return s=t.stateNode,Ur(),Q(Ce),Q(ye),xi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(Ml(Je),Je=null))),Pl(e,t),ge(t),null;case 5:gi(t);var a=ar(Tn.current);if(r=t.type,e!==null&&t.stateNode!=null)md(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(_(166));return ge(t),null}if(e=ar(ct.current),rs(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[it]=t,s[Rn]=l,e=(t.mode&1)!==0,r){case"dialog":Y("cancel",s),Y("close",s);break;case"iframe":case"object":case"embed":Y("load",s);break;case"video":case"audio":for(a=0;a<cn.length;a++)Y(cn[a],s);break;case"source":Y("error",s);break;case"img":case"image":case"link":Y("error",s),Y("load",s);break;case"details":Y("toggle",s);break;case"input":to(s,l),Y("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Y("invalid",s);break;case"textarea":no(s,l),Y("invalid",s)}tl(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?s.textContent!==c&&(l.suppressHydrationWarning!==!0&&ts(s.textContent,c,e),a=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&ts(s.textContent,c,e),a=["children",""+c]):wn.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&Y("scroll",s)}switch(r){case"input":Qn(s),ro(s,l,!0);break;case"textarea":Qn(s),so(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Ts)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[it]=t,e[Rn]=s,dd(e,t,!1,!1),t.stateNode=e;e:{switch(i=rl(r,s),r){case"dialog":Y("cancel",e),Y("close",e),a=s;break;case"iframe":case"object":case"embed":Y("load",e),a=s;break;case"video":case"audio":for(a=0;a<cn.length;a++)Y(cn[a],e);a=s;break;case"source":Y("error",e),a=s;break;case"img":case"image":case"link":Y("error",e),Y("load",e),a=s;break;case"details":Y("toggle",e),a=s;break;case"input":to(e,s),a=Ja(e,s),Y("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=te({},s,{value:void 0}),Y("invalid",e);break;case"textarea":no(e,s),a=Za(e,s),Y("invalid",e);break;default:a=s}tl(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?Wc(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Bc(e,o)):l==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&jn(e,o):typeof o=="number"&&jn(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wn.hasOwnProperty(l)?o!=null&&l==="onScroll"&&Y("scroll",e):o!=null&&Ql(e,l,o,i))}switch(r){case"input":Qn(e),ro(e,s,!1);break;case"textarea":Qn(e),so(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ht(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Rr(e,!!s.multiple,l,!1):s.defaultValue!=null&&Rr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ts)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)fd(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(_(166));if(r=ar(Tn.current),ar(ct.current),rs(t)){if(s=t.stateNode,r=t.memoizedProps,s[it]=t,(l=s.nodeValue!==r)&&(e=Te,e!==null))switch(e.tag){case 3:ts(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ts(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[it]=t,t.stateNode=s}return ge(t),null;case 13:if(Q(Z),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Le!==null&&t.mode&1&&!(t.flags&128))Lu(),zr(),t.flags|=98560,l=!1;else if(l=rs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(_(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(_(317));l[it]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),l=!1}else Je!==null&&(Ml(Je),Je=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ce===0&&(ce=3):_i())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Ur(),Pl(e,t),e===null&&Pn(t.stateNode.containerInfo),ge(t),null;case 10:return mi(t.type._context),ge(t),null;case 17:return Ee(t.type)&&Is(),ge(t),null;case 19:if(Q(Z),l=t.memoizedState,l===null)return ge(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)rn(l,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Us(e),i!==null){for(t.flags|=128,rn(l,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(Z,Z.current&1|2),t.child}e=e.sibling}l.tail!==null&&se()>Br&&(t.flags|=128,s=!0,rn(l,!1),t.lanes=4194304)}else{if(!s)if(e=Us(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),rn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!J)return ge(t),null}else 2*se()-l.renderingStartTime>Br&&r!==1073741824&&(t.flags|=128,s=!0,rn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=se(),t.sibling=null,r=Z.current,H(Z,s?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return Pi(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Re&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function uh(e,t){switch(oi(t),t.tag){case 1:return Ee(t.type)&&Is(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),Q(Ce),Q(ye),xi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gi(t),null;case 13:if(Q(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Z),null;case 4:return Ur(),null;case 10:return mi(t.type._context),null;case 22:case 23:return Pi(),null;case 24:return null;default:return null}}var as=!1,xe=!1,dh=typeof WeakSet=="function"?WeakSet:Set,R=null;function Pr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){re(e,t,s)}else r.current=null}function _l(e,t,r){try{r()}catch(s){re(e,t,s)}}var Ko=!1;function mh(e,t){if(ml=_s,e=yu(),li(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,c=-1,o=-1,u=0,p=0,d=e,g=null;t:for(;;){for(var v;d!==r||a!==0&&d.nodeType!==3||(c=i+a),d!==l||s!==0&&d.nodeType!==3||(o=i+s),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)g=d,d=v;for(;;){if(d===e)break t;if(g===r&&++u===a&&(c=i),g===l&&++p===s&&(o=i),(v=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=v}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(fl={focusedElem:e,selectionRange:r},_s=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,E=N.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ke(t.type,j),E);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(y){re(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return N=Ko,Ko=!1,N}function xn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&_l(t,r,l)}a=a.next}while(a!==s)}}function la(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Rl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hd(e){var t=e.alternate;t!==null&&(e.alternate=null,hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Rn],delete t[gl],delete t[Kf],delete t[Gf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pd(e){return e.tag===5||e.tag===3||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ll(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ts));else if(s!==4&&(e=e.child,e!==null))for(Ll(e,t,r),e=e.sibling;e!==null;)Ll(e,t,r),e=e.sibling}function Tl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Tl(e,t,r),e=e.sibling;e!==null;)Tl(e,t,r),e=e.sibling}var me=null,Ge=!1;function _t(e,t,r){for(r=r.child;r!==null;)gd(e,t,r),r=r.sibling}function gd(e,t,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(qs,r)}catch{}switch(r.tag){case 5:xe||Pr(r,t);case 6:var s=me,a=Ge;me=null,_t(e,t,r),me=s,Ge=a,me!==null&&(Ge?(e=me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(Ge?(e=me,r=r.stateNode,e.nodeType===8?La(e.parentNode,r):e.nodeType===1&&La(e,r),kn(e)):La(me,r.stateNode));break;case 4:s=me,a=Ge,me=r.stateNode.containerInfo,Ge=!0,_t(e,t,r),me=s,Ge=a;break;case 0:case 11:case 14:case 15:if(!xe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&_l(r,t,i),a=a.next}while(a!==s)}_t(e,t,r);break;case 1:if(!xe&&(Pr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){re(r,t,c)}_t(e,t,r);break;case 21:_t(e,t,r);break;case 22:r.mode&1?(xe=(s=xe)||r.memoizedState!==null,_t(e,t,r),xe=s):_t(e,t,r);break;default:_t(e,t,r)}}function Jo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dh),t.forEach(function(s){var a=jh.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Qe(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:me=c.stateNode,Ge=!1;break e;case 3:me=c.stateNode.containerInfo,Ge=!0;break e;case 4:me=c.stateNode.containerInfo,Ge=!0;break e}c=c.return}if(me===null)throw Error(_(160));gd(l,i,a),me=null,Ge=!1;var o=a.alternate;o!==null&&(o.return=null),a.return=null}catch(u){re(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}function xd(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),at(e),s&4){try{xn(3,e,e.return),la(3,e)}catch(j){re(e,e.return,j)}try{xn(5,e,e.return)}catch(j){re(e,e.return,j)}}break;case 1:Qe(t,e),at(e),s&512&&r!==null&&Pr(r,r.return);break;case 5:if(Qe(t,e),at(e),s&512&&r!==null&&Pr(r,r.return),e.flags&32){var a=e.stateNode;try{jn(a,"")}catch(j){re(e,e.return,j)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Dc(a,l),rl(c,i);var u=rl(c,l);for(i=0;i<o.length;i+=2){var p=o[i],d=o[i+1];p==="style"?Wc(a,d):p==="dangerouslySetInnerHTML"?Bc(a,d):p==="children"?jn(a,d):Ql(a,p,d,u)}switch(c){case"input":Xa(a,l);break;case"textarea":Uc(a,l);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Rr(a,!!l.multiple,v,!1):g!==!!l.multiple&&(l.defaultValue!=null?Rr(a,!!l.multiple,l.defaultValue,!0):Rr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Rn]=l}catch(j){re(e,e.return,j)}}break;case 6:if(Qe(t,e),at(e),s&4){if(e.stateNode===null)throw Error(_(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){re(e,e.return,j)}}break;case 3:if(Qe(t,e),at(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{kn(t.containerInfo)}catch(j){re(e,e.return,j)}break;case 4:Qe(t,e),at(e);break;case 13:Qe(t,e),at(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ci=se())),s&4&&Jo(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(xe=(u=xe)||p,Qe(t,e),xe=u):Qe(t,e),at(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(R=e,p=e.child;p!==null;){for(d=R=p;R!==null;){switch(g=R,v=g.child,g.tag){case 0:case 11:case 14:case 15:xn(4,g,g.return);break;case 1:Pr(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){s=g,r=g.return;try{t=s,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){re(s,r,j)}}break;case 5:Pr(g,g.return);break;case 22:if(g.memoizedState!==null){qo(d);continue}}v!==null?(v.return=g,R=v):qo(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{a=d.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=d.stateNode,o=d.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Vc("display",i))}catch(j){re(e,e.return,j)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(j){re(e,e.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qe(t,e),at(e),s&4&&Jo(e);break;case 21:break;default:Qe(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pd(r)){var s=r;break e}r=r.return}throw Error(_(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(jn(a,""),s.flags&=-33);var l=Go(e);Tl(e,l,a);break;case 3:case 4:var i=s.stateNode.containerInfo,c=Go(e);Ll(e,c,i);break;default:throw Error(_(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fh(e,t,r){R=e,yd(e)}function yd(e,t,r){for(var s=(e.mode&1)!==0;R!==null;){var a=R,l=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||as;if(!i){var c=a.alternate,o=c!==null&&c.memoizedState!==null||xe;c=as;var u=xe;if(as=i,(xe=o)&&!u)for(R=a;R!==null;)i=R,o=i.child,i.tag===22&&i.memoizedState!==null?Zo(a):o!==null?(o.return=i,R=o):Zo(a);for(;l!==null;)R=l,yd(l),l=l.sibling;R=a,as=c,xe=u}Xo(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,R=l):Xo(e)}}function Xo(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||la(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!xe)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ke(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&$o(t,l,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$o(t,i,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&kn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}xe||t.flags&512&&Rl(t)}catch(g){re(t,t.return,g)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function qo(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function Zo(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{la(4,t)}catch(o){re(t,r,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(o){re(t,a,o)}}var l=t.return;try{Rl(t)}catch(o){re(t,l,o)}break;case 5:var i=t.return;try{Rl(t)}catch(o){re(t,i,o)}}}catch(o){re(t,t.return,o)}if(t===e){R=null;break}var c=t.sibling;if(c!==null){c.return=t.return,R=c;break}R=t.return}}var hh=Math.ceil,Vs=Et.ReactCurrentDispatcher,Si=Et.ReactCurrentOwner,Be=Et.ReactCurrentBatchConfig,O=0,de=null,ie=null,fe=0,Re=0,_r=Kt(0),ce=0,Mn=null,dr=0,ia=0,ki=0,yn=null,Se=null,Ci=0,Br=1/0,gt=null,Ws=!1,Il=null,Bt=null,ls=!1,Mt=null,Hs=0,vn=0,Al=null,vs=-1,ws=0;function we(){return O&6?se():vs!==-1?vs:vs=se()}function Vt(e){return e.mode&1?O&2&&fe!==0?fe&-fe:Xf.transition!==null?(ws===0&&(ws=ru()),ws):(e=V,e!==0||(e=window.event,e=e===void 0?16:cu(e.type)),e):1}function qe(e,t,r,s){if(50<vn)throw vn=0,Al=null,Error(_(185));Dn(e,r,s),(!(O&2)||e!==de)&&(e===de&&(!(O&2)&&(ia|=r),ce===4&&It(e,fe)),Pe(e,s),r===1&&O===0&&!(t.mode&1)&&(Br=se()+500,na&&Gt()))}function Pe(e,t){var r=e.callbackNode;Jm(e,t);var s=Ps(e,e===de?fe:0);if(s===0)r!==null&&io(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&io(r),t===1)e.tag===0?Jf(ec.bind(null,e)):Pu(ec.bind(null,e)),Yf(function(){!(O&6)&&Gt()}),r=null;else{switch(nu(s)){case 1:r=ql;break;case 4:r=eu;break;case 16:r=Es;break;case 536870912:r=tu;break;default:r=Es}r=Cd(r,vd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vd(e,t){if(vs=-1,ws=0,O&6)throw Error(_(327));var r=e.callbackNode;if($r()&&e.callbackNode!==r)return null;var s=Ps(e,e===de?fe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ys(e,s);else{t=s;var a=O;O|=2;var l=jd();(de!==e||fe!==t)&&(gt=null,Br=se()+500,lr(e,t));do try{xh();break}catch(c){wd(e,c)}while(1);di(),Vs.current=l,O=a,ie!==null?t=0:(de=null,fe=0,t=ce)}if(t!==0){if(t===2&&(a=il(e),a!==0&&(s=a,t=$l(e,a))),t===1)throw r=Mn,lr(e,0),It(e,s),Pe(e,se()),r;if(t===6)It(e,s);else{if(a=e.current.alternate,!(s&30)&&!ph(a)&&(t=Ys(e,s),t===2&&(l=il(e),l!==0&&(s=l,t=$l(e,l))),t===1))throw r=Mn,lr(e,0),It(e,s),Pe(e,se()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(_(345));case 2:rr(e,Se,gt);break;case 3:if(It(e,s),(s&130023424)===s&&(t=Ci+500-se(),10<t)){if(Ps(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){we(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pl(rr.bind(null,e,Se,gt),t);break}rr(e,Se,gt);break;case 4:if(It(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-Xe(s);l=1<<i,i=t[i],i>a&&(a=i),s&=~l}if(s=a,s=se()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*hh(s/1960))-s,10<s){e.timeoutHandle=pl(rr.bind(null,e,Se,gt),s);break}rr(e,Se,gt);break;case 5:rr(e,Se,gt);break;default:throw Error(_(329))}}}return Pe(e,se()),e.callbackNode===r?vd.bind(null,e):null}function $l(e,t){var r=yn;return e.current.memoizedState.isDehydrated&&(lr(e,t).flags|=256),e=Ys(e,t),e!==2&&(t=Se,Se=r,t!==null&&Ml(t)),e}function Ml(e){Se===null?Se=e:Se.push.apply(Se,e)}function ph(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!Ze(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~ki,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xe(t),s=1<<r;e[r]=-1,t&=~s}}function ec(e){if(O&6)throw Error(_(327));$r();var t=Ps(e,0);if(!(t&1))return Pe(e,se()),null;var r=Ys(e,t);if(e.tag!==0&&r===2){var s=il(e);s!==0&&(t=s,r=$l(e,s))}if(r===1)throw r=Mn,lr(e,0),It(e,t),Pe(e,se()),r;if(r===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,Se,gt),Pe(e,se()),null}function Ei(e,t){var r=O;O|=1;try{return e(t)}finally{O=r,O===0&&(Br=se()+500,na&&Gt())}}function mr(e){Mt!==null&&Mt.tag===0&&!(O&6)&&$r();var t=O;O|=1;var r=Be.transition,s=V;try{if(Be.transition=null,V=1,e)return e()}finally{V=s,Be.transition=r,O=t,!(O&6)&&Gt()}}function Pi(){Re=_r.current,Q(_r)}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hf(r)),ie!==null)for(r=ie.return;r!==null;){var s=r;switch(oi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Is();break;case 3:Ur(),Q(Ce),Q(ye),xi();break;case 5:gi(s);break;case 4:Ur();break;case 13:Q(Z);break;case 19:Q(Z);break;case 10:mi(s.type._context);break;case 22:case 23:Pi()}r=r.return}if(de=e,ie=e=Wt(e.current,null),fe=Re=t,ce=0,Mn=null,ki=ia=dr=0,Se=yn=null,sr!==null){for(t=0;t<sr.length;t++)if(r=sr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,s.next=i}r.pending=s}sr=null}return e}function wd(e,t){do{var r=ie;try{if(di(),gs.current=Bs,Os){for(var s=ee.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Os=!1}if(ur=0,ue=oe=ee=null,gn=!1,In=0,Si.current=null,r===null||r.return===null){ce=1,Mn=t,ie=null;break}e:{var l=e,i=r.return,c=r,o=t;if(t=fe,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,p=c,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Oo(i);if(v!==null){v.flags&=-257,Bo(v,i,c,l,t),v.mode&1&&Uo(l,u,t),t=v,o=u;var N=t.updateQueue;if(N===null){var j=new Set;j.add(o),t.updateQueue=j}else N.add(o);break e}else{if(!(t&1)){Uo(l,u,t),_i();break e}o=Error(_(426))}}else if(J&&c.mode&1){var E=Oo(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Bo(E,i,c,l,t),ci(Or(o,c));break e}}l=o=Or(o,c),ce!==4&&(ce=2),yn===null?yn=[l]:yn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=nd(l,o,t);Ao(l,h);break e;case 1:c=o;var m=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bt===null||!Bt.has(f)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=sd(l,c,t);Ao(l,y);break e}}l=l.return}while(l!==null)}bd(r)}catch(w){t=w,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(1)}function jd(){var e=Vs.current;return Vs.current=Bs,e===null?Bs:e}function _i(){(ce===0||ce===3||ce===2)&&(ce=4),de===null||!(dr&268435455)&&!(ia&268435455)||It(de,fe)}function Ys(e,t){var r=O;O|=2;var s=jd();(de!==e||fe!==t)&&(gt=null,lr(e,t));do try{gh();break}catch(a){wd(e,a)}while(1);if(di(),O=r,Vs.current=s,ie!==null)throw Error(_(261));return de=null,fe=0,ce}function gh(){for(;ie!==null;)Nd(ie)}function xh(){for(;ie!==null&&!Om();)Nd(ie)}function Nd(e){var t=kd(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?bd(e):ie=t,Si.current=null}function bd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uh(r,t),r!==null){r.flags&=32767,ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ie=null;return}}else if(r=ch(r,t,Re),r!==null){ie=r;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);ce===0&&(ce=5)}function rr(e,t,r){var s=V,a=Be.transition;try{Be.transition=null,V=1,yh(e,t,r,s)}finally{Be.transition=a,V=s}return null}function yh(e,t,r,s){do $r();while(Mt!==null);if(O&6)throw Error(_(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Xm(e,l),e===de&&(ie=de=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ls||(ls=!0,Cd(Es,function(){return $r(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Be.transition,Be.transition=null;var i=V;V=1;var c=O;O|=4,Si.current=null,mh(e,r),xd(r,e),zf(fl),_s=!!ml,fl=ml=null,e.current=r,fh(r),Bm(),O=c,V=i,Be.transition=l}else e.current=r;if(ls&&(ls=!1,Mt=e,Hs=a),l=e.pendingLanes,l===0&&(Bt=null),Hm(r.stateNode),Pe(e,se()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ws)throw Ws=!1,e=Il,Il=null,e;return Hs&1&&e.tag!==0&&$r(),l=e.pendingLanes,l&1?e===Al?vn++:(vn=0,Al=e):vn=0,Gt(),null}function $r(){if(Mt!==null){var e=nu(Hs),t=Be.transition,r=V;try{if(Be.transition=null,V=16>e?16:e,Mt===null)var s=!1;else{if(e=Mt,Mt=null,Hs=0,O&6)throw Error(_(331));var a=O;for(O|=4,R=e.current;R!==null;){var l=R,i=l.child;if(R.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(R=u;R!==null;){var p=R;switch(p.tag){case 0:case 11:case 15:xn(8,p,l)}var d=p.child;if(d!==null)d.return=p,R=d;else for(;R!==null;){p=R;var g=p.sibling,v=p.return;if(hd(p),p===u){R=null;break}if(g!==null){g.return=v,R=g;break}R=v}}}var N=l.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var E=j.sibling;j.sibling=null,j=E}while(j!==null)}}R=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,R=i;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:xn(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,R=h;break e}R=l.return}}var m=e.current;for(R=m;R!==null;){i=R;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,R=f;else e:for(i=m;R!==null;){if(c=R,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:la(9,c)}}catch(w){re(c,c.return,w)}if(c===i){R=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,R=y;break e}R=c.return}}if(O=a,Gt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(qs,e)}catch{}s=!0}return s}finally{V=r,Be.transition=t}}return!1}function tc(e,t,r){t=Or(r,t),t=nd(e,t,1),e=Ot(e,t,1),t=we(),e!==null&&(Dn(e,1,t),Pe(e,t))}function re(e,t,r){if(e.tag===3)tc(e,e,r);else for(;t!==null;){if(t.tag===3){tc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Bt===null||!Bt.has(s))){e=Or(r,e),e=sd(t,e,1),t=Ot(t,e,1),e=we(),t!==null&&(Dn(t,1,e),Pe(t,e));break}}t=t.return}}function vh(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(fe&r)===r&&(ce===4||ce===3&&(fe&130023424)===fe&&500>se()-Ci?lr(e,0):ki|=r),Pe(e,t)}function Sd(e,t){t===0&&(e.mode&1?(t=Jn,Jn<<=1,!(Jn&130023424)&&(Jn=4194304)):t=1);var r=we();e=St(e,t),e!==null&&(Dn(e,t,r),Pe(e,r))}function wh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Sd(e,r)}function jh(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(_(314))}s!==null&&s.delete(t),Sd(e,r)}var kd;kd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)ke=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ke=!1,oh(e,t,r);ke=!!(e.flags&131072)}else ke=!1,J&&t.flags&1048576&&_u(t,Ms,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ys(e,t),e=t.pendingProps;var a=Fr(t,ye.current);Ar(t,r),a=vi(null,t,s,e,a,r);var l=wi();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ee(s)?(l=!0,As(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hi(t),a.updater=aa,t.stateNode=a,a._reactInternals=t,Nl(t,s,e,r),t=kl(null,t,s,!0,l,r)):(t.tag=0,J&&l&&ii(t),ve(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=bh(s),e=Ke(s,e),a){case 0:t=Sl(null,t,s,e,r);break e;case 1:t=Ho(null,t,s,e,r);break e;case 11:t=Vo(null,t,s,e,r);break e;case 14:t=Wo(null,t,s,Ke(s.type,e),r);break e}throw Error(_(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ke(s,a),Sl(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ke(s,a),Ho(e,t,s,a,r);case 3:e:{if(od(t),e===null)throw Error(_(387));s=t.pendingProps,l=t.memoizedState,a=l.element,$u(e,t),Ds(t,s,null,r);var i=t.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Or(Error(_(423)),t),t=Yo(e,t,s,r,a);break e}else if(s!==a){a=Or(Error(_(424)),t),t=Yo(e,t,s,r,a);break e}else for(Le=Ut(t.stateNode.containerInfo.firstChild),Te=t,J=!0,Je=null,r=Iu(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zr(),s===a){t=kt(e,t,r);break e}ve(e,t,s,r)}t=t.child}return t;case 5:return Mu(t),e===null&&vl(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,hl(s,a)?i=null:l!==null&&hl(s,l)&&(t.flags|=32),id(e,t),ve(e,t,i,r),t.child;case 6:return e===null&&vl(t),null;case 13:return cd(e,t,r);case 4:return pi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Dr(t,null,s,r):ve(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ke(s,a),Vo(e,t,s,a,r);case 7:return ve(e,t,t.pendingProps,r),t.child;case 8:return ve(e,t,t.pendingProps.children,r),t.child;case 12:return ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,H(Fs,s._currentValue),s._currentValue=i,l!==null)if(Ze(l.value,i)){if(l.children===a.children&&!Ce.current){t=kt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===s){if(l.tag===1){o=wt(-1,r&-r),o.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?o.next=o:(o.next=p.next,p.next=o),u.pending=o}}l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),wl(l.return,r,t),c.lanes|=r;break}o=o.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(_(341));i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),wl(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}ve(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Ar(t,r),a=Ve(a),s=s(a),t.flags|=1,ve(e,t,s,r),t.child;case 14:return s=t.type,a=Ke(s,t.pendingProps),a=Ke(s.type,a),Wo(e,t,s,a,r);case 15:return ad(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ke(s,a),ys(e,t),t.tag=1,Ee(s)?(e=!0,As(t)):e=!1,Ar(t,r),rd(t,s,a),Nl(t,s,a,r),kl(null,t,s,!0,e,r);case 19:return ud(e,t,r);case 22:return ld(e,t,r)}throw Error(_(156,t.tag))};function Cd(e,t){return Zc(e,t)}function Nh(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,r,s){return new Nh(e,t,r,s)}function Ri(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bh(e){if(typeof e=="function")return Ri(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gl)return 11;if(e===Jl)return 14}return 2}function Wt(e,t){var r=e.alternate;return r===null?(r=Oe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function js(e,t,r,s,a,l){var i=2;if(s=e,typeof e=="function")Ri(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vr:return ir(r.children,a,l,t);case Kl:i=8,a|=8;break;case Ya:return e=Oe(12,r,t,a|2),e.elementType=Ya,e.lanes=l,e;case Qa:return e=Oe(13,r,t,a),e.elementType=Qa,e.lanes=l,e;case Ka:return e=Oe(19,r,t,a),e.elementType=Ka,e.lanes=l,e;case Mc:return oa(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ac:i=10;break e;case $c:i=9;break e;case Gl:i=11;break e;case Jl:i=14;break e;case Rt:i=16,s=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Oe(i,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function ir(e,t,r,s){return e=Oe(7,e,s,t),e.lanes=r,e}function oa(e,t,r,s){return e=Oe(22,e,s,t),e.elementType=Mc,e.lanes=r,e.stateNode={isHidden:!1},e}function Da(e,t,r){return e=Oe(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sh(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Li(e,t,r,s,a,l,i,c,o){return e=new Sh(e,t,r,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Oe(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hi(l),e}function kh(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Ed(e){if(!e)return Yt;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ee(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var r=e.type;if(Ee(r))return Eu(e,r,t)}return t}function Pd(e,t,r,s,a,l,i,c,o){return e=Li(r,s,!0,e,a,l,i,c,o),e.context=Ed(null),r=e.current,s=we(),a=Vt(r),l=wt(s,a),l.callback=t??null,Ot(r,l,a),e.current.lanes=a,Dn(e,a,s),Pe(e,s),e}function ca(e,t,r,s){var a=t.current,l=we(),i=Vt(a);return r=Ed(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(l,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ot(a,t,i),e!==null&&(qe(e,a,i,l),ps(e,a,i)),i}function Qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ti(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function Ch(){return null}var _d=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ii(e){this._internalRoot=e}ua.prototype.render=Ii.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));ca(e,t,null,null)};ua.prototype.unmount=Ii.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){ca(null,e,null,null)}),t[bt]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=lu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tt.length&&t!==0&&t<Tt[r].priority;r++);Tt.splice(r,0,e),r===0&&ou(e)}};function Ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function Eh(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var u=Qs(i);l.call(u)}}var i=Pd(t,s,e,0,null,!1,!1,"",nc);return e._reactRootContainer=i,e[bt]=i.current,Pn(e.nodeType===8?e.parentNode:e),mr(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var c=s;s=function(){var u=Qs(o);c.call(u)}}var o=Li(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=o,e[bt]=o.current,Pn(e.nodeType===8?e.parentNode:e),mr(function(){ca(t,o,r,s)}),o}function ma(e,t,r,s,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var c=a;a=function(){var o=Qs(i);c.call(o)}}ca(t,i,e,a)}else i=Eh(r,t,e,a,s);return Qs(i)}su=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=on(t.pendingLanes);r!==0&&(Zl(t,r|1),Pe(t,se()),!(O&6)&&(Br=se()+500,Gt()))}break;case 13:mr(function(){var s=St(e,1);if(s!==null){var a=we();qe(s,e,1,a)}}),Ti(e,1)}};ei=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var r=we();qe(t,e,134217728,r)}Ti(e,134217728)}};au=function(e){if(e.tag===13){var t=Vt(e),r=St(e,t);if(r!==null){var s=we();qe(r,e,t,s)}Ti(e,t)}};lu=function(){return V};iu=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};sl=function(e,t,r){switch(t){case"input":if(Xa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=ra(s);if(!a)throw Error(_(90));zc(s),Xa(s,a)}}}break;case"textarea":Uc(e,r);break;case"select":t=r.value,t!=null&&Rr(e,!!r.multiple,t,!1)}};Qc=Ei;Kc=mr;var Ph={usingClientEntryPoint:!1,Events:[On,br,ra,Hc,Yc,Ei]},nn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_h={bundleType:nn.bundleType,version:nn.version,rendererPackageName:nn.rendererPackageName,rendererConfig:nn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xc(e),e===null?null:e.stateNode},findFiberByHostInstance:nn.findFiberByHostInstance||Ch,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{qs=is.inject(_h),ot=is}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ph;Ae.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ai(t))throw Error(_(200));return kh(e,t,null,r)};Ae.createRoot=function(e,t){if(!Ai(e))throw Error(_(299));var r=!1,s="",a=_d;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Li(e,1,!1,null,null,r,!1,s,a),e[bt]=t.current,Pn(e.nodeType===8?e.parentNode:e),new Ii(t)};Ae.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Xc(t),e=e===null?null:e.stateNode,e};Ae.flushSync=function(e){return mr(e)};Ae.hydrate=function(e,t,r){if(!da(t))throw Error(_(200));return ma(null,e,t,!0,r)};Ae.hydrateRoot=function(e,t,r){if(!Ai(e))throw Error(_(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",i=_d;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Pd(t,null,e,1,r??null,a,!1,l,i),e[bt]=t.current,Pn(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ua(t)};Ae.render=function(e,t,r){if(!da(t))throw Error(_(200));return ma(null,e,t,!1,r)};Ae.unmountComponentAtNode=function(e){if(!da(e))throw Error(_(40));return e._reactRootContainer?(mr(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Ae.unstable_batchedUpdates=Ei;Ae.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!da(r))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return ma(e,t,r,!1,s)};Ae.version="18.3.1-next-f1338f8080-20240426";function Rd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rd)}catch(e){console.error(e)}}Rd(),Rc.exports=Ae;var Rh=Rc.exports,sc=Rh;Wa.createRoot=sc.createRoot,Wa.hydrateRoot=sc.hydrateRoot;const Lh="modulepreload",Th=function(e){return"/"+e},ac={},Ld=function(t,r,s){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(l=>{if(l=Th(l),l in ac)return;ac[l]=!0;const i=l.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!s)for(let p=a.length-1;p>=0;p--){const d=a[p];if(d.href===l&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":Lh,i||(u.as="script",u.crossOrigin=""),u.href=l,document.head.appendChild(u),i)return new Promise((p,d)=>{u.addEventListener("load",p),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l})};var lc="popstate";function Ih(e={}){function t(s,a){let{pathname:l,search:i,hash:c}=s.location;return Fl("",{pathname:l,search:i,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Fn(a)}return $h(t,r,null,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function et(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ah(){return Math.random().toString(36).substring(2,10)}function ic(e,t){return{usr:e.state,key:e.key,idx:t}}function Fl(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yr(t):t,state:r,key:t&&t.key||s||Ah()}}function Fn({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function $h(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,i=a.history,c="POP",o=null,u=p();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function p(){return(i.state||{idx:null}).idx}function d(){c="POP";let E=p(),h=E==null?null:E-u;u=E,o&&o({action:c,location:j.location,delta:h})}function g(E,h){c="PUSH";let m=Fl(j.location,E,h);r&&r(m,E),u=p()+1;let f=ic(m,u),y=j.createHref(m);try{i.pushState(f,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(y)}l&&o&&o({action:c,location:j.location,delta:1})}function v(E,h){c="REPLACE";let m=Fl(j.location,E,h);r&&r(m,E),u=p();let f=ic(m,u),y=j.createHref(m);i.replaceState(f,"",y),l&&o&&o({action:c,location:j.location,delta:0})}function N(E){return Mh(E)}let j={get action(){return c},get location(){return e(a,i)},listen(E){if(o)throw new Error("A history only accepts one active listener");return a.addEventListener(lc,d),o=E,()=>{a.removeEventListener(lc,d),o=null}},createHref(E){return t(a,E)},createURL:N,encodeLocation(E){let h=N(E);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:v,go(E){return i.go(E)}};return j}function Mh(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),X(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Fn(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Td(e,t,r="/"){return Fh(e,t,r,!1)}function Fh(e,t,r,s){let a=typeof t=="string"?Yr(t):t,l=Ct(a.pathname||"/",r);if(l==null)return null;let i=Id(e);zh(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let u=Gh(l);c=Qh(i[o],u,s)}return c}function Id(e,t=[],r=[],s=""){let a=(l,i,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(X(o.relativePath.startsWith(s),`Absolute route path "${o.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(s.length));let u=jt([s,o.relativePath]),p=r.concat(o);l.children&&l.children.length>0&&(X(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Id(l.children,t,p,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Hh(u,l.index),routesMeta:p})};return e.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,i);else for(let o of Ad(l.path))a(l,i,o)}),t}function Ad(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let i=Ad(s.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),a&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function zh(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yh(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Dh=/^:[\w-]+$/,Uh=3,Oh=2,Bh=1,Vh=10,Wh=-2,oc=e=>e==="*";function Hh(e,t){let r=e.split("/"),s=r.length;return r.some(oc)&&(s+=Wh),t&&(s+=Oh),r.filter(a=>!oc(a)).reduce((a,l)=>a+(Dh.test(l)?Uh:l===""?Bh:Vh),s)}function Yh(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Qh(e,t,r=!1){let{routesMeta:s}=e,a={},l="/",i=[];for(let c=0;c<s.length;++c){let o=s[c],u=c===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",d=Ks({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},p),g=o.route;if(!d&&u&&r&&!s[s.length-1].route.index&&(d=Ks({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},p)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:jt([l,d.pathname]),pathnameBase:Zh(jt([l,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(l=jt([l,d.pathnameBase]))}return i}function Ks(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Kh(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((u,{paramName:p,isOptional:d},g)=>{if(p==="*"){let N=c[g]||"";i=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const v=c[g];return d&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:e}}function Kh(e,t=!1,r=!0){et(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(s.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Gh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return et(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ct(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Jh(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Yr(e):e;return{pathname:r?r.startsWith("/")?r:Xh(r,t):t,search:ep(s),hash:tp(a)}}function Xh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Oa(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qh(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $i(e){let t=qh(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Mi(e,t,r,s=!1){let a;typeof e=="string"?a=Yr(e):(a={...e},X(!a.pathname||!a.pathname.includes("?"),Oa("?","pathname","search",a)),X(!a.pathname||!a.pathname.includes("#"),Oa("#","pathname","hash",a)),X(!a.search||!a.search.includes("#"),Oa("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,c;if(i==null)c=r;else{let d=t.length-1;if(!s&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),d-=1;a.pathname=g.join("/")}c=d>=0?t[d]:"/"}let o=Jh(a,c),u=i&&i!=="/"&&i.endsWith("/"),p=(l||i===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(u||p)&&(o.pathname+="/"),o}var jt=e=>e.join("/").replace(/\/\/+/g,"/"),Zh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ep=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $d=["POST","PUT","PATCH","DELETE"];new Set($d);var np=["GET",...$d];new Set(np);var Qr=x.createContext(null);Qr.displayName="DataRouter";var fa=x.createContext(null);fa.displayName="DataRouterState";x.createContext(!1);var Md=x.createContext({isTransitioning:!1});Md.displayName="ViewTransition";var sp=x.createContext(new Map);sp.displayName="Fetchers";var ap=x.createContext(null);ap.displayName="Await";var tt=x.createContext(null);tt.displayName="Navigation";var Vn=x.createContext(null);Vn.displayName="Location";var rt=x.createContext({outlet:null,matches:[],isDataRoute:!1});rt.displayName="Route";var Fi=x.createContext(null);Fi.displayName="RouteError";function lp(e,{relative:t}={}){X(Kr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=x.useContext(tt),{hash:a,pathname:l,search:i}=Wn(e,{relative:t}),c=l;return r!=="/"&&(c=l==="/"?r:jt([r,l])),s.createHref({pathname:c,search:i,hash:a})}function Kr(){return x.useContext(Vn)!=null}function He(){return X(Kr(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Vn).location}var Fd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zd(e){x.useContext(tt).static||x.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=x.useContext(rt);return e?vp():ip()}function ip(){X(Kr(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Qr),{basename:t,navigator:r}=x.useContext(tt),{matches:s}=x.useContext(rt),{pathname:a}=He(),l=JSON.stringify($i(s)),i=x.useRef(!1);return zd(()=>{i.current=!0}),x.useCallback((o,u={})=>{if(et(i.current,Fd),!i.current)return;if(typeof o=="number"){r.go(o);return}let p=Mi(o,JSON.parse(l),a,u.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:jt([t,p.pathname])),(u.replace?r.replace:r.push)(p,u.state,u)},[t,r,l,a,e])}x.createContext(null);function zi(){let{matches:e}=x.useContext(rt),t=e[e.length-1];return t?t.params:{}}function Wn(e,{relative:t}={}){let{matches:r}=x.useContext(rt),{pathname:s}=He(),a=JSON.stringify($i(r));return x.useMemo(()=>Mi(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function op(e,t){return Dd(e,t)}function Dd(e,t,r,s){var h;X(Kr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(tt),{matches:l}=x.useContext(rt),i=l[l.length-1],c=i?i.params:{},o=i?i.pathname:"/",u=i?i.pathnameBase:"/",p=i&&i.route;{let m=p&&p.path||"";Ud(o,!p||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let d=He(),g;if(t){let m=typeof t=="string"?Yr(t):t;X(u==="/"||((h=m.pathname)==null?void 0:h.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${m.pathname}" was given in the \`location\` prop.`),g=m}else g=d;let v=g.pathname||"/",N=v;if(u!=="/"){let m=u.replace(/^\//,"").split("/");N="/"+v.replace(/^\//,"").split("/").slice(m.length).join("/")}let j=Td(e,{pathname:N});et(p||j!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),et(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=fp(j&&j.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:jt([u,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:jt([u,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),l,r,s);return t&&E?x.createElement(Vn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function cp(){let e=yp(),t=rp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,i)}var up=x.createElement(cp,null),dp=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(rt.Provider,{value:this.props.routeContext},x.createElement(Fi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mp({routeContext:e,match:t,children:r}){let s=x.useContext(Qr);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(rt.Provider,{value:e},r)}function fp(e,t=[],r=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=r==null?void 0:r.errors;if(l!=null){let o=a.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);X(o>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,o+1))}let i=!1,c=-1;if(r)for(let o=0;o<a.length;o++){let u=a[o];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=o),u.route.id){let{loaderData:p,errors:d}=r,g=u.route.loader&&!p.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||g){i=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((o,u,p)=>{let d,g=!1,v=null,N=null;r&&(d=l&&u.route.id?l[u.route.id]:void 0,v=u.route.errorElement||up,i&&(c<0&&p===0?(Ud("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,N=null):c===p&&(g=!0,N=u.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,p+1)),E=()=>{let h;return d?h=v:g?h=N:u.route.Component?h=x.createElement(u.route.Component,null):u.route.element?h=u.route.element:h=o,x.createElement(mp,{match:u,routeContext:{outlet:o,matches:j,isDataRoute:r!=null},children:h})};return r&&(u.route.ErrorBoundary||u.route.errorElement||p===0)?x.createElement(dp,{location:r.location,revalidation:r.revalidation,component:v,error:d,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):E()},null)}function Di(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hp(e){let t=x.useContext(Qr);return X(t,Di(e)),t}function pp(e){let t=x.useContext(fa);return X(t,Di(e)),t}function gp(e){let t=x.useContext(rt);return X(t,Di(e)),t}function Ui(e){let t=gp(e),r=t.matches[t.matches.length-1];return X(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function xp(){return Ui("useRouteId")}function yp(){var s;let e=x.useContext(Fi),t=pp("useRouteError"),r=Ui("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function vp(){let{router:e}=hp("useNavigate"),t=Ui("useNavigate"),r=x.useRef(!1);return zd(()=>{r.current=!0}),x.useCallback(async(a,l={})=>{et(r.current,Fd),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var cc={};function Ud(e,t,r){!t&&!cc[e]&&(cc[e]=!0,et(!1,r))}x.memo(wp);function wp({routes:e,future:t,state:r}){return Dd(e,void 0,r,t)}function uc({to:e,replace:t,state:r,relative:s}){X(Kr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(tt);et(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(rt),{pathname:i}=He(),c=nt(),o=Mi(e,$i(l),i,s==="path"),u=JSON.stringify(o);return x.useEffect(()=>{c(JSON.parse(u),{replace:t,state:r,relative:s})},[c,u,s,t,r]),null}function _e(e){X(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jp({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:l=!1}){X(!Kr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:i,navigator:a,static:l,future:{}}),[i,a,l]);typeof r=="string"&&(r=Yr(r));let{pathname:o="/",search:u="",hash:p="",state:d=null,key:g="default"}=r,v=x.useMemo(()=>{let N=Ct(o,i);return N==null?null:{location:{pathname:N,search:u,hash:p,state:d,key:g},navigationType:s}},[i,o,u,p,d,g,s]);return et(v!=null,`<Router basename="${i}"> is not able to match the URL "${o}${u}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(tt.Provider,{value:c},x.createElement(Vn.Provider,{children:t,value:v}))}function Np({children:e,location:t}){return op(zl(e),t)}function zl(e,t=[]){let r=[];return x.Children.forEach(e,(s,a)=>{if(!x.isValidElement(s))return;let l=[...t,a];if(s.type===x.Fragment){r.push.apply(r,zl(s.props.children,l));return}X(s.type===_e,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),X(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=zl(s.props.children,l)),r.push(i)}),r}var Ns="get",bs="application/x-www-form-urlencoded";function ha(e){return e!=null&&typeof e.tagName=="string"}function bp(e){return ha(e)&&e.tagName.toLowerCase()==="button"}function Sp(e){return ha(e)&&e.tagName.toLowerCase()==="form"}function kp(e){return ha(e)&&e.tagName.toLowerCase()==="input"}function Cp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ep(e,t){return e.button===0&&(!t||t==="_self")&&!Cp(e)}var os=null;function Pp(){if(os===null)try{new FormData(document.createElement("form"),0),os=!1}catch{os=!0}return os}var _p=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ba(e){return e!=null&&!_p.has(e)?(et(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bs}"`),null):e}function Rp(e,t){let r,s,a,l,i;if(Sp(e)){let c=e.getAttribute("action");s=c?Ct(c,t):null,r=e.getAttribute("method")||Ns,a=Ba(e.getAttribute("enctype"))||bs,l=new FormData(e)}else if(bp(e)||kp(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||c.getAttribute("action");if(s=o?Ct(o,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||Ns,a=Ba(e.getAttribute("formenctype"))||Ba(c.getAttribute("enctype"))||bs,l=new FormData(c,e),!Pp()){let{name:u,type:p,value:d}=e;if(p==="image"){let g=u?`${u}.`:"";l.append(`${g}x`,"0"),l.append(`${g}y`,"0")}else u&&l.append(u,d)}}else{if(ha(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ns,s=null,a=bs,i=e}return l&&a==="text/plain"&&(i=l,l=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:l,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lp(e,t,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&Ct(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function Tp(e,t){if(e.id in t)return t[e.id];try{let r=await Ld(()=>import(e.module),[]);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ip(e){return e!=null&&typeof e.page=="string"}function Ap(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $p(e,t,r){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let i=await Tp(l,r);return i.links?i.links():[]}return[]}));return Dp(s.flat(1).filter(Ap).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dc(e,t,r,s,a,l){let i=(o,u)=>r[u]?o.route.id!==r[u].route.id:!0,c=(o,u)=>{var p;return r[u].pathname!==o.pathname||((p=r[u].route.path)==null?void 0:p.endsWith("*"))&&r[u].params["*"]!==o.params["*"]};return l==="assets"?t.filter((o,u)=>i(o,u)||c(o,u)):l==="data"?t.filter((o,u)=>{var d;let p=s.routes[o.route.id];if(!p||!p.hasLoader)return!1;if(i(o,u)||c(o,u))return!0;if(o.route.shouldRevalidate){let g=o.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Mp(e,t,{includeHydrateFallback:r}={}){return Fp(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Fp(e){return[...new Set(e)]}function zp(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function Dp(e,t){let r=new Set,s=new Set(t);return e.reduce((a,l)=>{if(t&&!Ip(l)&&l.as==="script"&&l.href&&s.has(l.href))return a;let c=JSON.stringify(zp(l));return r.has(c)||(r.add(c),a.push({key:c,link:l})),a},[])}function Od(){let e=x.useContext(Qr);return Oi(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Up(){let e=x.useContext(fa);return Oi(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bi=x.createContext(void 0);Bi.displayName="FrameworkContext";function Bd(){let e=x.useContext(Bi);return Oi(e,"You must render this element inside a <HydratedRouter> element"),e}function Op(e,t){let r=x.useContext(Bi),[s,a]=x.useState(!1),[l,i]=x.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:u,onMouseLeave:p,onTouchStart:d}=t,g=x.useRef(null);x.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let j=h=>{h.forEach(m=>{i(m.isIntersecting)})},E=new IntersectionObserver(j,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),x.useEffect(()=>{if(s){let j=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(j)}}},[s]);let v=()=>{a(!0)},N=()=>{a(!1),i(!1)};return r?e!=="intent"?[l,g,{}]:[l,g,{onFocus:sn(c,v),onBlur:sn(o,N),onMouseEnter:sn(u,v),onMouseLeave:sn(p,N),onTouchStart:sn(d,v)}]:[!1,g,{}]}function sn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Bp({page:e,...t}){let{router:r}=Od(),s=x.useMemo(()=>Td(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?x.createElement(Wp,{page:e,matches:s,...t}):null}function Vp(e){let{manifest:t,routeModules:r}=Bd(),[s,a]=x.useState([]);return x.useEffect(()=>{let l=!1;return $p(e,t,r).then(i=>{l||a(i)}),()=>{l=!0}},[e,t,r]),s}function Wp({page:e,matches:t,...r}){let s=He(),{manifest:a,routeModules:l}=Bd(),{basename:i}=Od(),{loaderData:c,matches:o}=Up(),u=x.useMemo(()=>dc(e,t,o,a,s,"data"),[e,t,o,a,s]),p=x.useMemo(()=>dc(e,t,o,a,s,"assets"),[e,t,o,a,s]),d=x.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let N=new Set,j=!1;if(t.forEach(h=>{var f;let m=a.routes[h.route.id];!m||!m.hasLoader||(!u.some(y=>y.route.id===h.route.id)&&h.route.id in c&&((f=l[h.route.id])!=null&&f.shouldRevalidate)||m.hasClientLoader?j=!0:N.add(h.route.id))}),N.size===0)return[];let E=Lp(e,i,"data");return j&&N.size>0&&E.searchParams.set("_routes",t.filter(h=>N.has(h.route.id)).map(h=>h.route.id).join(",")),[E.pathname+E.search]},[i,c,s,a,u,t,e,l]),g=x.useMemo(()=>Mp(p,a),[p,a]),v=Vp(p);return x.createElement(x.Fragment,null,d.map(N=>x.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),g.map(N=>x.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),v.map(({key:N,link:j})=>x.createElement("link",{key:N,...j})))}function Hp(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Vd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vd&&(window.__reactRouterVersion="7.7.1")}catch{}function Yp({basename:e,children:t,window:r}){let s=x.useRef();s.current==null&&(s.current=Ih({window:r,v5Compat:!0}));let a=s.current,[l,i]=x.useState({action:a.action,location:a.location}),c=x.useCallback(o=>{x.startTransition(()=>i(o))},[i]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.createElement(jp,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var Wd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M=x.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:l,replace:i,state:c,target:o,to:u,preventScrollReset:p,viewTransition:d,...g},v){let{basename:N}=x.useContext(tt),j=typeof u=="string"&&Wd.test(u),E,h=!1;if(typeof u=="string"&&j&&(E=u,Vd))try{let T=new URL(window.location.href),L=u.startsWith("//")?new URL(T.protocol+u):new URL(u),K=Ct(L.pathname,N);L.origin===T.origin&&K!=null?u=K+L.search+L.hash:h=!0}catch{et(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=lp(u,{relative:a}),[f,y,w]=Op(s,g),k=Jp(u,{replace:i,state:c,target:o,preventScrollReset:p,relative:a,viewTransition:d});function P(T){t&&t(T),T.defaultPrevented||k(T)}let b=x.createElement("a",{...g,...w,href:E||m,onClick:h||l?t:P,ref:Hp(v,y),target:o,"data-discover":!j&&r==="render"?"true":void 0});return f&&!j?x.createElement(x.Fragment,null,b,x.createElement(Bp,{page:m})):b});M.displayName="Link";var Qp=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:l,to:i,viewTransition:c,children:o,...u},p){let d=Wn(i,{relative:u.relative}),g=He(),v=x.useContext(fa),{navigator:N,basename:j}=x.useContext(tt),E=v!=null&&tg(d)&&c===!0,h=N.encodeLocation?N.encodeLocation(d).pathname:d.pathname,m=g.pathname,f=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(m=m.toLowerCase(),f=f?f.toLowerCase():null,h=h.toLowerCase()),f&&j&&(f=Ct(f,j)||f);const y=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let w=m===h||!a&&m.startsWith(h)&&m.charAt(y)==="/",k=f!=null&&(f===h||!a&&f.startsWith(h)&&f.charAt(h.length)==="/"),P={isActive:w,isPending:k,isTransitioning:E},b=w?t:void 0,T;typeof s=="function"?T=s(P):T=[s,w?"active":null,k?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(P):l;return x.createElement(M,{...u,"aria-current":b,className:T,ref:p,style:L,to:i,viewTransition:c},typeof o=="function"?o(P):o)});Qp.displayName="NavLink";var Kp=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:l,method:i=Ns,action:c,onSubmit:o,relative:u,preventScrollReset:p,viewTransition:d,...g},v)=>{let N=Zp(),j=eg(c,{relative:u}),E=i.toLowerCase()==="get"?"get":"post",h=typeof c=="string"&&Wd.test(c),m=f=>{if(o&&o(f),f.defaultPrevented)return;f.preventDefault();let y=f.nativeEvent.submitter,w=(y==null?void 0:y.getAttribute("formmethod"))||i;N(y||f.currentTarget,{fetcherKey:t,method:w,navigate:r,replace:a,state:l,relative:u,preventScrollReset:p,viewTransition:d})};return x.createElement("form",{ref:v,method:E,action:j,onSubmit:s?o:m,...g,"data-discover":!h&&e==="render"?"true":void 0})});Kp.displayName="Form";function Gp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hd(e){let t=x.useContext(Qr);return X(t,Gp(e)),t}function Jp(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:i}={}){let c=nt(),o=He(),u=Wn(e,{relative:l});return x.useCallback(p=>{if(Ep(p,t)){p.preventDefault();let d=r!==void 0?r:Fn(o)===Fn(u);c(e,{replace:d,state:s,preventScrollReset:a,relative:l,viewTransition:i})}},[o,c,u,r,s,t,e,a,l,i])}var Xp=0,qp=()=>`__${String(++Xp)}__`;function Zp(){let{router:e}=Hd("useSubmit"),{basename:t}=x.useContext(tt),r=xp();return x.useCallback(async(s,a={})=>{let{action:l,method:i,encType:c,formData:o,body:u}=Rp(s,t);if(a.navigate===!1){let p=a.fetcherKey||qp();await e.fetch(p,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:o,body:u,formMethod:a.method||i,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:o,body:u,formMethod:a.method||i,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function eg(e,{relative:t}={}){let{basename:r}=x.useContext(tt),s=x.useContext(rt);X(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Wn(e||".",{relative:t})},i=He();if(e==null){l.search=i.search;let c=new URLSearchParams(l.search),o=c.getAll("index");if(o.some(p=>p==="")){c.delete("index"),o.filter(d=>d).forEach(d=>c.append("index",d));let p=c.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:jt([r,l.pathname])),Fn(l)}function tg(e,{relative:t}={}){let r=x.useContext(Md);X(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Hd("useViewTransitionState"),a=Wn(e,{relative:t});if(!r.isTransitioning)return!1;let l=Ct(r.currentLocation.pathname,s)||r.currentLocation.pathname,i=Ct(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Ks(a.pathname,i)!=null||Ks(a.pathname,l)!=null}const Yd=x.createContext(void 0),rg=({children:e})=>{const[t,r]=x.useState(null),[s,a]=x.useState(!0),l=()=>{const p=localStorage.getItem("authToken");if(!p)return!1;try{const g=JSON.parse(atob(p.split(".")[1])).exp*1e3;return Date.now()>=g?(console.log("Token expired, logging out user"),o(),!1):!0}catch(d){return console.error("Error checking token expiry:",d),o(),!1}};x.useEffect(()=>{const p=localStorage.getItem("authToken"),d=localStorage.getItem("currentUser");if(p&&d)try{l()&&r(JSON.parse(d))}catch(g){console.error("Error parsing user data:",g),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser")}a(!1)},[]),x.useEffect(()=>{if(!t)return;const p=setInterval(()=>{l()},6e4);return()=>clearInterval(p)},[t]);const i=async(p,d)=>{const g=await fetch("http://localhost:5003/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:d})});if(!g.ok){const E=await g.json();throw new Error(E.message||"Login failed")}const v=await g.json(),{token:N,user:j}=v.data;localStorage.setItem("authToken",N),localStorage.setItem("currentUser",JSON.stringify(j)),r(j)},c=async p=>{const d=await fetch("http://localhost:5003/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!d.ok){const j=await d.json();throw new Error(j.message||"Registration failed")}const g=await d.json(),{token:v,user:N}=g.data;v&&(localStorage.setItem("authToken",v),localStorage.setItem("currentUser",JSON.stringify(N)),r(N))},o=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),r(null)},u={user:t,loading:s,login:i,register:c,logout:o};return n.jsx(Yd.Provider,{value:u,children:e})},ut=()=>{const e=x.useContext(Yd);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},ng=()=>{const{user:e,loading:t}=ut(),r=nt();return x.useEffect(()=>{!t&&e&&r("/dashboard")},[e,t,r]),t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Loading..."})]})}):e?null:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900 -mx-4 sm:-mx-6 lg:-mx-8 -my-8 transition-colors duration-200",children:[n.jsx("div",{className:"relative overflow-hidden",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-24",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white text-3xl font-bold",children:"🏥"})})}),n.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-200",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Simuatech"})}),n.jsx("p",{className:"text-2xl md:text-3xl text-gray-700 dark:text-gray-300 mb-4 font-light transition-colors duration-200",children:"Where virtual patients build real clinicians"}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-3xl mx-auto transition-colors duration-200",children:"Simuatech will help you master clinical skills with AI-powered patient simulations. Practice, learn, and excel in a safe, interactive environment."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[n.jsx(M,{to:"/register",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Start Learning Free"}),n.jsx(M,{to:"/login",className:"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-gray-300 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 shadow-md hover:shadow-lg",children:"Sign In"})]})]})})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 py-16 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-200",children:"How Simuatech Works"}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto transition-colors duration-200",children:"Follow these simple steps to start your clinical training journey"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors duration-200",children:n.jsx("span",{className:"text-2xl",children:"📝"})}),n.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"1. Create Account"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200 text-sm",children:"Sign up for free and set up your learning profile. Choose your specialty and experience level."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors duration-200",children:n.jsx("span",{className:"text-2xl",children:"🔍"})}),n.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"2. Browse Cases"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200 text-sm",children:"Explore our library of patient cases organized by program area and specialty."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors duration-200",children:n.jsx("span",{className:"text-2xl",children:"💬"})}),n.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"3. Start Chat"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200 text-sm",children:"Start chatting with the AI simulator. Ask questions, gather information, and conduct your examination."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors duration-200",children:n.jsx("span",{className:"text-2xl",children:"🩺"})}),n.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"4. Add Diagnosis"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200 text-sm",children:"Based on your findings, provide your diagnosis before ending the session."})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors duration-200",children:n.jsx("span",{className:"text-2xl",children:"⏹️"})}),n.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"5. End Session"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200 text-sm",children:"Press the End button and wait for your comprehensive evaluation and performance feedback."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center mx-auto mb-6 transition-colors duration-200",children:n.jsx("span",{className:"text-2xl",children:"🔄"})}),n.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"6. Choose Another"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200 text-sm",children:"Continue learning by choosing another case to further develop your clinical skills."})]})]})]})}),n.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 py-16 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-200",children:"Why Choose Simuatech?"}),n.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Advanced features designed for effective clinical learning"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:n.jsx("span",{className:"text-xl",children:"🤖"})}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"AI-Powered Patients"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Realistic patient interactions powered by advanced AI that responds naturally to your questions and examinations."})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:n.jsx("span",{className:"text-xl",children:"📊"})}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"Instant Feedback"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Get immediate evaluation of your clinical reasoning, diagnostic skills, and patient communication."})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:n.jsx("span",{className:"text-xl",children:"🎯"})}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"Multiple Specialties"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Cases spanning General Surgery, Internal Medicine, Pediatrics, Reproductive Health, and more."})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:n.jsx("span",{className:"text-xl",children:"📈"})}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"Progress Tracking"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Monitor your learning journey with detailed analytics and performance metrics across different specialties."})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:n.jsx("span",{className:"text-xl",children:"🏆"})}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"Leaderboards"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Compete with peers, track your ranking, and stay motivated with gamified learning experiences."})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[n.jsx("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center mb-4 transition-colors duration-200",children:n.jsx("span",{className:"text-xl",children:"🔒"})}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-white transition-colors duration-200",children:"Safe Learning"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-200",children:"Practice without consequences in a safe environment where mistakes become valuable learning opportunities."})]})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 py-16 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-200",children:"Perfect For"})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-8 rounded-lg border border-blue-200 dark:border-blue-800 transition-colors duration-200",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx("span",{className:"text-white text-2xl",children:"🎓"})}),n.jsx("h3",{className:"text-2xl font-semibold text-center mb-4 text-gray-900 dark:text-white transition-colors duration-200",children:"Medical Students"}),n.jsxs("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300 transition-colors duration-200",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-500 dark:text-blue-400 mr-2",children:"✓"}),"Practice patient interactions before clinical rotations"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-500 dark:text-blue-400 mr-2",children:"✓"}),"Develop clinical reasoning skills safely"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-500 dark:text-blue-400 mr-2",children:"✓"}),"Prepare for exams with realistic case scenarios"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-blue-500 dark:text-blue-400 mr-2",children:"✓"}),"Get instant feedback on diagnostic approaches"]})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsx(M,{to:"/register",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start Learning"})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-8 rounded-lg border border-green-200 dark:border-green-800 transition-colors duration-200",children:[n.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx("span",{className:"text-white text-2xl",children:"👨‍🏫"})}),n.jsx("h3",{className:"text-2xl font-semibold text-center mb-4 text-gray-900 dark:text-white transition-colors duration-200",children:"Educators & Clinicians"}),n.jsxs("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300 transition-colors duration-200",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-green-500 dark:text-green-400 mr-2",children:"✓"}),"Monitor student progress and performance"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-green-500 dark:text-green-400 mr-2",children:"✓"}),"Access detailed analytics and reports"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-green-500 dark:text-green-400 mr-2",children:"✓"}),"Supplement traditional teaching methods"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-green-500 dark:text-green-400 mr-2",children:"✓"}),"Contribute new cases and scenarios"]})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsx(M,{to:"/login",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Sign In"})})]})]})]})}),n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-700 py-16 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[n.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Ready to Transform Your Clinical Skills?"}),n.jsx("p",{className:"text-xl text-blue-100 dark:text-blue-200 mb-8 transition-colors duration-200",children:"Join thousands of medical students and professionals already learning with Simuatech"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(M,{to:"/register",className:"bg-white dark:bg-gray-100 text-blue-600 dark:text-blue-700 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 dark:hover:bg-gray-200 transition-colors shadow-lg",children:"Get Started Free"}),n.jsx(M,{to:"/login",className:"bg-transparent text-white px-8 py-4 rounded-lg text-lg font-semibold border-2 border-white hover:bg-white hover:text-blue-600 dark:hover:text-blue-700 transition-colors",children:"Sign In"})]})]})})]})},sg=()=>{const[e,t]=x.useState(""),[r,s]=x.useState(""),[a,l]=x.useState(!1),[i,c]=x.useState(""),[o,u]=x.useState(!1),{login:p}=ut(),d=nt(),g=async v=>{v.preventDefault(),l(!0),c("");try{await p(e,r),d("/dashboard")}catch(N){c(N instanceof Error?N.message:"Login failed")}finally{l(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 -mx-4 sm:-mx-6 lg:-mx-8 -my-8 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white text-2xl font-bold",children:"🏥"})})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),n.jsx("p",{className:"text-gray-600",children:"Sign in to continue your clinical learning journey"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[i&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"text-red-400",children:"⚠️"})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700",children:i})})]})}),n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",id:"email",value:e,onChange:v=>t(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email",required:!0}),n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx("span",{className:"text-gray-400",children:"📧"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:o?"text":"password",id:"password",value:r,onChange:v=>s(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password",required:!0}),n.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:n.jsx("span",{children:o?"🙈":"👁️"})})]})]}),n.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:a?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Signing In..."]}):"Sign In"})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"New to Simuatech?"})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(M,{to:"/register",className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Create your free account →"})})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Need Help?"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Having trouble signing in? We're here to help you get back to learning."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{to:"/forgot-password",className:"block text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Reset your password"}),n.jsx(M,{to:"/",className:"block text-gray-600 hover:text-gray-800 text-sm",children:"← Back to home"})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"text-yellow-400",children:"💡"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Try Demo Account"}),n.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[n.jsx("p",{children:"Want to explore first? Use these demo credentials:"}),n.jsxs("p",{className:"mt-1 font-mono text-xs",children:["Email: demo@simuatech.com",n.jsx("br",{}),"Password: demo123"]})]})]})]})})]})})},ag=()=>{const[e,t]=x.useState({username:"",email:"",password:"",confirmPassword:""}),[r,s]=x.useState(!1),[a,l]=x.useState(""),[i,c]=x.useState(!1),[o,u]=x.useState(!1),{register:p}=ut(),d=nt(),g=m=>{t({...e,[m.target.name]:m.target.value})},v=m=>{let f=0;return m.length>=8&&f++,/[A-Z]/.test(m)&&f++,/[a-z]/.test(m)&&f++,/[0-9]/.test(m)&&f++,/[^A-Za-z0-9]/.test(m)&&f++,f},N=m=>{switch(m){case 0:case 1:return{text:"Very Weak",color:"text-red-600"};case 2:return{text:"Weak",color:"text-orange-600"};case 3:return{text:"Fair",color:"text-yellow-600"};case 4:return{text:"Good",color:"text-blue-600"};case 5:return{text:"Strong",color:"text-green-600"};default:return{text:"",color:""}}},j=async m=>{if(m.preventDefault(),s(!0),l(""),e.password!==e.confirmPassword){l("Passwords do not match"),s(!1);return}if(e.password.length<6){l("Password must be at least 6 characters long"),s(!1);return}try{await p({username:e.username,email:e.email,password:e.password}),d("/dashboard")}catch(f){l(f instanceof Error?f.message:"Registration failed")}finally{s(!1)}},E=v(e.password),h=N(E);return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 -mx-4 sm:-mx-6 lg:-mx-8 -my-8 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white text-2xl font-bold",children:"🏥"})})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join Simuatech"}),n.jsx("p",{className:"text-gray-600",children:"Create your free account and start learning today"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[a&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"text-red-400",children:"⚠️"})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700",children:a})})]})}),n.jsxs("form",{onSubmit:j,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Choose a username",required:!0}),n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx("span",{className:"text-gray-400",children:"👤"})})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This will be your display name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email",required:!0}),n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx("span",{className:"text-gray-400",children:"📧"})})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We'll use this to send you important updates"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:e.password,onChange:g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Create a strong password",required:!0}),n.jsx("button",{type:"button",onClick:()=>c(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:n.jsx("span",{children:i?"🙈":"👁️"})})]}),e.password&&n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Password strength:"}),n.jsx("span",{className:`text-xs font-medium ${h.color}`,children:h.text})]}),n.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${E<=1?"bg-red-500":E===2?"bg-orange-500":E===3?"bg-yellow-500":E===4?"bg-blue-500":"bg-green-500"}`,style:{width:`${E/5*100}%`}})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:o?"text":"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:g,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-200 ${e.confirmPassword&&e.password!==e.confirmPassword?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"Confirm your password",required:!0}),n.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:n.jsx("span",{children:o?"🙈":"👁️"})})]}),e.confirmPassword&&e.password!==e.confirmPassword&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Passwords do not match"})]}),n.jsx("button",{type:"submit",disabled:r||e.password!==e.confirmPassword,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:r?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Creating Account..."]}):"Create Free Account"})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(M,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Sign in instead →"})})]})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 text-center",children:"What you'll get:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Access to hundreds of patient cases"]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"AI-powered feedback and evaluation"]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Progress tracking and analytics"]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[n.jsx("span",{className:"text-green-500 mr-2",children:"✓"}),"Leaderboards and achievements"]})]})]}),n.jsx("div",{className:"text-center text-xs text-gray-500",children:n.jsxs("p",{children:["By creating an account, you agree to our"," ",n.jsx(M,{to:"/terms",className:"text-blue-600 hover:text-blue-800",children:"Terms of Service"})," ","and"," ",n.jsx(M,{to:"/privacy",className:"text-blue-600 hover:text-blue-800",children:"Privacy Policy"})]})})]})})},Fe="http://localhost:5003",Vi=()=>{try{return localStorage.getItem("authToken")}catch{return null}},Wi=()=>{try{const e=Vi();return e?JSON.parse(atob(e.split(".")[1])).exp*1e3:null}catch{return null}},Hi=()=>{const e=Wi();return e?Date.now()>=e:!0},lg=()=>{const e=Vi(),t=localStorage.getItem("currentUser");return!!(e&&t&&!Hi())};let mc=!1,fc=!1;const ig=()=>{const e=Wi();if(!e)return;const t=Date.now(),r=e-t;r<=5*60*1e3&&r>0&&!mc&&(mc=!0,og(Math.floor(r/6e4))),r<=0&&!fc&&(fc=!0,Dl())},og=e=>{const t=document.createElement("div");t.className="fixed top-4 right-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg z-50 max-w-sm",t.innerHTML=`
    <div class="flex">
      <div class="flex-shrink-0">
        <span class="text-yellow-400">⚠️</span>
      </div>
      <div class="ml-3">
        <p class="text-sm font-medium text-yellow-800">Session Expiring Soon</p>
        <p class="text-sm text-yellow-700 mt-1">Your session will expire in ${e} minute${e!==1?"s":""}. Please save your work.</p>
        <div class="mt-3 flex space-x-2">
          <button onclick="window.location.reload()" class="bg-yellow-600 text-white px-3 py-1 rounded text-xs hover:bg-yellow-700">
            Refresh Session
          </button>
          <button onclick="this.parentElement.parentElement.parentElement.parentElement.remove()" class="bg-gray-300 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-400">
            Dismiss
          </button>
        </div>
      </div>
    </div>
  `,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.remove()},1e4)},Dl=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser");const e=document.createElement("div");e.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",e.innerHTML=`
    <div class="bg-white rounded-lg p-6 max-w-md mx-4 shadow-xl">
      <div class="text-center">
        <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-red-500 text-2xl">🔒</span>
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Session Expired</h3>
        <p class="text-gray-600 mb-6">Your session has expired for security reasons. Please sign in again to continue.</p>
        <button onclick="window.location.href='/login'" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
          Sign In Again
        </button>
      </div>
    </div>
  `,document.body.appendChild(e)};setInterval(ig,6e4);const ze=async(e,t={},r=!0)=>{if(Hi())throw console.log("Token expired, redirecting to login"),Dl(),new Error("Session expired");const s=Vi(),a=new Headers(t.headers||{});s?(a.append("Authorization",`Bearer ${s}`),console.log("Making authenticated request to:",e,"with token:",s.substring(0,20)+"...")):console.log("Making unauthenticated request to:",e),a.append("Content-Type","application/json");const l=await fetch(e,{...t,headers:a});if(console.log("Response status:",l.status,"for URL:",e),l.status===401&&r)throw console.log("401 Unauthorized - handling session expiry"),Dl(),new Error("Session expired");return l},Gs="currentSpecialtyContext",cg=(e,t)=>{try{localStorage.setItem(Gs,JSON.stringify({programArea:e,specialty:t,timestamp:Date.now()}))}catch(r){console.warn("Failed to save specialty context:",r)}},ug=()=>{try{const e=localStorage.getItem(Gs);if(!e)return null;const t=JSON.parse(e);return Date.now()-t.timestamp>60*60*1e3?(localStorage.removeItem(Gs),null):{programArea:t.programArea,specialty:t.specialty}}catch{return null}},dg=()=>{try{localStorage.removeItem(Gs)}catch(e){console.warn("Failed to clear specialty context:",e)}},U={isAuthenticated:()=>lg(),isTokenExpired:()=>Hi(),getTimeUntilExpiry:()=>{const e=Wi();if(!e)return 0;const t=e-Date.now();return Math.max(0,Math.floor(t/6e4))},setSpecialtyContext:cg,getSpecialtyContext:ug,clearSpecialtyContext:dg,getPrivacySettings:async()=>{try{const e=await ze(`${Fe}/api/privacy/settings`);if(!e.ok)throw new Error("Failed to fetch privacy settings");return(await e.json()).data}catch(e){throw console.error("Error fetching privacy settings:",e),e}},updatePrivacySettings:async e=>{try{const t=await ze(`${Fe}/api/privacy/settings`,{method:"PUT",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update privacy settings");return(await t.json()).data}catch(t){throw console.error("Error updating privacy settings:",t),t}},exportUserData:async(e="all",t="json")=>{try{const r=await ze(`${Fe}/api/privacy/export?exportType=${e}&format=${t}`);if(!r.ok)throw new Error("Failed to export user data");return t==="json"?await r.json():await r.text()}catch(r){throw console.error("Error exporting user data:",r),r}},requestAccountDeletion:async()=>{try{const e=await ze(`${Fe}/api/privacy/account`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to request account deletion");return await e.json()}catch(e){throw console.error("Error requesting account deletion:",e),e}},getPrivacyStatistics:async()=>{try{const e=await ze(`${Fe}/api/privacy/statistics`);if(!e.ok)throw new Error("Failed to fetch privacy statistics");return(await e.json()).data}catch(e){throw console.error("Error fetching privacy statistics:",e),e}},getUserProgress:async e=>{try{const t=await ze(`${Fe}/api/progress/${e}`,{});if(!t.ok){if(t.status===401)return console.log("No progress data found for user, returning default values"),{totalCasesCompleted:0,overallAverageScore:0,specialtyProgress:[],recentPerformance:[]};throw new Error("Failed to fetch user progress")}const r=await t.json();return r.data||r}catch(t){return console.error("Error fetching user progress:",t),{totalCasesCompleted:0,overallAverageScore:0,specialtyProgress:[],recentPerformance:[]}}},getCases:async e=>{try{const t=new URLSearchParams;e&&Object.entries(e).forEach(([l,i])=>{i!=null&&i!==""&&t.append(l,i.toString())});const r=await ze(`${Fe}/api/simulation/cases?${t.toString()}`,{});if(!r.ok){if(r.status===401)return console.log("Authentication required for cases"),{cases:[],currentPage:1,totalPages:1,totalCases:0,hasNextPage:!1,hasPrevPage:!1};throw new Error("Failed to fetch cases")}const s=await r.json(),a=s.data||s;return{cases:a.cases||[],currentPage:a.currentPage||1,totalPages:a.totalPages||1,totalCases:a.totalCases||(a.cases?a.cases.length:0),hasNextPage:a.hasNextPage||!1,hasPrevPage:a.hasPrevPage||!1}}catch(t){return console.error("Error fetching cases:",t),{cases:[],currentPage:1,totalPages:1,totalCases:0,hasNextPage:!1,hasPrevPage:!1}}},getCaseCategories:async e=>{try{const t=new URLSearchParams;e!=null&&e.program_area&&t.append("program_area",e.program_area);const r=`/api/simulation/case-categories${t.toString()?`?${t.toString()}`:""}`,s=await ze(`${Fe}${r}`,{});if(!s.ok){if(s.status===401)return console.log("Authentication required for case categories"),{program_areas:[],specialties:[],specialized_areas:[],specialty_counts:{}};throw new Error("Failed to fetch case categories")}const a=await s.json();return a.data||a}catch(t){return console.error("Error fetching case categories:",t),{program_areas:[],specialties:[],specialized_areas:[],specialty_counts:{}}}},startSimulation:async e=>{var t;try{console.log("📡 Starting simulation for case:",e);const r=await ze(`${Fe}/api/simulation/start`,{method:"POST",body:JSON.stringify({caseId:e})});if(!r.ok)throw console.error("❌ API Response not OK:",r.status,r.statusText),new Error(`Failed to start simulation: ${r.status} ${r.statusText}`);const s=await r.text();console.log("📡 Raw API Response Text:",s);let a;try{a=JSON.parse(s)}catch(c){throw console.error("❌ Failed to parse JSON response:",c),new Error("Invalid JSON response from server")}console.log("📡 Parsed API Response:",a),console.log("📡 Response structure analysis:"),console.log("  - Top level keys:",Object.keys(a)),console.log("  - Has data property:","data"in a),console.log("  - data content:",a.data);const l=a.data||a;console.log("📡 Final responseData:",l),console.log("📡 Response data keys:",Object.keys(l)),console.log("📡 Patient name analysis:"),console.log("  - patientName:",l.patientName),console.log("  - patient_name:",l.patient_name),console.log("  - name:",l.name),console.log("  - speaks_for:",l.speaks_for),console.log("📡 Initial prompt analysis:"),console.log("  - initialPrompt:",l.initialPrompt),console.log("  - initial_prompt:",l.initial_prompt),console.log("  - prompt:",l.prompt),console.log("  - message:",l.message);const i=l.initialPrompt||l.initial_prompt||l.prompt||l.message||"";return console.log("📡 Resolved initial prompt:",{value:i,type:typeof i,length:(i==null?void 0:i.length)||0,trimmedLength:((t=i==null?void 0:i.trim())==null?void 0:t.length)||0}),l}catch(r){throw console.error("❌ Error in startSimulation:",r),r}},endSimulation:async e=>{try{const t=await ze(`${Fe}/api/simulation/end`,{method:"POST",body:JSON.stringify({sessionId:e})});if(!t.ok)throw new Error("Failed to end simulation");const r=await t.json();return r.data||r}catch(t){throw console.error("Error ending simulation:",t),t}},getLeaderboard:async(e,t=10)=>{try{const r=new URLSearchParams;e&&r.append("specialty",e),r.append("limit",t.toString());const s=await ze(`${Fe}/api/performance/leaderboard?${r.toString()}`,{},!1);if(!s.ok){if(s.status===401)return console.log("Authentication required for leaderboard"),[];throw new Error("Failed to fetch leaderboard")}return await s.json()||[]}catch(r){return console.error("Error fetching leaderboard:",r),[]}},getSystemStats:async()=>{try{const e=await ze(`${Fe}/api/admin/stats`);if(!e.ok)throw new Error("Failed to fetch system stats");const t=await e.json();return t.data||t}catch(e){return console.error("Error fetching system stats:",e),{totalUsers:0,totalCases:0,totalSessions:0,activeUsers:0}}}};function Js(e){return!e||typeof e!="string"?"":e.trim().toLowerCase().replace(/[\s\/&,]+/g,"_").replace(/[^a-z0-9_-]/g,"").replace(/_+/g,"_").replace(/^_+|_+$/g,"")}function Ul(e){return!e||typeof e!="string"?"":e.trim().replace(/[_-]/g," ").replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ").trim()}function un(e){if(!e||typeof e!="string")return!1;const t=e.trim();return!(!t||!/^[a-z0-9_-]+$/.test(t)||/^[_-]|[_-]$/.test(t)||/[_-]{2,}/.test(t))}const Qd=({onClose:e})=>{const[t,r]=x.useState({showInLeaderboard:!0,showRealName:!1,shareProgressWithEducators:!0,allowAnonymousAnalytics:!0,dataRetentionPeriod:"2years",profileVisibility:"educators"}),[s,a]=x.useState(!1),[l,i]=x.useState(!1);x.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await U.getPrivacySettings();r({showInLeaderboard:d.showInLeaderboard,showRealName:d.showRealName,shareProgressWithEducators:d.shareProgressWithEducators,allowAnonymousAnalytics:d.allowAnonymousAnalytics,dataRetentionPeriod:d.dataRetentionPeriod,profileVisibility:d.profileVisibility})}catch(d){console.error("Error fetching privacy settings:",d)}},o=(d,g)=>{r(v=>({...v,[d]:g}))},u=async()=>{try{a(!0),await U.updatePrivacySettings(t),i(!0),setTimeout(()=>i(!1),3e3)}catch(d){console.error("Error saving privacy settings:",d),alert("Failed to save privacy settings. Please try again.")}finally{a(!1)}},p=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data.")&&window.confirm(`This is your final warning. Deleting your account will permanently remove:

• Your profile and account information
• All your progress and performance data
• Your session history and interactions
• Your privacy settings

Are you absolutely sure you want to proceed?`))try{a(!0),await U.requestAccountDeletion(),alert("Your account has been successfully deleted. You will be logged out now."),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),window.location.href="/"}catch(v){console.error("Error deleting account:",v),alert("Failed to delete account. Please try again or contact support.")}finally{a(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Privacy & Security Settings"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Control how your data is used and displayed"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx("span",{className:"text-2xl",children:"×"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"🏆"}),"Leaderboard Privacy"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"font-medium text-gray-700",children:"Show in Leaderboard"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Allow your performance to appear in public leaderboards"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:t.showInLeaderboard,onChange:d=>o("showInLeaderboard",d.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"font-medium text-gray-700",children:"Show Real Name"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Display your real name instead of username in leaderboards"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:t.showRealName,onChange:d=>o("showRealName",d.target.checked),className:"sr-only peer",disabled:!t.showInLeaderboard}),n.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 ${t.showInLeaderboard?"":"opacity-50 cursor-not-allowed"}`})]})]})]})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"📊"}),"Progress Sharing"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"font-medium text-gray-700",children:"Share with Educators"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Allow educators to view your detailed progress and performance"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:t.shareProgressWithEducators,onChange:d=>o("shareProgressWithEducators",d.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-medium text-gray-700 block mb-2",children:"Profile Visibility"}),n.jsxs("select",{value:t.profileVisibility,onChange:d=>o("profileVisibility",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"public",children:"Public - Anyone can view"}),n.jsx("option",{value:"educators",children:"Educators Only - Only educators can view"}),n.jsx("option",{value:"private",children:"Private - Only you can view"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Controls who can see your detailed profile and progress"})]})]})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"🔒"}),"Data & Analytics"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"font-medium text-gray-700",children:"Anonymous Analytics"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Allow anonymous usage data to help improve the platform"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:t.allowAnonymousAnalytics,onChange:d=>o("allowAnonymousAnalytics",d.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-medium text-gray-700 block mb-2",children:"Data Retention Period"}),n.jsxs("select",{value:t.dataRetentionPeriod,onChange:d=>o("dataRetentionPeriod",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"forever",children:"Keep Forever"}),n.jsx("option",{value:"5years",children:"5 Years"}),n.jsx("option",{value:"2years",children:"2 Years (Recommended)"}),n.jsx("option",{value:"1year",children:"1 Year"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How long to keep your detailed performance data"})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"⚖️"}),"Your Data Rights"]}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),n.jsx("span",{children:"You can request a copy of all your data at any time"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),n.jsx("span",{children:"You can delete your account and all associated data"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),n.jsx("span",{children:"Your data is encrypted and stored securely"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),n.jsx("span",{children:"We never sell your personal information to third parties"})]})]}),n.jsxs("div",{className:"mt-4 flex space-x-3",children:[n.jsx("button",{onClick:()=>{alert("Data export functionality is available from the dashboard.")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Download My Data"}),n.jsx("button",{onClick:p,className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete My Account"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"text-sm text-gray-600",children:l&&n.jsx("span",{className:"text-green-600 font-medium",children:"✓ Settings saved successfully"})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:u,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:s?"Saving...":"Save Settings"})]})]})]})})},mg=({onClose:e})=>{const[t,r]=x.useState("all"),[s,a]=x.useState("json"),[l,i]=x.useState(!1),[c,o]=x.useState(!1),u=async()=>{try{i(!0);const d=await U.exportUserData(t,s);let g,v;s==="json"?(g=typeof d=="string"?d:JSON.stringify(d,null,2),v="application/json"):s==="csv"?(g=typeof d=="string"?d:JSON.stringify(d),v="text/csv"):(g=JSON.stringify(d,null,2),v="application/json");const N=new Blob([g],{type:v}),j=URL.createObjectURL(N),E=document.createElement("a");E.href=j,E.download=`simuatech-data-export-${t}-${Date.now()}.${s}`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(j),o(!0)}catch(d){console.error("Error exporting data:",d),alert("Failed to export data. Please try again.")}finally{i(!1)}},p=d=>{switch(d){case"all":return"Complete data export including profile, progress, sessions, and privacy settings";case"progress":return"Your learning progress, scores, and performance metrics";case"sessions":return"Detailed session logs and interaction history";case"profile":return"Profile information and account settings";default:return""}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Export Your Data"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download a copy of your Simuatech data"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx("span",{className:"text-2xl",children:"×"})})]}),n.jsx("div",{className:"p-6 space-y-6",children:c?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-green-500 text-2xl",children:"✓"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Export Complete!"}),n.jsx("p",{className:"text-gray-600",children:"Your data has been downloaded to your device."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"What to export:"}),n.jsx("div",{className:"space-y-3",children:[{value:"all",label:"All Data",icon:"📦"},{value:"progress",label:"Progress & Scores",icon:"📊"},{value:"sessions",label:"Session History",icon:"📝"},{value:"profile",label:"Profile Only",icon:"👤"}].map(d=>n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"radio",name:"exportType",value:d.value,checked:t===d.value,onChange:g=>r(g.target.value),className:"mr-3 text-blue-600"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"mr-2",children:d.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:d.label}),n.jsx("div",{className:"text-sm text-gray-600",children:p(d.value)})]})]})]},d.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Format:"}),n.jsx("div",{className:"flex space-x-4",children:[{value:"json",label:"JSON",description:"Machine readable"},{value:"csv",label:"CSV",description:"Spreadsheet format"},{value:"pdf",label:"PDF",description:"Human readable"}].map(d=>n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"format",value:d.value,checked:s===d.value,onChange:g=>a(g.target.value),className:"sr-only"}),n.jsxs("div",{className:`p-3 border-2 rounded-lg text-center transition-colors ${s===d.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"font-medium text-gray-900",children:d.label}),n.jsx("div",{className:"text-xs text-gray-600",children:d.description})]})]},d.value))})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"text-blue-400",children:"🔒"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Privacy Notice"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your exported data will only include information you have access to. Sensitive system data and other users' information are never included."})]})]})})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"text-sm text-gray-600",children:!c&&"Export will begin immediately"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:c?"Close":"Cancel"}),!c&&n.jsx("button",{onClick:u,disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:l?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Exporting..."]}):"Export Data"})]})]})]})})},fg=()=>{var E,h,m,f;const{user:e}=ut(),t=nt(),[r,s]=x.useState(null),[a,l]=x.useState(!0),[i,c]=x.useState(!1),[o,u]=x.useState(!1),[p,d]=x.useState([]),[g,v]=x.useState({});x.useEffect(()=>{const y=async()=>{if(e!=null&&e.id)try{const k=await U.getUserProgress(e.id);s(k)}catch(k){console.error("Error fetching progress data:",k)}finally{l(!1)}},w=async()=>{try{const k=await U.getCaseCategories();d(k.specialties||[]),v(k.specialty_counts||{})}catch(k){console.error("Error fetching specialties:",k)}};y(),w()},[e==null?void 0:e.id]);const N=y=>{U.clearSpecialtyContext();const w=Js(y);t(`/${w}`)},j=()=>{const y=U.getSpecialtyContext();if(y){const w=Js(y.specialty);t(`/${w}`)}else t("/simulation")};return n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e==null?void 0:e.username,"!"]}),n.jsx("p",{className:"text-gray-600",children:"Continue your medical training with patient simulations"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Start New Case"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Browse available patient cases by program area and specialty"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(M,{to:"/browse-cases",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors inline-block w-full text-center",children:"Browse Cases"}),n.jsx("button",{onClick:j,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors w-full text-sm",children:(()=>{const y=U.getSpecialtyContext();return y?`View ${y.specialty} Cases`:"View All Cases"})()})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"My Progress"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"View your performance metrics and learning progress"}),n.jsx(M,{to:"/progress",className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors inline-block",children:"View Progress"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Leaderboard"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"See how you rank among other learners"}),n.jsx(M,{to:"/leaderboard",className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors inline-block",children:"View Rankings"})]})]}),p.length>0&&n.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Access by Specialty"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Jump directly to cases in your preferred medical specialties"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:p.slice(0,8).map(y=>{const w=g[y]||0;return n.jsxs("button",{onClick:()=>N(y),className:"p-3 text-left border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",disabled:w===0,children:[n.jsx("div",{className:"font-medium text-sm text-gray-900 mb-1",children:y}),n.jsxs("div",{className:"text-xs text-gray-500",children:[w," case",w!==1?"s":""]})]},y)})}),p.length>8&&n.jsx("div",{className:"mt-4 text-center",children:n.jsxs(M,{to:"/browse-cases",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:["View all ",p.length," specialties →"]})})]}),n.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Quick Stats"}),a?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Loading your progress..."})]}):n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((E=r==null?void 0:r.progress)==null?void 0:E.totalCasesCompleted)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Cases Completed"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(h=r==null?void 0:r.progress)!=null&&h.overallAverageScore?`${Math.round(r.progress.overallAverageScore)}%`:"0%"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((m=r==null?void 0:r.recentMetrics)==null?void 0:m.length)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Recent Cases"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((f=r==null?void 0:r.progress)==null?void 0:f.totalCasesCompleted)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Cases"})]})]})]}),(r==null?void 0:r.recentMetrics)&&r.recentMetrics.length>0&&n.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),n.jsx("div",{className:"space-y-3",children:r.recentMetrics.slice(0,5).map((y,w)=>{var k,P,b,T,L,K,be;return n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:((P=(k=y.case_ref)==null?void 0:k.case_metadata)==null?void 0:P.title)||"Unknown Case"}),((T=(b=y.case_ref)==null?void 0:b.case_metadata)==null?void 0:T.specialty)&&n.jsx("button",{onClick:()=>N(y.case_ref.case_metadata.specialty),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:y.case_ref.case_metadata.specialty}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Completed on ",new Date(y.evaluated_at).toLocaleDateString()]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:`font-bold ${((L=y.metrics)==null?void 0:L.overall_score)>=90?"text-green-600":((K=y.metrics)==null?void 0:K.overall_score)>=70?"text-yellow-600":"text-red-600"}`,children:[Math.round(((be=y.metrics)==null?void 0:be.overall_score)||0),"%"]})})]},w)})})]}),(r==null?void 0:r.progress)&&n.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Overall Progress"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Total Cases Completed"}),n.jsx("div",{className:"mt-2 text-2xl font-bold text-blue-600",children:r.progress.totalCasesCompleted}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cases across all specialties"})]}),n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Overall Average Score"}),n.jsxs("div",{className:"mt-2 text-2xl font-bold text-green-600",children:[Math.round(r.progress.overallAverageScore),"%"]}),n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${r.progress.overallAverageScore>=90?"bg-green-500":r.progress.overallAverageScore>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(r.progress.overallAverageScore,100)}%`}})})]})]})]}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 p-6 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"🔒"}),"Privacy & Data Control"]}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Your privacy is important to us. Control how your data is used and who can see your progress."}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Privacy Settings"}),n.jsx("button",{onClick:()=>u(!0),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:"Export My Data"}),n.jsx(M,{to:"/leaderboard",className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors inline-block",children:"Leaderboard Settings"})]})]}),(e==null?void 0:e.role)==="admin"&&n.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Admin Actions"}),n.jsx(M,{to:"/admin",className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition-colors inline-block",children:"Admin Dashboard"})]}),i&&n.jsx(Qd,{onClose:()=>c(!1)}),o&&n.jsx(mg,{onClose:()=>u(!1)})]})};class hg{constructor(){ht(this,"metrics",new Map);ht(this,"cacheStats",{hits:0,misses:0,hitRate:0});ht(this,"renderCounts",new Map)}startTiming(t,r){this.metrics.set(t,{name:t,startTime:performance.now(),metadata:r})}endTiming(t){const r=this.metrics.get(t);if(!r)return console.warn(`Performance metric "${t}" not found`),null;const s=performance.now(),a=s-r.startTime;return this.metrics.set(t,{...r,endTime:s,duration:a}),a}getTiming(t){const r=this.metrics.get(t);return(r==null?void 0:r.duration)||null}recordCacheHit(){this.cacheStats.hits++,this.updateHitRate()}recordCacheMiss(){this.cacheStats.misses++,this.updateHitRate()}updateHitRate(){const t=this.cacheStats.hits+this.cacheStats.misses;this.cacheStats.hitRate=t>0?this.cacheStats.hits/t:0}getCacheStats(){return{...this.cacheStats}}recordRender(t){const r=this.renderCounts.get(t)||0;this.renderCounts.set(t,r+1)}getRenderCount(t){return this.renderCounts.get(t)||0}getAllMetrics(){return Array.from(this.metrics.values()).filter(t=>t.duration!==void 0)}getSummary(){const t=this.getAllMetrics(),r=t.filter(i=>i.name.includes("page_load")),s=r.length>0?r.reduce((i,c)=>i+(c.duration||0),0)/r.length:0,a=Array.from(this.renderCounts.values()).reduce((i,c)=>i+c,0),l=t.sort((i,c)=>(c.duration||0)-(i.duration||0)).slice(0,5).map(i=>({name:i.name,duration:i.duration||0}));return{averagePageLoad:s,cacheHitRate:this.cacheStats.hitRate,totalRenders:a,slowestOperations:l}}clear(){this.metrics.clear(),this.cacheStats={hits:0,misses:0,hitRate:0},this.renderCounts.clear()}logSummary(){}}const fr=new hg,Kg=e=>{const t=`page_load_${e}`;return fr.startTiming(t),()=>fr.endTiming(t)},Gg=e=>{const t=`api_call_${e}`;return fr.startTiming(t),()=>fr.endTiming(t)},Zt=e=>{e?fr.recordCacheHit():fr.recordCacheMiss()},Jg=e=>{fr.recordRender(e)};class pg{constructor(){ht(this,"cache",new Map);ht(this,"DEFAULT_TTL",5*60*1e3);ht(this,"STORAGE_KEY","specialty_cache");ht(this,"STORAGE_TTL",30*60*1e3)}get(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(t),Zt(!1),null):(Zt(!0),r.data):(Zt(!1),null)}set(t,r,s){const a={data:r,timestamp:Date.now(),ttl:s||this.DEFAULT_TTL};this.cache.set(t,a)}delete(t){this.cache.delete(t)}clear(){this.cache.clear(),this.clearPersistentCache()}getSpecialtyData(){const t=this.get("specialty_data");if(t)return t;try{const r=localStorage.getItem(this.STORAGE_KEY);if(r){const s=JSON.parse(r);if(Date.now()-s.timestamp<this.STORAGE_TTL)return this.set("specialty_data",s.data,this.DEFAULT_TTL),Zt(!0),s.data;localStorage.removeItem(this.STORAGE_KEY),Zt(!1)}else Zt(!1)}catch(r){console.warn("Failed to read specialty cache from localStorage:",r),Zt(!1)}return null}setSpecialtyData(t){this.set("specialty_data",t,this.DEFAULT_TTL);try{const r={data:t,timestamp:Date.now()};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r))}catch(r){console.warn("Failed to save specialty cache to localStorage:",r)}}buildSpecialtyCache(t,r){const s={},a={};return t.forEach(l=>{const i=Js(l);s[l]=i,a[i]=l}),{specialties:t,specialtyCounts:r,slugMappings:s,reverseMappings:a}}getSpecialtySlug(t){const r=this.getSpecialtyData();return(r==null?void 0:r.slugMappings[t])||null}getSpecialtyFromSlug(t){const r=this.getSpecialtyData();return(r==null?void 0:r.reverseMappings[t])||null}hasSpecialty(t){const r=this.getSpecialtyData();return(r==null?void 0:r.specialties.includes(t))||!1}hasSlug(t){const r=this.getSpecialtyData();return t in((r==null?void 0:r.reverseMappings)||{})}getSpecialtyCount(t){const r=this.getSpecialtyData();return(r==null?void 0:r.specialtyCounts[t])||0}clearPersistentCache(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(t){console.warn("Failed to clear persistent cache:",t)}}getStats(){var r;const t=this.getSpecialtyData();return{memoryEntries:this.cache.size,hasSpecialtyData:!!t,specialtyCount:(t==null?void 0:t.specialties.length)||0,lastUpdated:((r=this.cache.get("specialty_data"))==null?void 0:r.timestamp)||null}}}const At=new pg,er=e=>At.getSpecialtySlug(e)||Js(e),hc=e=>At.getSpecialtyFromSlug(e)||Ul(e),pc=e=>At.hasSlug(e),Kd=()=>{const e=nt(),t=He(),[r,s]=x.useState({currentSpecialty:null,currentSpecialtySlug:null,availableSpecialties:[],specialtyRoutes:[],loading:!0,error:null}),[a,l]=x.useState(t.pathname);x.useEffect(()=>{const f=setTimeout(()=>{l(t.pathname)},100);return()=>clearTimeout(f)},[t.pathname]);const i=x.useCallback(async()=>{try{const f=At.getSpecialtyData();if(f)return{specialties:f.specialties,specialtyCounts:f.specialtyCounts};const y=await U.getCaseCategories(),w=y.specialties||[],k=y.specialty_counts||{},P=At.buildSpecialtyCache(w,k);return At.setSpecialtyData(P),{specialties:w,specialtyCounts:k}}catch(f){throw console.error("Error fetching specialties:",f),f}},[]),c=x.useCallback((f,y,w)=>f.map(k=>{const P=er(k);return{specialty:k,slug:P,caseCount:y[k]||0,isActive:P===w}}),[]),o=x.useMemo(()=>{const f=a.split("/").filter(Boolean);if(f.length>0){const y=f[0];if(pc(y)||un(y))return y}return null},[a]),u=x.useCallback(async()=>{try{s(b=>({...b,loading:!0,error:null}));const{specialties:f,specialtyCounts:y}=await i(),w=o;let k=null;if(w){const b=hc(w),T=f.find(L=>er(L)===w);T?k=T:s(L=>({...L,error:`Invalid specialty: ${b}`}))}const P=c(f,y,w);s(b=>({...b,currentSpecialty:k,currentSpecialtySlug:w,availableSpecialties:f,specialtyRoutes:P,loading:!1}))}catch(f){console.error("Error initializing specialty context:",f),s(y=>({...y,loading:!1,error:f instanceof Error?f.message:"Failed to load specialties"}))}},[i,o,c]),p=x.useCallback(f=>{if(!f)return;const y=er(f);y&&e(`/${y}`)},[e]),d=x.useCallback(f=>{!f||!un(f)||e(`/${f}`)},[e]),g=x.useCallback(f=>f?r.availableSpecialties.includes(f):!1,[r.availableSpecialties]),v=x.useCallback(f=>un(f)?pc(f)?!0:r.availableSpecialties.some(y=>er(y)===f):!1,[r.availableSpecialties]),N=x.useCallback(f=>{if(!f||!un(f))return null;const y=hc(f);return y&&r.availableSpecialties.includes(y)?y:r.availableSpecialties.find(k=>er(k)===f)||null},[r.availableSpecialties]),j=x.useCallback(f=>er(f),[]),E=x.useCallback(async()=>{At.clear(),await u()},[u]),h=x.useCallback(()=>{s(f=>({...f,error:null}))},[]);x.useEffect(()=>{u()},[u]);const m=x.useMemo(()=>{const f=At.getSpecialtyData();return c(r.availableSpecialties,(f==null?void 0:f.specialtyCounts)||{},o)},[r.availableSpecialties,o,c]);return x.useEffect(()=>{const f=o;if(f!==r.currentSpecialtySlug){const y=r.availableSpecialties.find(w=>er(w)===f);s(w=>({...w,currentSpecialty:y||null,currentSpecialtySlug:f,specialtyRoutes:m}))}},[a,r.currentSpecialtySlug,r.availableSpecialties,o,m]),{currentSpecialty:r.currentSpecialty,currentSpecialtySlug:r.currentSpecialtySlug,availableSpecialties:r.availableSpecialties,specialtyRoutes:r.specialtyRoutes,loading:r.loading,error:r.error,navigateToSpecialty:p,navigateToSpecialtySlug:d,isValidSpecialty:g,isValidSpecialtySlug:v,getSpecialtyFromSlug:N,getSlugFromSpecialty:j,refreshSpecialties:E,clearError:h}},gg=()=>{const e=nt(),t=zi(),{currentSpecialty:r,availableSpecialties:s,specialtyRoutes:a,loading:l,error:i,navigateToSpecialty:c,getSpecialtyFromSlug:o,clearError:u}=Kd(),[p,d]=x.useState("program"),[g,v]=x.useState(""),[N,j]=x.useState([]),[E,h]=x.useState([]),[m,f]=x.useState(!0),[y,w]=x.useState({}),k=!!(r||t.specialty),P=r||(t.specialty?o(t.specialty):null),b={"Basic Program":{description:"Foundational medical cases covering essential clinical skills and common presentations",icon:"🏥"},"Specialty Program":{description:"Advanced cases in specialized medical fields requiring deeper clinical expertise",icon:"🔬"}},T={"General Surgery":"Surgical cases covering common procedures and surgical decision-making","Internal Medicine":"Complex medical cases focusing on diagnosis and management of internal conditions",Pediatrics:"Child and adolescent health cases with age-specific considerations","Reproductive Health":"Cases related to reproductive system health and family planning","Emergency Medicine":"Acute care scenarios requiring rapid assessment and intervention",Cardiology:"Heart and cardiovascular system cases",Neurology:"Neurological conditions and brain-related cases",Psychiatry:"Mental health and psychiatric condition cases"};x.useEffect(()=>{k&&P?(d("specialty"),K(P)):L()},[k,P]),x.useEffect(()=>{g&&!k&&be(g)},[g,k]),x.useEffect(()=>{i&&k&&console.error("Specialty error:",i)},[i,k]);const L=async()=>{try{f(!0);const C=await U.getCaseCategories();j(C.program_areas||[])}catch(C){console.error("Error fetching program areas:",C)}finally{f(!1)}},K=async C=>{try{f(!0);const $=(await U.getCaseCategories()).program_areas||[];for(const W of $){const G=await U.getCaseCategories({program_area:W}),st=G.specialties||[];if(st.includes(C)){v(W),h(st),w(G.specialty_counts||{});break}}j($)}catch(I){console.error("Error fetching specialty program area:",I)}finally{f(!1)}},be=async C=>{try{f(!0);const I=await U.getCaseCategories({program_area:C});h(I.specialties||[]),w(I.specialty_counts||{})}catch(I){console.error("Error fetching specialties:",I)}finally{f(!1)}},dt=C=>{v(C),d("specialty")},ae=C=>{U.setSpecialtyContext(g,C),c(C)},Pt=()=>{k?e("/browse-cases"):(d("program"),v(""),h([]),w({}))},Jt=C=>{c(C)},mt=()=>{P?c(P):e("/simulation")};return m&&p==="program"||l&&k?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:k?"Loading specialty information...":"Loading program areas..."})]})}):i&&k?n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),n.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Invalid Specialty"}),n.jsx("p",{className:"text-red-700 mb-4",children:i}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx("button",{onClick:()=>{u(),e("/browse-cases")},className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Browse All Cases"}),n.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})]})}):n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:k&&P?`${P} Cases`:p==="program"?"Choose Program Area":"Choose Specialty"}),n.jsx("p",{className:"text-gray-600",children:k&&P?`Browse cases and simulations in ${P}`:p==="program"?"Select a program area to explore available medical cases":`Select a specialty within ${g}`})]}),(p==="specialty"||k)&&n.jsxs("button",{onClick:Pt,className:"flex items-center space-x-2 px-4 py-2 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:"←"}),n.jsx("span",{children:k?"Browse All Cases":"Back to Programs"})]})]})}),n.jsx("div",{className:"mb-6",children:n.jsx("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:k&&P?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"hover:text-blue-600 cursor-pointer",onClick:()=>e("/dashboard"),children:"Dashboard"}),n.jsx("span",{children:"→"}),n.jsx("span",{className:"hover:text-blue-600 cursor-pointer",onClick:()=>e("/browse-cases"),children:"Browse Cases"}),n.jsx("span",{children:"→"}),n.jsx("span",{className:"font-semibold text-blue-600",children:P})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:`${p==="program"?"font-semibold text-blue-600":"hover:text-blue-600 cursor-pointer"}`,onClick:p==="specialty"?Pt:void 0,children:"Program Area"}),p==="specialty"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"→"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:[g," → Specialty"]})]})]})})}),k&&P&&n.jsxs("div",{children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-2",children:P}),n.jsx("p",{className:"text-blue-700 mb-4",children:T[P]||"Specialized medical cases in this field"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-blue-600",children:[y[P]||0," available cases"]}),n.jsx("button",{onClick:mt,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"View All Cases →"})]})]})})}),s.length>1&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Explore Other Specialties"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.filter(C=>C!==P).slice(0,6).map(C=>{const I=a.find(W=>W.specialty===C),$=(I==null?void 0:I.caseCount)||0;return n.jsxs("div",{onClick:()=>Jt(C),className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:C}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T[C]||"Specialized medical cases"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[$," case",$!==1?"s":""]}),n.jsx("span",{className:"text-xs text-blue-600",children:"View →"})]})]},C)})}),s.length>7&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>e("/browse-cases"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All Specialties →"})})]}),y[P]===0&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:"📚"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Cases Available Yet"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["There are no cases available for ",P," at the moment. New cases are added regularly, so please check back soon."]}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/browse-cases"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Other Specialties"}),n.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})]})]}),!k&&p==="program"&&n.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:N.map(C=>{const I=b[C]||{description:"Medical cases in this program area",icon:"📚"};return n.jsx("div",{onClick:()=>dt(C),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 cursor-pointer border-2 border-transparent hover:border-blue-200",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"text-4xl",children:I.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:C}),n.jsx("p",{className:"text-gray-600 mb-4",children:I.description}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Explore Cases →"})})]})]})},C)})}),!k&&p==="specialty"&&n.jsx("div",{children:m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading specialties..."})]}):E.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Specialties Available"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["There are no specialties available for ",g," at the moment."]}),n.jsx("button",{onClick:Pt,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose Different Program"})]}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(C=>{const I=T[C]||"Specialized medical cases in this field",$=y[C]||0;return n.jsxs("div",{onClick:()=>ae(C),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 cursor-pointer border-2 border-transparent hover:border-blue-200",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:C}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:I})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:[$," case",$!==1?"s":""]}),$>0&&n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),n.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"View Cases →"})]})]},C)})})}),n.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Access"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[k&&P?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:mt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:["View ",P," Cases"]}),n.jsx("button",{onClick:()=>e("/browse-cases"),className:"px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors text-sm",children:"Browse All Specialties"}),n.jsx("button",{onClick:()=>{U.clearSpecialtyContext(),e("/simulation")},className:"px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors text-sm",children:"All Cases (No Filter)"})]}):n.jsx(n.Fragment,{children:n.jsx("button",{onClick:()=>{U.getSpecialtyContext()||U.clearSpecialtyContext(),e("/simulation")},className:"px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors text-sm",children:(()=>{const C=U.getSpecialtyContext();return C?`All ${C.specialty} Cases`:"Browse All Cases"})()})}),n.jsx("button",{onClick:()=>e("/dashboard"),className:"px-4 py-2 bg-white text-gray-700 rounded-lg border border-gray-300 hover:border-gray-400 transition-colors text-sm",children:"Back to Dashboard"})]})]})]})},xg=()=>{var y,w,k,P;const e=nt(),t=He(),[r,s]=x.useState([]),[a,l]=x.useState(!0),[i,c]=x.useState(!1),[o,u]=x.useState(()=>{var T;const b=(T=t.state)==null?void 0:T.preselectedFilters;if(!(b!=null&&b.program_area)&&!(b!=null&&b.specialty)){const L=U.getSpecialtyContext();if(L)return{program_area:L.programArea,specialty:L.specialty,search:""}}return{program_area:(b==null?void 0:b.program_area)||"",specialty:(b==null?void 0:b.specialty)||"",search:""}}),p=!!((w=(y=t.state)==null?void 0:y.preselectedFilters)!=null&&w.program_area&&((P=(k=t.state)==null?void 0:k.preselectedFilters)!=null&&P.specialty)),d=!!(!p&&o.program_area&&o.specialty),[g,v]=x.useState({program_areas:[],specialties:[],specialized_areas:[]}),[N,j]=x.useState([]);x.useEffect(()=>{E()},[]),x.useEffect(()=>{m()},[o]),x.useEffect(()=>{o.program_area?(h(o.program_area),u(b=>({...b,specialty:""}))):g.specialties&&Array.isArray(g.specialties)&&j(g.specialties)},[o.program_area,g.specialties]);const E=async()=>{try{const b=await U.getCaseCategories();b&&(v(b),j(b.specialties||[]))}catch(b){console.error("Error fetching categories:",b),v({program_areas:[],specialties:[],specialized_areas:[]}),j([])}},h=async b=>{try{const T=await U.getCaseCategories({program_area:b});T&&T.specialties?j(T.specialties):j([])}catch(T){console.error("Error fetching specialties for program area:",T),j([])}},m=async()=>{try{l(!0);const b=await U.getCases(o);b&&Array.isArray(b.cases)?s(b.cases):s([])}catch(b){console.error("Error fetching cases:",b),s([])}finally{l(!1)}},f=async b=>{try{c(!0);const T=await U.startSimulation(b.id);let L="/simulation";p&&o.specialty?L=`/${o.specialty.toLowerCase().replace(/\s+/g,"_")}`:d&&o.specialty&&(L=`/${o.specialty.toLowerCase().replace(/\s+/g,"_")}`),e(`/simulation/${b.id}/session/${T.sessionId}`,{state:{specialtyContext:{specialty:o.specialty,returnUrl:L}}})}catch(T){console.error("Error starting simulation:",T),alert("Failed to start simulation. Please try again.")}finally{c(!1)}};return n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{children:p?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[o.specialty," Cases"]}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:o.program_area})]}),n.jsx("p",{className:"text-gray-600",children:"Ready to practice? Choose a case below to start your simulation."})]}):d?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["All ",o.specialty," Cases"]}),n.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:o.program_area}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:"Smart Filter"})]}),n.jsxs("p",{className:"text-gray-600",children:["Showing all cases in ",o.specialty,". Want to see cases from other specialties?"," ",n.jsx("button",{onClick:()=>{U.clearSpecialtyContext(),u({program_area:"",specialty:"",search:""})},className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filter"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"All Patient Cases"}),n.jsx("p",{className:"text-gray-600",children:o.program_area&&o.specialty?`Showing cases for ${o.specialty} in ${o.program_area}`:"Browse all available cases or use filters to narrow your selection"})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[(p||d)&&n.jsxs(M,{to:"/browse-cases",className:"text-blue-600 hover:text-blue-800 text-sm flex items-center space-x-1",children:[n.jsx("span",{children:"←"}),n.jsx("span",{children:"Change Specialty"})]}),!p&&!d&&(o.program_area||o.specialty)&&n.jsxs(M,{to:"/browse-cases",className:"text-blue-600 hover:text-blue-800 text-sm flex items-center space-x-1",children:[n.jsx("span",{children:"←"}),n.jsx("span",{children:"Browse by Category"})]})]})]})}),!p&&!d&&n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filter Cases"}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("span",{className:"flex items-center",children:["Program Area",n.jsx("span",{className:"ml-1 text-blue-600 text-xs",children:"(Step 1)"})]})}),n.jsxs("select",{value:o.program_area,onChange:b=>u({...o,program_area:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Program Areas"}),g.program_areas.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n.jsxs("span",{className:"flex items-center",children:["Specialty",n.jsx("span",{className:"ml-1 text-blue-600 text-xs",children:"(Step 2)"})]})}),n.jsxs("select",{value:o.specialty,onChange:b=>u({...o,specialty:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!o.program_area&&N.length===0,children:[n.jsx("option",{value:"",children:o.program_area?"All Specialties":"Select Program Area First"}),N.map(b=>n.jsx("option",{value:b,children:b},b))]}),o.program_area&&N.length===0&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No specialties available for selected program area"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),n.jsx("input",{type:"text",value:o.search,onChange:b=>u({...o,search:b.target.value}),placeholder:"Search cases...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(o.program_area||o.specialty||o.search)&&n.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-blue-800 font-medium",children:"Active filters:"}),o.program_area&&n.jsxs("span",{className:"px-2 py-1 bg-blue-200 text-blue-800 text-xs rounded-full",children:["Program: ",o.program_area]}),o.specialty&&n.jsxs("span",{className:"px-2 py-1 bg-blue-200 text-blue-800 text-xs rounded-full",children:["Specialty: ",o.specialty]}),o.search&&n.jsxs("span",{className:"px-2 py-1 bg-blue-200 text-blue-800 text-xs rounded-full",children:['Search: "',o.search,'"']})]}),n.jsx("button",{onClick:()=>u({program_area:"",specialty:"",search:""}),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Clear all"})]})})]}),(p||d)&&n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:o.search,onChange:b=>u({...o,search:b.target.value}),placeholder:"Search within these cases...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),o.search&&n.jsx("button",{onClick:()=>u({...o,search:""}),className:"px-3 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Clear"})]})}),a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Loading cases..."})]}):r.length===0?n.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:p||d?n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-gray-600 mb-2",children:["No cases found in ",o.specialty,"."]}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:o.search?"Try a different search term or browse other specialties.":"There are currently no cases available in this specialty."}),n.jsxs("div",{className:"flex justify-center space-x-3",children:[o.search&&n.jsx("button",{onClick:()=>u({...o,search:""}),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"Clear Search"}),n.jsx(M,{to:"/browse-cases",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Browse Other Specialties"}),d&&n.jsx("button",{onClick:()=>{U.clearSpecialtyContext(),u({program_area:"",specialty:"",search:""})},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:"Show All Cases"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-600 mb-2",children:"No cases found matching your criteria."}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Try adjusting your filters or search terms to find more cases."}),n.jsx("button",{onClick:()=>u({program_area:"",specialty:"",search:""}),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]})}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(b=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"flex justify-between items-start mb-2",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:b.title})}),n.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-3",children:b.description})]}),n.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[b.specialty&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Specialty:"}),n.jsx("span",{className:"text-gray-900",children:b.specialty})]}),b.patient_age&&b.patient_gender&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Patient:"}),n.jsxs("span",{className:"text-gray-900",children:[b.patient_age,"y ",b.patient_gender]})]}),b.chief_complaint&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Chief Complaint:"}),n.jsx("span",{className:"text-gray-900 text-right",children:b.chief_complaint})]})]}),n.jsx("button",{onClick:()=>f(b),disabled:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:i?"Starting...":"Start Simulation"})]},b.id))})]})},gc=()=>{var G,st;const{caseId:e,sessionId:t}=zi(),r=nt(),s=He(),a=(G=s.state)==null?void 0:G.specialtyContext;Pc.useEffect(()=>{const S=document.createElement("style");return S.textContent=`
      @keyframes fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-fade-in {
        animation: fade-in 0.3s ease-out forwards;
      }
      @keyframes pulse-glow {
        0%, 100% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
        50% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.8); }
      }
      .pulse-glow {
        animation: pulse-glow 2s infinite;
      }
    `,document.head.appendChild(S),()=>{document.head.removeChild(S)}},[]),ut();const[l,i]=x.useState([]),[c,o]=x.useState(""),[u,p]=x.useState(!1),[d,g]=x.useState(null),[v,N]=x.useState(!1),[j,E]=x.useState(""),[h,m]=x.useState({phase:"idle",progress:0,message:"",isLoading:!1}),[f,y]=x.useState("invalid"),[w,k]=x.useState(null),[P,b]=x.useState(0),[T,L]=x.useState(!1),K=x.useRef(null),be=x.useRef(null);x.useEffect(()=>{e&&t?(y("case-with-session"),console.log("🔗 URL Pattern: case-with-session",{caseId:e,sessionId:t})):e&&!t?(y("case-only"),console.log("🔗 URL Pattern: case-only",{caseId:e})):(y("invalid"),console.log("🔗 URL Pattern: invalid",{caseId:e,sessionId:t}))},[e,t]),x.useEffect(()=>{switch(console.log("📍 Simulation startup useEffect triggered:",{caseId:e,sessionId:t,hasSessionData:!!d,sessionDataKeys:d?Object.keys(d):[],urlAccessPattern:f,simulationError:(w==null?void 0:w.type)||null}),k(null),b(0),f){case"case-only":d||(console.log("🚀 Case-only URL detected - Starting new simulation for case:",e),mt());break;case"case-with-session":d||(console.log("🔄 Case+Session URL detected - Loading existing session:",t),g({sessionId:t,patientName:"Loading...",caseId:e,urlAccessPattern:"case-with-session"}));break;case"invalid":e||(console.warn("⚠️ Invalid URL - No caseId provided, redirecting to simulation page"),k({type:"invalid_case",message:"No case ID provided in URL",userMessage:"Invalid simulation URL. Please select a case from the case browser.",action:"redirect",redirectUrl:"/simulation",canRetry:!1}),ae("Invalid URL - No caseId",{url:window.location.href}),setTimeout(()=>{r("/simulation")},3e3));break;default:console.log("⏳ URL pattern not yet determined, waiting...")}return()=>{be.current&&(console.log("🧹 Cleaning up EventSource"),be.current.close())}},[e,t,f]),x.useEffect(()=>{dt()},[l]);const dt=()=>{var S;(S=K.current)==null||S.scrollIntoView({behavior:"smooth"})},ae=(S,A)=>{const z={timestamp:new Date().toISOString(),type:S,caseId:e,sessionId:t,urlAccessPattern:f,userAgent:navigator.userAgent,url:window.location.href,retryCount:P,details:A};console.error("🚨 Simulation Error:",z)},Pt=S=>{var A,z,D,Ye,Xt,q,Me,le,qt,ft,ne,gr,Gr,Yi,Qi,Ki;return console.error("🔍 Analyzing error:",S),(A=S.message)!=null&&A.includes("fetch")||(z=S.message)!=null&&z.includes("network")||(D=S.message)!=null&&D.includes("Failed to fetch")||S.name==="NetworkError"?{type:"network",message:S.message||"Network connection failed",userMessage:"Connection failed. Please check your internet connection and try again.",action:"retry",canRetry:!0}:(Ye=S.message)!=null&&Ye.includes("401")||(Xt=S.message)!=null&&Xt.includes("authentication")||(q=S.message)!=null&&q.includes("unauthorized")||(Me=S.message)!=null&&Me.includes("Session expired")?{type:"auth",message:S.message||"Authentication failed",userMessage:"Your session has expired. Please log in again.",action:"login",redirectUrl:"/login",canRetry:!1}:(le=S.message)!=null&&le.includes("404")||(qt=S.message)!=null&&qt.includes("not found")||(ft=S.message)!=null&&ft.includes("Case not found")||(ne=S.message)!=null&&ne.includes("Invalid case")?{type:"invalid_case",message:S.message||"Case not found",userMessage:"This case could not be found. It may have been removed or you may not have access to it.",action:"redirect",redirectUrl:(a==null?void 0:a.returnUrl)||"/simulation",canRetry:!1}:(gr=S.message)!=null&&gr.includes("timeout")||S.name==="TimeoutError"?{type:"timeout",message:S.message||"Request timeout",userMessage:"The request is taking too long. Please try again.",action:"retry",canRetry:!0}:(Gr=S.message)!=null&&Gr.includes("500")||(Yi=S.message)!=null&&Yi.includes("502")||(Qi=S.message)!=null&&Qi.includes("503")||(Ki=S.message)!=null&&Ki.includes("server")?{type:"server",message:S.message||"Server error",userMessage:"The server is experiencing issues. Please try again in a few moments.",action:"retry",canRetry:!0}:{type:"unknown",message:S.message||"Unknown error occurred",userMessage:"An unexpected error occurred. Please try again or contact support if the problem persists.",action:"retry",canRetry:!0}},Jt=async()=>{if(!(!(w!=null&&w.canRetry)||T)){L(!0),b(S=>S+1),console.log(`🔄 Retrying simulation startup (attempt ${P+1})`);try{k(null),m({phase:"idle",progress:0,message:"",isLoading:!1}),w.type==="network"&&await new Promise(S=>setTimeout(S,2e3)),await mt()}catch(S){console.error("❌ Retry failed:",S);const A=Pt(S);k(A),ae("Retry failed",{originalError:w,newError:A,retryAttempt:P+1})}finally{L(!1)}}},mt=async()=>{if(!e){k({type:"invalid_case",message:"No case ID provided",userMessage:"No case ID was provided. Please select a case to start a simulation.",action:"redirect",redirectUrl:"/simulation",canRetry:!1}),ae("No case ID provided",{caseId:e});return}if(d&&!v&&d.sessionId){console.log("⚠️ Simulation already in progress, not starting a new one");return}try{m({phase:"validating_case",progress:10,message:`Validating case ${e}...`,isLoading:!0}),p(!0),k(null),console.log("🚀 Starting new simulation for case-only URL:",e),await new Promise(le=>setTimeout(le,800)),m({phase:"creating_session",progress:30,message:"Creating new simulation session...",isLoading:!0});const S=await U.startSimulation(e);console.log("🔍 API Response received:",S),m({phase:"loading_patient",progress:60,message:"Loading patient information...",isLoading:!0}),await new Promise(le=>setTimeout(le,600));const A=S.sessionId||S.session_id,z=S.patientName||S.patient_name||S.name||S.speaks_for||"Patient",D=S.initialPrompt||S.initial_prompt||S.prompt||S.message||"",Ye=S.speaks_for||z;if(!A)throw new Error("No session ID received from server");const Xt={sessionId:A,caseId:e,patientName:z,initialPrompt:D,speaks_for:Ye,urlAccessPattern:"case-only",startedAt:new Date().toISOString(),isNewSession:!0};console.log("✅ Setting enhanced session data:",Xt),m({phase:"initializing_chat",progress:85,message:`Preparing chat interface for ${z}...`,isLoading:!0}),await new Promise(le=>setTimeout(le,500)),g(Xt);const q=[],Me={id:"system-"+Date.now(),role:"assistant",content:`🏥 **Welcome to Simuatech**

You are now interacting with ${z}. This is a safe learning environment where you can practice your clinical skills.

**How to interact:**
• Ask questions about symptoms, medical history, or concerns
• Conduct a virtual examination by asking specific questions
• Practice your diagnostic reasoning
• The patient will respond realistically based on their condition

**Tips:**
• Start with open-ended questions like "What brings you in today?"
• Be thorough in your questioning
• Take your time - there's no rush

Type your first question below to begin the consultation. Good luck! 👩‍⚕️👨‍⚕️`,timestamp:new Date,speaks_for:"System"};if(q.push(Me),console.log("🔍 Checking for initial prompt:",{raw:D,trimmed:D==null?void 0:D.trim(),length:D==null?void 0:D.length,hasContent:!!(D&&D.trim())}),D&&D.trim()){console.log("✅ Adding patient initial message");const le={id:"patient-initial-"+Date.now(),role:"assistant",content:D.trim(),timestamp:new Date,speaks_for:Ye};q.push(le)}else{console.log("⚠️ No initial prompt, adding default greeting - Requirement 2.2");const le={id:"patient-default-"+Date.now(),role:"assistant",content:`Hello, I'm ${z}. Thank you for seeing me today. How can I help you?`,timestamp:new Date,speaks_for:Ye};q.push(le)}console.log("📝 Setting messages:",q.map(le=>({id:le.id,role:le.role,speaks_for:le.speaks_for,content:le.content.substring(0,50)+"..."}))),m({phase:"complete",progress:100,message:"Simulation ready!",isLoading:!1}),i(q),setTimeout(()=>{i(()=>[...q]),setTimeout(()=>{m({phase:"idle",progress:0,message:"",isLoading:!1})},1e3)},300),console.log("🔄 Redirecting to session URL for consistency"),r(`/simulation/${e}/session/${A}`,{replace:!0,state:{...s.state,fromCaseOnlyUrl:!0}})}catch(S){console.error("❌ Error starting simulation:",S);const A=Pt(S);k(A),ae("Simulation startup failed",{error:S instanceof Error?S.message:String(S),errorType:A.type,caseId:e,retryCount:P,stack:S instanceof Error?S.stack:void 0}),!A.canRetry&&A.action==="redirect"&&setTimeout(()=>{A.redirectUrl?r(A.redirectUrl):a!=null&&a.returnUrl?r(a.returnUrl):r("/simulation")},4e3),A.action==="login"&&setTimeout(()=>{r("/login")},3e3)}finally{p(!1),m({phase:"idle",progress:0,message:"",isLoading:!1})}},C=async()=>{if(!c.trim()||!(d!=null&&d.sessionId)||u||v)return;const S={id:Date.now().toString(),role:"user",content:c.trim(),timestamp:new Date};i(A=>[...A,S]),o(""),p(!0);try{await I(d.sessionId,S.content)}catch(A){console.error("Error sending message:",A);let z="I apologize, but I'm having trouble responding right now. Please try again.";A instanceof Error&&(A.message.includes("authentication")||A.message.includes("token")||A.message.includes("401")?(z="Your session has expired. Please refresh the page and log in again.",ae("Message send - Authentication error",{error:A.message,sessionId:d==null?void 0:d.sessionId,messageLength:c.length})):A.message.includes("timeout")?(z="The response is taking longer than expected. Please try again.",ae("Message send - Timeout error",{error:A.message,sessionId:d==null?void 0:d.sessionId})):A.message.includes("connection")||A.message.includes("network")||A.message.includes("fetch")?(z="Connection to server failed. Please check your internet connection and try again.",ae("Message send - Network error",{error:A.message,sessionId:d==null?void 0:d.sessionId})):A.message.includes("500")||A.message.includes("502")||A.message.includes("503")?(z="The server is experiencing issues. Please try again in a moment.",ae("Message send - Server error",{error:A.message,sessionId:d==null?void 0:d.sessionId})):ae("Message send - Unknown error",{error:A.message,sessionId:d==null?void 0:d.sessionId,stack:A.stack}));const D={id:(Date.now()+1).toString(),role:"assistant",content:`⚠️ **Connection Error**

${z}

*If this problem persists, please refresh the page or contact support.*`,timestamp:new Date,speaks_for:"System"};i(Ye=>[...Ye,D])}finally{p(!1)}},I=(S,A)=>new Promise((z,D)=>{const Ye=localStorage.getItem("authToken");if(!Ye){D(new Error("No authentication token found"));return}const Xt=new URLSearchParams({sessionId:S,question:A,token:Ye}),q=new EventSource(`http://localhost:5003/api/simulation/ask?${Xt.toString()}`);be.current=q;let Me={id:(Date.now()+2).toString(),role:"assistant",content:"",timestamp:new Date,speaks_for:(d==null?void 0:d.patientName)||"Patient"},le=!1,qt=!1;q.onopen=()=>{console.log("EventSource connection opened"),qt=!0},q.onmessage=ft=>{try{console.log("Received SSE data:",ft.data);const ne=JSON.parse(ft.data);switch(ne.type){case"chunk":le||(Me.speaks_for=ne.name||ne.speaks_for||(d==null?void 0:d.patientName)||"Patient",i(gr=>[...gr,Me]),le=!0),Me.content+=ne.content,Me.speaks_for=ne.name||ne.speaks_for||Me.speaks_for,i(gr=>gr.map(Gr=>Gr.id===Me.id?{...Me}:Gr));break;case"done":console.log("Stream completed"),q.close(),z();break;case"session_end":console.log("Session ended by system"),N(!0),ne.summary&&E(ne.summary),q.close(),z();break;default:console.log("Unknown event type:",ne.type)}}catch(ne){console.error("Error parsing SSE data:",ne,"Raw data:",ft.data),ae("EventSource - Data parsing error",{error:ne instanceof Error?ne.message:String(ne),rawData:ft.data,sessionId:S,timestamp:new Date().toISOString()}),q.close(),D(ne)}},q.onerror=ft=>{console.error("EventSource error:",ft),console.error("EventSource readyState:",q.readyState);const ne={readyState:q.readyState,connectionEstablished:qt,sessionId:S,question:A.substring(0,100)+"...",timestamp:new Date().toISOString()};qt?(ae("EventSource - Connection lost",ne),D(new Error("Connection to server was lost"))):(ae("EventSource - Failed to establish connection",ne),D(new Error("Failed to establish connection to server"))),q.close()},setTimeout(()=>{q.readyState!==EventSource.CLOSED&&(console.log("Request timeout, closing EventSource"),ae("EventSource - Request timeout",{sessionId:S,question:A.substring(0,100)+"...",readyState:q.readyState,connectionEstablished:qt,timeoutDuration:6e4}),q.close(),D(new Error("Request timeout - no response from server")))},6e4)}),$=async()=>{if(d!=null&&d.sessionId)try{p(!0);const S=await U.endSimulation(d.sessionId);N(!0),E(S.evaluation||"Session completed successfully."),console.log("✅ Session completed successfully. Progress should be updated."),ae("Session ended successfully",{sessionId:d.sessionId,caseId:e,messageCount:l.length,duration:d.startedAt?Date.now()-new Date(d.startedAt).getTime():"unknown"})}catch(S){console.error("Error ending session:",S),ae("Failed to end session",{error:S instanceof Error?S.message:String(S),sessionId:d.sessionId,caseId:e,stack:S instanceof Error?S.stack:void 0});const A={id:"session-end-error-"+Date.now(),role:"assistant",content:`⚠️ **Session End Error**

There was an issue ending your session properly. Your progress may still be saved. You can safely navigate away from this page.`,timestamp:new Date,speaks_for:"System"};i(z=>[...z,A]),N(!0),E("Session ended with errors. Your progress may still be saved.")}finally{p(!1)}},W=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),C())};if(w){const S=D=>{switch(D){case"network":return"🌐";case"auth":return"🔒";case"invalid_case":return"📋";case"server":return"🖥️";case"timeout":return"⏱️";default:return"⚠️"}},z=(D=>{switch(D){case"network":return"blue";case"auth":return"red";case"invalid_case":return"yellow";case"server":return"purple";case"timeout":return"orange";default:return"red"}})(w.type);return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"text-center max-w-lg mx-auto p-6 bg-white rounded-lg shadow-lg",children:[n.jsx("div",{className:`w-20 h-20 bg-${z}-100 rounded-full flex items-center justify-center mx-auto mb-6`,children:n.jsx("span",{className:"text-3xl",children:S(w.type)})}),n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:[w.type==="network"&&"Connection Problem",w.type==="auth"&&"Authentication Required",w.type==="invalid_case"&&"Case Not Found",w.type==="server"&&"Server Error",w.type==="timeout"&&"Request Timeout",w.type==="unknown"&&"Unexpected Error"]}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:w.userMessage}),!1,n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[w.canRetry&&n.jsx("button",{onClick:Jt,disabled:T,className:`px-6 py-3 bg-${z}-600 text-white rounded-lg hover:bg-${z}-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2`,children:T?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),n.jsx("span",{children:"Retrying..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"🔄"}),n.jsx("span",{children:"Try Again"})]})}),w.action==="login"&&n.jsxs("button",{onClick:()=>r("/login"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"🔑"}),n.jsx("span",{children:"Sign In"})]}),w.action==="redirect"&&n.jsxs("button",{onClick:()=>{w.redirectUrl?r(w.redirectUrl):a!=null&&a.returnUrl?r(a.returnUrl):r("/simulation")},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"←"}),n.jsx("span",{children:"Back to Cases"})]}),w.action==="none"&&n.jsxs("button",{onClick:()=>{a!=null&&a.returnUrl?r(a.returnUrl):r("/simulation")},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"←"}),n.jsx("span",{children:"Back to Cases"})]})]}),!w.canRetry&&w.action==="redirect"&&n.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Automatically redirecting in a few seconds..."}),w.action==="login"&&n.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Redirecting to login page..."})]})})}return u&&l.length===0||h.isLoading?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-8 bg-white rounded-xl shadow-lg",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:n.jsx("span",{className:"text-white font-bold text-2xl",children:"ST"})}),h.phase!=="idle"&&n.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:n.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center animate-bounce",children:n.jsxs("span",{className:"text-white text-sm",children:[h.phase==="validating_case"&&"🔍",h.phase==="creating_session"&&"⚙️",h.phase==="loading_patient"&&"👤",h.phase==="initializing_chat"&&"💬",h.phase==="complete"&&"✅"]})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.phase!=="idle"?h.message:f==="case-only"?"Starting your simulation...":"Loading simulation session..."}),n.jsx("span",{className:"text-sm text-gray-500",children:h.progress>0?`${h.progress}%`:""})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:h.progress>0?`${h.progress}%`:"20%"}})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[h.phase==="validating_case"&&"Validating Case",h.phase==="creating_session"&&"Creating Session",h.phase==="loading_patient"&&"Loading Patient",h.phase==="initializing_chat"&&"Initializing Chat",h.phase==="complete"&&"Ready to Start!",h.phase==="idle"&&(f==="case-only"?"Starting Simulation":"Loading Session")]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[h.phase==="validating_case"&&"Checking case availability and permissions...",h.phase==="creating_session"&&"Setting up your personalized simulation environment...",h.phase==="loading_patient"&&"Preparing patient data and medical history...",h.phase==="initializing_chat"&&"Configuring the chat interface and AI responses...",h.phase==="complete"&&"Everything is ready! Redirecting to your simulation...",h.phase==="idle"&&(f==="case-only"?`Preparing case: ${e}`:`Loading session: ${t}`)]}),n.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:["validating_case","creating_session","loading_patient","initializing_chat","complete"].map((S,A)=>n.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${h.phase===S?"bg-blue-500 animate-pulse scale-125":h.progress>A*20?"bg-green-500":"bg-gray-300"}`},S))})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),!1]})}):n.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] bg-gradient-to-br from-blue-50 via-white to-indigo-50 -mx-4 sm:-mx-6 lg:-mx-8 -my-8",children:[n.jsxs("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"ST"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Simuatech"}),n.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"Medical Simulation Platform"})]})]}),(d||h.isLoading)&&n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 sm:ml-8 sm:pl-8 sm:border-l border-gray-200",children:[n.jsx("div",{className:`w-8 h-8 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-all duration-300 ${h.isLoading?"bg-gradient-to-br from-blue-400 to-blue-500 animate-pulse":"bg-gradient-to-br from-green-400 to-emerald-500"}`,children:n.jsx("span",{className:"text-white text-sm sm:text-lg",children:h.isLoading?"⏳":"👤"})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsxs("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[h.isLoading?h.phase==="loading_patient"?"Loading Patient...":"Setting Up...":(d==null?void 0:d.patientName)||(d==null?void 0:d.patient_name)||(d==null?void 0:d.name)||"Patient",!1]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 flex items-center",children:[n.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${h.isLoading?"bg-blue-400 animate-bounce":"bg-green-400 animate-pulse"}`}),h.isLoading?h.message||"Initializing...":"Active Session"]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2 sm:space-x-3",children:[n.jsxs("div",{className:"text-left sm:text-right sm:mr-4 hidden sm:block",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Session Time"}),n.jsx("p",{className:"text-sm font-mono text-gray-700",children:new Date().toLocaleTimeString()})]}),!v&&n.jsx("button",{onClick:$,disabled:u,className:"px-2 py-1 sm:px-4 sm:py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 disabled:opacity-50 transition-all duration-200 shadow-md hover:shadow-lg text-sm",children:n.jsxs("span",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx("span",{children:"🏁"}),n.jsx("span",{className:"hidden sm:inline",children:"End Session"}),n.jsx("span",{className:"sm:hidden",children:"End"})]})}),n.jsx("button",{onClick:()=>{a!=null&&a.returnUrl?r(a.returnUrl):r("/simulation")},className:"px-2 py-1 sm:px-4 sm:py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm",children:n.jsxs("span",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx("span",{children:"←"}),n.jsx("span",{className:"hidden sm:inline",children:"Back to Cases"}),n.jsx("span",{className:"sm:hidden",children:"Back"})]})})]})]})}),!v&&n.jsxs("div",{className:"px-3 sm:px-6 pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[n.jsx("span",{children:h.isLoading?"Startup Progress":"Session Progress"}),n.jsx("span",{children:h.isLoading?`${h.progress}%`:`${l.filter(S=>S.role==="user").length} questions`})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${h.isLoading?"bg-gradient-to-r from-blue-400 to-blue-600":"bg-gradient-to-r from-blue-500 to-indigo-600"}`,style:{width:h.isLoading?`${h.progress}%`:`${Math.min(l.filter(S=>S.role==="user").length/10*100,100)}%`}})}),h.phase==="complete"&&n.jsxs("div",{className:"mt-2 text-xs text-green-600 flex items-center animate-fade-in",children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Simulation ready! You can now start chatting with the patient."]})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6 space-y-4 sm:space-y-6",children:[l.map((S,A)=>n.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"} animate-fade-in`,style:{animationDelay:`${A*.1}s`},children:n.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 max-w-[85%] sm:max-w-none ${S.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[n.jsx("div",{className:`flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center font-bold ${S.role==="user"?"bg-gradient-to-br from-blue-500 to-indigo-600":S.speaks_for==="System"?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-purple-500 to-pink-600"}`,children:n.jsx("span",{className:"text-white text-xs sm:text-sm font-medium",children:S.role==="user"?"👨‍⚕️":S.speaks_for==="System"?"ℹ️":"🤒"})}),n.jsxs("div",{className:`flex-1 sm:max-w-md lg:max-w-lg ${S.role==="user"?"text-right":"text-left"}`,children:[S.role==="assistant"&&S.speaks_for&&n.jsx("div",{className:`text-xs mb-1 sm:mb-2 font-semibold ${S.speaks_for==="System"?"text-green-700":"text-purple-700"}`,children:S.speaks_for==="System"?"System Guide":S.speaks_for}),n.jsx("div",{className:`px-3 py-2 sm:px-4 sm:py-3 rounded-2xl shadow-md ${S.role==="user"?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white":S.speaks_for==="System"?"bg-gradient-to-br from-green-50 to-emerald-50 text-gray-800 border-l-4 border-green-400":"bg-white text-gray-900 border border-gray-200 shadow-lg"}`,children:n.jsx("div",{className:`whitespace-pre-wrap text-sm sm:text-base ${S.speaks_for==="System"?"leading-relaxed":""}`,children:S.content})}),n.jsx("div",{className:`text-xs mt-1 sm:mt-2 ${S.role==="user"?"text-blue-600":"text-gray-500"}`,children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},S.id)),u&&l.length>0&&n.jsx("div",{className:"flex justify-start animate-fade-in max-w-[85%] sm:max-w-none",children:n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs sm:text-sm font-medium",children:"🤒"})}),n.jsxs("div",{className:"flex-1 sm:max-w-md lg:max-w-lg",children:[n.jsx("div",{className:"text-xs mb-1 sm:mb-2 font-semibold text-purple-700",children:(d==null?void 0:d.patientName)||(d==null?void 0:d.patient_name)||(d==null?void 0:d.name)||"Patient"}),n.jsx("div",{className:"bg-white text-gray-900 border border-gray-200 shadow-lg px-3 py-2 sm:px-4 sm:py-3 rounded-2xl pulse-glow",children:n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[(d==null?void 0:d.patientName)||(d==null?void 0:d.patient_name)||(d==null?void 0:d.name)||"Patient"," ","is thinking..."]}),n.jsx("div",{className:"mt-1",children:n.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:"bg-purple-400 h-1 rounded-full animate-pulse",style:{width:"60%"}})})})]})]})})]})]})}),n.jsx("div",{ref:K})]}),v&&j&&n.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border-t border-blue-200 p-6",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-2xl",children:"📋"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Session Evaluation Report"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Patient: ",(d==null?void 0:d.patientName)||"Patient"," • Completed:"," ",new Date().toLocaleDateString()]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Session ID"}),n.jsx("div",{className:"text-xs font-mono text-gray-700",children:((st=d==null?void 0:d.sessionId)==null?void 0:st.slice(-8))||"N/A"})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-6",children:n.jsxs("div",{className:"prose prose-sm max-w-none",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"🎯"}),"Performance Summary"]}),n.jsx("div",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:j})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("h5",{className:"font-semibold text-green-800 mb-2 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"✅"}),"Strengths"]}),n.jsx("p",{className:"text-sm text-green-700",children:"Review your evaluation above for specific strengths identified during this session."})]}),n.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[n.jsxs("h5",{className:"font-semibold text-amber-800 mb-2 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"💡"}),"Areas for Improvement"]}),n.jsx("p",{className:"text-sm text-amber-700",children:"Check your evaluation for recommendations on areas to focus on for future cases."})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("h5",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:[n.jsx("span",{className:"mr-2",children:"🚀"}),"Next Steps"]}),n.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[n.jsx("p",{children:"• Review your performance metrics in the Progress section"}),n.jsx("p",{children:"• Try similar cases to reinforce your learning"}),n.jsx("p",{children:"• Challenge yourself with more complex cases"})]})]})]})}),n.jsxs("div",{className:"flex justify-between items-center mt-6 pt-4 border-t border-gray-200",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"This evaluation was generated by Simuatech AI to help improve your clinical skills."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>r("/progress"),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View Progress"}),n.jsx("button",{onClick:()=>{a!=null&&a.returnUrl?r(a.returnUrl):r("/simulation")},className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:"Try Another Case"})]})]})]})})}),l.length<=2&&!v&&n.jsx("div",{className:"bg-blue-50 border-t border-blue-200 px-3 sm:px-6 py-2 sm:py-3",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"hidden sm:flex items-center justify-between mb-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm",children:"💡"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Quick Starters:"})]})}),n.jsx("div",{className:"flex sm:hidden flex-wrap gap-1",children:["What brings you in today?","Describe your symptoms"].map((S,A)=>n.jsx("button",{onClick:()=>o(S),className:"text-xs px-2 py-1 bg-white text-blue-700 rounded-full border border-blue-200 hover:border-blue-400 hover:bg-blue-50 transition-all duration-200",children:S},A))}),n.jsx("div",{className:"hidden sm:flex flex-wrap gap-2",children:["What brings you in today?","Can you describe your symptoms?","When did this start?","Any medical history I should know?"].map((S,A)=>n.jsxs("button",{onClick:()=>o(S),className:"text-xs px-3 py-1 bg-white text-blue-700 rounded-full border border-blue-200 hover:border-blue-400 hover:bg-blue-50 transition-all duration-200",children:['"',S,'"']},A))})]})}),!v&&n.jsx("div",{className:"bg-white border-t border-gray-200 shadow-lg",children:n.jsx("div",{className:"p-3 sm:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-end space-y-3 sm:space-y-0 sm:space-x-4",children:[n.jsxs("div",{className:"flex-1 w-full",children:[n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{value:c,onChange:S=>o(S.target.value),onKeyPress:W,placeholder:l.length<=1?"Start with: 'What brings you in today?'":"Ask your next question...",className:"w-full px-3 py-2 sm:px-4 sm:py-3 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 resize-none transition-all duration-200 text-gray-900 placeholder-gray-500 text-sm sm:text-base",rows:2,disabled:u}),n.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[c.length,"/500"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-2 space-y-1 sm:space-y-0",children:[n.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx("span",{className:"hidden sm:inline",children:"💡 Press Enter to send, Shift+Enter for new line"}),n.jsx("span",{className:"sm:hidden",children:"💡 Enter to send"})]}),n.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-1"}),"AI Ready"]})})]})]}),n.jsx("button",{onClick:C,disabled:!c.trim()||u,className:"w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-2xl hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center space-x-2 text-sm sm:text-base",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),n.jsx("span",{children:"Sending..."}),n.jsxs("div",{className:"hidden sm:flex items-center ml-2",children:[n.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse mx-0.5"}),n.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse mx-0.5",style:{animationDelay:"0.2s"}}),n.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse mx-0.5",style:{animationDelay:"0.4s"}})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Send"}),n.jsx("span",{children:"📤"})]})})]})})})]})},B=({className:e="",animate:t=!0})=>n.jsx("div",{className:`bg-gray-200 dark:bg-gray-700 rounded ${t?"animate-pulse":""} ${e}`}),yg=({className:e="",animate:t=!0,showImage:r=!1,showActions:s=!0})=>n.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 ${e}`,children:[r&&n.jsx(B,{className:"w-full h-32 mb-4",animate:t}),n.jsx(B,{className:"h-6 w-3/4 mb-3",animate:t}),n.jsx(B,{className:"h-4 w-full mb-2",animate:t}),n.jsx(B,{className:"h-4 w-5/6 mb-2",animate:t}),n.jsx(B,{className:"h-4 w-2/3 mb-4",animate:t}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(B,{className:"h-3 w-16",animate:t}),n.jsx(B,{className:"h-3 w-20",animate:t})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(B,{className:"h-3 w-12",animate:t}),n.jsx(B,{className:"h-3 w-16",animate:t})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(B,{className:"h-3 w-20",animate:t}),n.jsx(B,{className:"h-3 w-24",animate:t})]})]}),s&&n.jsx(B,{className:"h-10 w-full",animate:t})]}),vg=({items:e=6,className:t="",animate:r=!0})=>n.jsx("div",{className:`grid md:grid-cols-2 lg:grid-cols-3 gap-6 ${t}`,children:Array.from({length:e},(s,a)=>n.jsx(yg,{animate:r},a))}),wg=({className:e="",animate:t=!0})=>n.jsxs("div",{className:`mb-8 ${e}`,children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(B,{className:"h-4 w-12",animate:t}),n.jsx("span",{className:"text-gray-400",children:"›"}),n.jsx(B,{className:"h-4 w-20",animate:t}),n.jsx("span",{className:"text-gray-400",children:"›"}),n.jsx(B,{className:"h-4 w-16",animate:t})]}),n.jsx(B,{className:"h-8 w-64 mb-2",animate:t}),n.jsx(B,{className:"h-4 w-48",animate:t})]}),jg=({className:e="",animate:t=!0})=>n.jsx("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md mb-6 ${e}`,children:n.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.jsx(B,{className:"flex-1 h-10",animate:t}),n.jsx(B,{className:"h-10 w-24",animate:t}),n.jsx(B,{className:"h-10 w-16",animate:t})]})}),Ng=({className:e="",animate:t=!0})=>n.jsxs("div",{className:`flex items-center justify-center space-x-2 mt-8 ${e}`,children:[n.jsx(B,{className:"h-8 w-16",animate:t}),n.jsx(B,{className:"h-8 w-8",animate:t}),n.jsx(B,{className:"h-8 w-8",animate:t}),n.jsx(B,{className:"h-8 w-8",animate:t}),n.jsx(B,{className:"h-8 w-16",animate:t})]}),bg=({className:e="",animate:t=!0})=>n.jsxs("div",{className:`max-w-6xl mx-auto ${e}`,children:[n.jsx(wg,{animate:t}),n.jsx(jg,{animate:t}),n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx(B,{className:"h-4 w-48",animate:t}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(B,{className:"h-4 w-12",animate:t}),n.jsx(B,{className:"h-8 w-16",animate:t}),n.jsx(B,{className:"h-4 w-16",animate:t})]})]}),n.jsx(vg,{animate:t}),n.jsx(Ng,{animate:t})]}),Sg=({size:e="md",text:t="Loading...",className:r=""})=>{const s={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},a={sm:"text-sm",md:"text-base",lg:"text-lg"};return n.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[n.jsx("div",{className:`animate-spin rounded-full border-b-2 border-blue-600 ${s[e]} mb-2`}),t&&n.jsx("p",{className:`text-gray-600 ${a[e]}`,children:t})]})},kg=x.lazy(()=>Ld(()=>import("./SpecialtyCasePage-271524d9.js"),[])),Gd=x.memo(()=>n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx(bg,{animate:!0}),n.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 flex items-center space-x-2",children:[n.jsx(Sg,{size:"sm",text:""}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Loading specialty page..."})]})})]}));Gd.displayName="SpecialtyPageFallback";const Jd=x.memo(e=>n.jsx(x.Suspense,{fallback:n.jsx(Gd,{}),children:n.jsx(kg,{...e})}));Jd.displayName="LazySpecialtyPage";const Cg=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",cs=e=>typeof e!="number"||isNaN(e)?"0%":`${Math.round(e)}%`,Va=e=>e>=90?"text-green-600":e>=70?"text-yellow-600":"text-red-600",Eg=()=>{var d;const{user:e}=ut(),[t,r]=x.useState(null),[s,a]=x.useState(!0),[l,i]=x.useState("");x.useEffect(()=>{c()},[e==null?void 0:e.id]);const c=async()=>{if(e!=null&&e.id)try{a(!0),i("");const g=await U.getUserProgress(e.id);r(g)}catch(g){i("Failed to load progress data"),console.error("Error fetching progress:",g)}finally{a(!1)}},o=g=>g>=90?{level:"Expert",color:"text-green-600 bg-green-100",description:"Excellent performance across cases"}:g>=80?{level:"Advanced",color:"text-blue-600 bg-blue-100",description:"Strong clinical reasoning skills"}:g>=70?{level:"Intermediate",color:"text-yellow-600 bg-yellow-100",description:"Good progress, room for improvement"}:g>=60?{level:"Developing",color:"text-orange-600 bg-orange-100",description:"Building foundational skills"}:{level:"Beginner",color:"text-red-600 bg-red-100",description:"Starting your learning journey"},u=()=>Math.round(((t==null?void 0:t.totalCasesCompleted)||0)*20/60*10)/10;if(s)return n.jsx("div",{className:"max-w-6xl mx-auto p-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[1,2,3].map(g=>n.jsx("div",{className:"bg-gray-200 h-32 rounded-lg"},g))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})});if(l)return n.jsx("div",{className:"max-w-6xl mx-auto p-6",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-red-800 mb-2",children:"Error Loading Progress"}),n.jsx("p",{className:"text-red-600 mb-4",children:l}),n.jsx("button",{onClick:c,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Try Again"})]})});const p=o((t==null?void 0:t.overallAverageScore)||0);return n.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Your Progress"}),n.jsx("p",{className:"text-gray-600",children:"Track your learning journey and performance metrics"})]}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:(t==null?void 0:t.totalCasesCompleted)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Cases Completed"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("div",{className:`text-2xl font-bold mb-1 ${Va((t==null?void 0:t.overallAverageScore)||0)}`,children:cs((t==null?void 0:t.overallAverageScore)||0)}),n.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:((d=t==null?void 0:t.recentPerformance)==null?void 0:d.length)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Recent Cases"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsxs("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:[u(),"h"]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Practice Time"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Performance Level"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`px-4 py-2 rounded-full font-medium ${p.color}`,children:p.level}),n.jsx("div",{className:"text-gray-600",children:p.description})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress to Next Level"}),n.jsx("span",{children:cs((t==null?void 0:t.overallAverageScore)||0)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((t==null?void 0:t.overallAverageScore)||0,100)}%`}})})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Progress by Specialty"}),t!=null&&t.specialtyProgress&&t.specialtyProgress.length>0?n.jsx("div",{className:"space-y-4",children:t.specialtyProgress.map((g,v)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:g.specialty}),n.jsx("span",{className:`text-sm font-medium ${Va(g.averageScore)}`,children:cs(g.averageScore)})]}),n.jsx("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:n.jsxs("span",{children:[g.casesCompleted," cases completed"]})}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${g.averageScore>=90?"bg-green-500":g.averageScore>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(g.averageScore,100)}%`}})})]},v))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No specialty progress data yet."}),n.jsx("p",{className:"text-sm mt-2",children:"Complete some cases to see your progress by specialty."})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Performance"}),t!=null&&t.recentPerformance&&t.recentPerformance.length>0?n.jsx("div",{className:"space-y-3",children:t.recentPerformance.slice(0,8).map((g,v)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:g.caseTitle||"Unknown Case"}),n.jsx("p",{className:"text-xs text-gray-600",children:Cg(g.completedAt)})]}),n.jsx("div",{className:`font-bold text-sm ${Va(g.score||0)}`,children:cs(g.score||0)})]},v))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No recent performance data."}),n.jsx("p",{className:"text-sm mt-2",children:"Start completing cases to track your performance."})]})]})]}),(!(t!=null&&t.totalCasesCompleted)||t.totalCasesCompleted===0)&&n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Ready to Start Learning?"}),n.jsx("p",{className:"text-blue-600 mb-4",children:"Complete your first patient case to begin tracking your progress."}),n.jsx("button",{onClick:()=>window.location.href="/simulation",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Browse Cases"})]})]})},Pg=()=>{var h;const{user:e}=ut(),[t,r]=x.useState([]),[s,a]=x.useState(!0),[l,i]=x.useState(""),[c,o]=x.useState([]),[u,p]=x.useState(!1),[d,g]=x.useState("public");x.useEffect(()=>{v(),N()},[l]);const v=async()=>{try{const m=await U.getCaseCategories();o(m.specialties||[])}catch(m){console.error("Error fetching specialties:",m)}},N=async()=>{try{a(!0);const f=(await U.getLeaderboard(l,20)).map((y,w)=>{var b,T,L;const k=!y.showRealName||y.privacyLevel==="private",P=k?`Student ${String.fromCharCode(65+w%26)}${Math.floor(w/26)+1}`:y.name||((b=y.userId)==null?void 0:b.username)||"Anonymous User";return{...y,rank:w+1,userId:((T=y.userId)==null?void 0:T._id)||y.userId,name:y.name||((L=y.userId)==null?void 0:L.username)||"Anonymous User",displayName:P,isAnonymous:k,privacyLevel:y.privacyLevel||"public"}});r(f)}catch(m){console.error("Error fetching leaderboard:",m),r([])}finally{a(!1)}},j=m=>{switch(m){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return`#${m}`}},E=m=>{switch(m){case 1:return"text-yellow-600 bg-yellow-50";case 2:return"text-gray-600 bg-gray-50";case 3:return"text-orange-600 bg-orange-50";default:return"text-blue-600 bg-blue-50"}};return s?n.jsx("div",{className:"max-w-4xl mx-auto p-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(m=>n.jsx("div",{className:"bg-gray-200 h-16 rounded-lg"},m))})]})}):n.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Leaderboard"}),n.jsx("p",{className:"text-gray-600",children:"See how you rank among other learners"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx("span",{children:"🔒"}),n.jsx("span",{children:"Privacy Settings"})]})})]})}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Specialty:"}),n.jsxs("select",{value:l,onChange:m=>i(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Specialties"}),c.map(m=>n.jsx("option",{value:m,children:m},m))]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"View:"}),n.jsxs("select",{value:d,onChange:m=>g(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"public",children:"Public Names"}),n.jsx("option",{value:"anonymous",children:"Anonymous Only"})]})]}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx("span",{className:"mr-1",children:"🔒"}),n.jsx("span",{children:"Privacy Protected"})]})]})]}),n.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("span",{className:"font-medium",children:"Privacy Notice:"})," Only users who have opted into leaderboard visibility are shown. Names are anonymized based on individual privacy preferences.",n.jsx("button",{onClick:()=>p(!0),className:"text-blue-600 hover:text-blue-800 underline ml-1",children:"Manage your privacy settings"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Top Performers ",l&&`- ${l}`]})}),t.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx("p",{className:"text-lg mb-2",children:"No leaderboard data available yet"}),n.jsx("p",{className:"text-sm",children:"Complete some cases to see rankings appear!"})]}):n.jsx("div",{className:"divide-y divide-gray-200",children:t.map(m=>n.jsxs("div",{className:`p-6 hover:bg-gray-50 transition-colors ${m.userId===(e==null?void 0:e.id)?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold ${E(m.rank)}`,children:j(m.rank)}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("h3",{className:"font-semibold text-gray-900",children:[d==="anonymous"||m.isAnonymous?m.displayName:m.name,m.userId===(e==null?void 0:e.id)&&n.jsx("span",{className:"ml-2 text-sm text-blue-600 font-normal",children:"(You)"}),m.isAnonymous&&d==="public"&&n.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Anonymous)"})]}),m.isContributor&&n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Contributor"}),m.privacyLevel==="private"&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:"🔒 Private"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[m.totalCases," cases completed",m.privacyLevel==="educators"&&n.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"• Educators can view details"})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[m.averageScore,"%"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[m.excellentRate,"% excellent"]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[n.jsx("span",{children:"Excellence Rate"}),n.jsxs("span",{children:[m.excellentCount,"/",m.totalCases]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${m.excellentRate}%`}})})]})]},m.userId))})]}),e&&!t.slice(0,5).find(m=>m.userId===e.id)&&n.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Your Current Ranking"}),n.jsxs("p",{className:"text-blue-600 text-sm",children:["You're currently ranked #",((h=t.find(m=>m.userId===e.id))==null?void 0:h.rank)||"N/A"," overall. Keep completing cases to improve your ranking!"]})]}),n.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-6 text-white text-center",children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ready to Climb the Leaderboard?"}),n.jsx("p",{className:"mb-4 opacity-90",children:"Complete more cases and achieve excellent ratings to improve your ranking."}),n.jsx("button",{onClick:()=>window.location.href="/simulation",className:"bg-white text-blue-600 px-6 py-2 rounded-md font-medium hover:bg-gray-100 transition-colors",children:"Start Practicing"})]}),u&&n.jsx(Qd,{onClose:()=>p(!1)})]})},_g=()=>{const[e,t]=x.useState([]),[r,s]=x.useState(!0),[a,l]=x.useState(""),[i,c]=x.useState(""),[o,u]=x.useState(""),[p,d]=x.useState(null),[g,v]=x.useState(!1);x.useEffect(()=>{N()},[]);const N=async()=>{try{s(!0),t([{id:"1",username:"john_doe",email:"john@example.com",role:"user",createdAt:"2024-01-15",lastActive:"2024-01-20",totalCases:45,averageScore:87,privacySettings:{showInLeaderboard:!0,showRealName:!1,profileVisibility:"educators"},status:"active"},{id:"2",username:"jane_smith",email:"jane@example.com",role:"educator",createdAt:"2024-01-10",lastActive:"2024-01-21",totalCases:23,averageScore:92,privacySettings:{showInLeaderboard:!0,showRealName:!0,profileVisibility:"public"},status:"active"}])}catch(f){console.error("Error fetching users:",f)}finally{s(!1)}},j=e.filter(f=>{const y=f.username.toLowerCase().includes(a.toLowerCase())||f.email.toLowerCase().includes(a.toLowerCase()),w=!i||f.role===i,k=!o||f.status===o;return y&&w&&k}),E=async(f,y)=>{try{console.log(`${y} user ${f}`),t(w=>w.map(k=>k.id===f?{...k,status:y==="suspend"?"suspended":y==="activate"?"active":k.status,role:y==="promote"?"educator":k.role}:k))}catch(w){console.error(`Error ${y}ing user:`,w)}},h=f=>{switch(f){case"admin":return"bg-red-100 text-red-800";case"educator":return"bg-blue-100 text-blue-800";case"user":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},m=f=>{switch(f){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r?n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),n.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(f=>n.jsx("div",{className:"bg-gray-200 h-16 rounded-lg"},f))})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage user accounts, roles, and privacy settings"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Users: ",e.length]})]}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),n.jsx("input",{type:"text",value:a,onChange:f=>l(f.target.value),placeholder:"Search users...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),n.jsxs("select",{value:i,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Roles"}),n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"educator",children:"Educator"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:o,onChange:f=>u(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"suspended",children:"Suspended"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>{l(""),c(""),u("")},className:"w-full px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Clear Filters"})})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Privacy"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.username}),n.jsx("div",{className:"text-sm text-gray-500",children:f.email}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Joined: ",new Date(f.createdAt).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(f.role)}`,children:f.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(f.status)}`,children:f.status})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsxs("div",{children:[f.totalCases," cases"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[f.averageScore,"% avg"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{className:`flex items-center ${f.privacySettings.showInLeaderboard?"text-green-600":"text-red-600"}`,children:[n.jsx("span",{className:"mr-1",children:f.privacySettings.showInLeaderboard?"✓":"✗"}),"Leaderboard"]}),n.jsxs("div",{className:`flex items-center ${f.privacySettings.showRealName?"text-green-600":"text-red-600"}`,children:[n.jsx("span",{className:"mr-1",children:f.privacySettings.showRealName?"✓":"✗"}),"Real Name"]}),n.jsx("div",{className:"text-gray-500",children:f.privacySettings.profileVisibility})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[n.jsx("button",{onClick:()=>{d(f),v(!0)},className:"text-blue-600 hover:text-blue-900",children:"View"}),f.status==="active"?n.jsx("button",{onClick:()=>E(f.id,"suspend"),className:"text-red-600 hover:text-red-900",children:"Suspend"}):n.jsx("button",{onClick:()=>E(f.id,"activate"),className:"text-green-600 hover:text-green-900",children:"Activate"}),f.role==="user"&&n.jsx("button",{onClick:()=>E(f.id,"promote"),className:"text-purple-600 hover:text-purple-900",children:"Promote"})]})]},f.id))})]})}),j.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:n.jsx("p",{children:"No users found matching your criteria."})})]}),g&&p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Details"}),n.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("span",{className:"text-2xl",children:"×"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.username})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.role})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Cases"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.totalCases})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Average Score"}),n.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[p.averageScore,"%"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Privacy Settings"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Show in Leaderboard:"}),n.jsx("span",{className:p.privacySettings.showInLeaderboard?"text-green-600":"text-red-600",children:p.privacySettings.showInLeaderboard?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Show Real Name:"}),n.jsx("span",{className:p.privacySettings.showRealName?"text-green-600":"text-red-600",children:p.privacySettings.showRealName?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Profile Visibility:"}),n.jsx("span",{className:"capitalize",children:p.privacySettings.profileVisibility})]})]})]})]}),n.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200 space-x-3",children:n.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})]})})]})},Rg=()=>{const[e,t]=x.useState(null),[r,s]=x.useState(!0),[a,l]=x.useState("overview");x.useEffect(()=>{i()},[]);const i=async()=>{try{s(!0);const u=await U.getSystemStats();t(u)}catch(u){console.error("Error fetching system stats:",u),t({totalUsers:1247,totalCases:156,totalSessions:3429,activeUsers:89,recentUsers:23,recentSessions:145})}finally{s(!1)}},c=({title:u,value:p,change:d,color:g})=>n.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:u}),n.jsx("p",{className:`text-2xl font-bold ${g}`,children:p.toLocaleString()}),d&&n.jsx("p",{className:"text-sm text-green-600 mt-1",children:d})]}),n.jsx("div",{className:`w-12 h-12 rounded-full ${g.replace("text-","bg-").replace("-600","-100")} flex items-center justify-center`,children:n.jsx("div",{className:`w-6 h-6 rounded-full ${g.replace("text-","bg-")}`})})]})}),o=({label:u,isActive:p,onClick:d})=>n.jsx("button",{onClick:d,className:`px-4 py-2 rounded-lg font-medium transition-colors ${p?"bg-blue-600 text-white":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:u});return r?n.jsx("div",{className:"max-w-7xl mx-auto p-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(u=>n.jsx("div",{className:"bg-gray-200 h-32 rounded-lg"},u))})]})}):n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Manage your patient simulation platform"})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg w-fit",children:[n.jsx(o,{id:"overview",label:"Overview",isActive:a==="overview",onClick:()=>l("overview")}),n.jsx(o,{id:"users",label:"Users",isActive:a==="users",onClick:()=>l("users")}),n.jsx(o,{id:"cases",label:"Cases",isActive:a==="cases",onClick:()=>l("cases")}),n.jsx(o,{id:"analytics",label:"Analytics",isActive:a==="analytics",onClick:()=>l("analytics")})]})}),a==="overview"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(c,{title:"Total Users",value:(e==null?void 0:e.totalUsers)||0,change:`+${(e==null?void 0:e.recentUsers)||0} this month`,color:"text-blue-600"}),n.jsx(c,{title:"Total Cases",value:(e==null?void 0:e.totalCases)||0,color:"text-green-600"}),n.jsx(c,{title:"Total Sessions",value:(e==null?void 0:e.totalSessions)||0,change:`+${(e==null?void 0:e.recentSessions)||0} this week`,color:"text-purple-600"}),n.jsx(c,{title:"Active Users",value:(e==null?void 0:e.activeUsers)||0,color:"text-orange-600"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"User Management"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage user accounts, roles, and permissions"}),n.jsx("button",{onClick:()=>l("users"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Manage Users"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Case Library"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add, edit, and organize patient cases"}),n.jsx("button",{onClick:()=>l("cases"),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:"Manage Cases"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Performance Analytics"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"View detailed usage and performance analytics"}),n.jsx("button",{onClick:()=>l("analytics"),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors",children:"View Analytics"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Review Queue"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Review and approve community-contributed cases"}),n.jsx("button",{className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700 transition-colors",children:"Review Cases"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"System Health"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Monitor system performance and health metrics"}),n.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"View Health"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Settings"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Configure system-wide settings and preferences"}),n.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"Settings"})]})]})]}),a==="users"&&n.jsx(_g,{}),a==="cases"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Case Management"}),n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("p",{className:"text-lg mb-2",children:"Case Management Interface"}),n.jsx("p",{children:"This section will contain case management tools including:"}),n.jsxs("ul",{className:"text-left mt-4 space-y-2 max-w-md mx-auto",children:[n.jsx("li",{children:"• Browse all available cases"}),n.jsx("li",{children:"• Add new patient cases"}),n.jsx("li",{children:"• Edit existing case content"}),n.jsx("li",{children:"• Organize cases by specialty"})]})]})]}),a==="analytics"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Analytics Dashboard"}),n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx("p",{className:"text-lg mb-2",children:"Analytics Interface"}),n.jsx("p",{children:"This section will contain detailed analytics including:"}),n.jsxs("ul",{className:"text-left mt-4 space-y-2 max-w-md mx-auto",children:[n.jsx("li",{children:"• User engagement metrics"}),n.jsx("li",{children:"• Case completion rates"}),n.jsx("li",{children:"• Performance trends"}),n.jsx("li",{children:"• Usage statistics"})]})]})]})]})};var Lg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ig=(e,t)=>{const r=x.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,children:c,...o},u)=>x.createElement("svg",{ref:u,...Lg,width:a,height:a,stroke:s,strokeWidth:i?Number(l)*24/Number(a):l,className:`lucide lucide-${Tg(e)}`,...o},[...t.map(([p,d])=>x.createElement(p,d)),...(Array.isArray(c)?c:[c])||[]]));return r.displayName=`${e}`,r};var Xd=Ig;const Ag=Xd("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),$g=Xd("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),qd=x.createContext(void 0),Mg=()=>{const e=x.useContext(qd);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Fg=({children:e})=>{const[t,r]=x.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});x.useEffect(()=>{const a=window.document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const s=()=>{r(a=>a==="light"?"dark":"light")};return n.jsx(qd.Provider,{value:{theme:t,toggleTheme:s},children:e})},xc=()=>{const{theme:e,toggleTheme:t}=Mg();return n.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200","aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?n.jsx(Ag,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):n.jsx($g,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})},zg=()=>{const{user:e,logout:t}=ut(),r=nt(),s=He(),{currentSpecialty:a,currentSpecialtySlug:l}=Kd(),[i,c]=x.useState(!1),o=()=>{t(),r("/")},u=d=>l&&s.pathname===`/${l}`?d==="/browse-cases"||d==="/simulation":s.pathname===d||s.pathname.startsWith(d+"/"),p=d=>{const g="px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",v="bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",N="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700";return`${g} ${u(d)?v:N}`};return n.jsxs("nav",{className:"bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-50 transition-colors duration-200",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-4",children:[n.jsx(M,{to:"/",className:"flex items-center",children:n.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"🏥 Simuatech"})}),a&&n.jsxs("div",{className:"hidden lg:flex items-center space-x-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Current:"}),n.jsx("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:a})]})]}),n.jsx("div",{className:"hidden md:block",children:n.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:e?n.jsxs(n.Fragment,{children:[n.jsx(M,{to:"/dashboard",className:p("/dashboard"),children:"Dashboard"}),n.jsx(M,{to:"/browse-cases",className:p("/browse-cases"),children:"Browse Cases"}),n.jsx(M,{to:"/simulation",className:p("/simulation"),children:"All Cases"}),n.jsx(M,{to:"/progress",className:p("/progress"),children:"Progress"}),n.jsx(M,{to:"/leaderboard",className:p("/leaderboard"),children:"Leaderboard"}),e.role==="admin"&&n.jsx(M,{to:"/admin",className:p("/admin"),children:"Admin"})]}):n.jsxs(n.Fragment,{children:[n.jsx(M,{to:"/login",className:p("/login"),children:"Sign In"}),n.jsx(M,{to:"/register",className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors duration-200",children:"Sign Up"})]})})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[n.jsx(xc,{}),e&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Welcome,"}),n.jsx("span",{className:"ml-1 font-medium text-gray-900 dark:text-gray-100",children:e.username}),e.role==="admin"&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs rounded-full",children:"Admin"})]}),n.jsx("button",{onClick:o,className:"bg-red-600 text-white px-3 py-1.5 rounded-md text-sm font-medium hover:bg-red-700 transition-colors duration-200",children:"Logout"})]})]}),n.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[n.jsx(xc,{}),n.jsxs("button",{onClick:()=>c(!i),className:"bg-gray-100 dark:bg-gray-700 inline-flex items-center justify-center p-2 rounded-md text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 transition-colors duration-200",children:[n.jsx("span",{className:"sr-only",children:"Open main menu"}),i?n.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})]})]})}),i&&n.jsx("div",{className:"md:hidden",children:n.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600 transition-colors duration-200",children:e?n.jsxs(n.Fragment,{children:[n.jsx(M,{to:"/dashboard",className:`${p("/dashboard")} block`,onClick:()=>c(!1),children:"Dashboard"}),n.jsx(M,{to:"/browse-cases",className:`${p("/browse-cases")} block`,onClick:()=>c(!1),children:"Browse Cases"}),n.jsx(M,{to:"/simulation",className:`${p("/simulation")} block`,onClick:()=>c(!1),children:"All Cases"}),n.jsx(M,{to:"/progress",className:`${p("/progress")} block`,onClick:()=>c(!1),children:"Progress"}),n.jsx(M,{to:"/leaderboard",className:`${p("/leaderboard")} block`,onClick:()=>c(!1),children:"Leaderboard"}),e.role==="admin"&&n.jsx(M,{to:"/admin",className:`${p("/admin")} block`,onClick:()=>c(!1),children:"Admin"}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4 pb-3",children:[n.jsx("div",{className:"flex items-center px-3",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.username}),n.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:e.role})]})}),n.jsx("div",{className:"mt-3 px-3",children:n.jsx("button",{onClick:()=>{o(),c(!1)},className:"w-full bg-red-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition-colors duration-200",children:"Logout"})})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(M,{to:"/login",className:`${p("/login")} block`,onClick:()=>c(!1),children:"Sign In"}),n.jsx(M,{to:"/register",className:"block bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors duration-200",onClick:()=>c(!1),children:"Sign Up"})]})})})]})},pt=({children:e,requireAdmin:t=!1})=>{const{user:r,loading:s}=ut();return s?n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):r?t&&r.role!=="admin"?n.jsx(uc,{to:"/dashboard",replace:!0}):n.jsx(n.Fragment,{children:e}):n.jsx(uc,{to:"/login",replace:!0})},Dg=({minutesLeft:e,onRefresh:t,onDismiss:r})=>n.jsx("div",{className:"fixed top-4 right-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg z-50 max-w-sm animate-fade-in",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"text-yellow-400 text-xl",children:"⚠️"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Session Expiring Soon"}),n.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Your session will expire in ",e," minute",e!==1?"s":"",". Please save your work and refresh to continue."]}),n.jsxs("div",{className:"mt-3 flex space-x-2",children:[n.jsx("button",{onClick:t,className:"bg-yellow-600 text-white px-3 py-1 rounded text-xs hover:bg-yellow-700 transition-colors",children:"Refresh Session"}),n.jsx("button",{onClick:r,className:"bg-gray-300 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-400 transition-colors",children:"Dismiss"})]})]})]})}),Ug=({onSignIn:e})=>n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4 shadow-xl animate-fade-in",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-red-500 text-2xl",children:"🔒"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Session Expired"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Your session has expired for security reasons. Please sign in again to continue using Simuatech."}),n.jsx("button",{onClick:e,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Sign In Again"})]})})}),Og=()=>{const{user:e,logout:t}=ut(),[r,s]=x.useState(!1),[a,l]=x.useState(!1),[i,c]=x.useState(0),o=()=>{try{const v=localStorage.getItem("authToken");return v?JSON.parse(atob(v.split(".")[1])).exp*1e3:null}catch{return null}},u=()=>{if(!e)return;const v=o();if(!v)return;const N=Date.now(),j=v-N,E=Math.floor(j/6e4);j<=5*60*1e3&&j>0&&(c(E),s(!0)),j<=0&&(s(!1),l(!0),t())};x.useEffect(()=>{if(!e)return;u();const v=setInterval(u,3e4);return()=>clearInterval(v)},[e]);const p=()=>{window.location.reload()},d=()=>{s(!1)},g=()=>{window.location.href="/login"};return n.jsxs(n.Fragment,{children:[r&&n.jsx(Dg,{minutesLeft:i,onRefresh:p,onDismiss:d}),a&&n.jsx(Ug,{onSignIn:g})]})},Bg=({message:e,type:t,duration:r=5e3,onClose:s})=>{const[a,l]=x.useState(!0);x.useEffect(()=>{const o=setTimeout(()=>{l(!1),setTimeout(s,300)},r);return()=>clearTimeout(o)},[r,s]);const i=()=>{switch(t){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},c=()=>{switch(t){case"success":return"✓";case"error":return"✕";case"warning":return"⚠";case"info":return"ℹ";default:return""}};return n.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full transition-all duration-300 ${a?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:n.jsx("div",{className:`border rounded-lg p-4 shadow-lg ${i()}`,children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 mr-3",children:n.jsx("span",{className:"text-lg",children:c()})}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-sm font-medium",children:e})}),n.jsx("button",{onClick:()=>{l(!1),setTimeout(s,300)},className:"flex-shrink-0 ml-3 text-lg hover:opacity-70",children:"×"})]})})})},Zd=()=>{const[e,t]=x.useState([]),r=(l,i="info",c)=>{const o=Date.now().toString();t(u=>[...u,{id:o,message:l,type:i,duration:c}])},s=l=>{t(i=>i.filter(c=>c.id!==l))};return{addNotification:r,NotificationContainer:()=>n.jsx("div",{className:"fixed top-0 right-0 z-50 p-4 space-y-2",children:e.map(l=>n.jsx(Bg,{message:l.message,type:l.type,duration:l.duration,onClose:()=>s(l.id)},l.id))})}},em=({error:e="Unknown error",specialtySlug:t,specialtyName:r,onRetry:s,showRetry:a=!1})=>{const i=(()=>{switch(e){case"Invalid specialty URL format":return{icon:"❌",title:"Invalid Specialty URL",message:`The specialty URL "${t}" is not in a valid format.`,suggestion:"Please use a valid specialty link from the browse page."};case"Specialty not found":return{icon:"🔍",title:"Specialty Not Found",message:r?`The specialty "${r}" was not found.`:"The requested specialty was not found.",suggestion:"This specialty may not exist or may not have any cases available."};case"Failed to validate specialty":return{icon:"⚠️",title:"Unable to Validate Specialty",message:"We encountered an error while checking if this specialty exists.",suggestion:"This might be a temporary network issue. Please try again."};case"Network error":return{icon:"🌐",title:"Network Error",message:"Unable to connect to the server.",suggestion:"Please check your internet connection and try again."};case"Session expired":return{icon:"🔒",title:"Session Expired",message:"Your session has expired for security reasons.",suggestion:"Please sign in again to continue."};default:return{icon:"⚠️",title:"Something Went Wrong",message:"We encountered an unexpected error.",suggestion:"Please try again or browse available specialties."}}})();return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center px-4",children:n.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:i.icon}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-3",children:i.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:i.message}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8",children:i.suggestion}),n.jsxs("div",{className:"space-y-3",children:[a&&s&&n.jsx("button",{onClick:s,className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Try Again"}),n.jsx(M,{to:"/browse-cases",className:"block w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Browse Available Specialties"}),n.jsx(M,{to:"/simulation",className:"block w-full bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"View All Cases"}),n.jsx(M,{to:"/dashboard",className:"block w-full bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Return to Dashboard"})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Need help? Here are some suggestions:"}),n.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-300 space-y-1 text-left",children:[n.jsx("li",{children:"• Check that the specialty URL is spelled correctly"}),n.jsx("li",{children:"• Try browsing from the main specialties page"}),n.jsx("li",{children:"• Refresh the page if you're experiencing network issues"}),n.jsx("li",{children:"• Contact support if the problem persists"})]})]})]})})},Vg=({children:e})=>{const{specialty:t}=zi(),{addNotification:r}=Zd(),[s,a]=x.useState({isLoading:!0,isValid:!1});if(x.useEffect(()=>{(async()=>{if(!t){a({isLoading:!1,isValid:!1,error:"No specialty parameter provided"}),r("Invalid specialty URL - no specialty specified","error");return}if(!un(t)){a({isLoading:!1,isValid:!1,error:"Invalid specialty URL format"}),r(`Invalid specialty URL format: "${t}". Please use a valid specialty link.`,"error");return}try{const c=(await U.getCaseCategories()).specialties||[],o=Ul(t);c.some(p=>p.toLowerCase()===o.toLowerCase())?a({isLoading:!1,isValid:!0}):(a({isLoading:!1,isValid:!1,error:"Specialty not found"}),r(`Specialty "${o}" not found. Redirecting to available specialties.`,"warning"))}catch(i){console.error("Error validating specialty:",i),a({isLoading:!1,isValid:!1,error:"Failed to validate specialty"}),i instanceof Error?i.message.includes("Session expired")||i.message.includes("401")?r("Session expired. Please log in again.","error"):i.message.includes("Network")||i.message.includes("fetch")?r("Network error. Please check your connection and try again.","error"):r("Unable to validate specialty. Redirecting to case browsing.","error"):r("An unexpected error occurred. Redirecting to case browsing.","error")}})()},[t,r]),s.isLoading)return n.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Validating specialty..."})]});if(!s.isValid){const l=()=>{a({isLoading:!0,isValid:!1}),setTimeout(()=>{a(i=>({...i,isLoading:!0}))},100)};return n.jsx(em,{error:s.error,specialtySlug:t,specialtyName:t?Ul(t):void 0,onRetry:s.error==="Failed to validate specialty"?l:void 0,showRetry:s.error==="Failed to validate specialty"})}return n.jsx(n.Fragment,{children:e})};class Wg extends x.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("SpecialtyErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){if(this.state.hasError){let t="Unknown error";return this.state.error&&(this.state.error.message.includes("ChunkLoadError")||this.state.error.message.includes("Loading chunk")?t="Network error":this.state.error.message.includes("specialty")||this.state.error.message.includes("Specialty")?t="Specialty not found":(this.state.error.message.includes("fetch")||this.state.error.message.includes("Network"))&&(t="Network error")),n.jsxs(n.Fragment,{children:[n.jsx(em,{error:t,onRetry:()=>window.location.reload(),showRetry:!0}),!1]})}return this.props.children}}function Hg(){const{NotificationContainer:e}=Zd();return n.jsx(Fg,{children:n.jsx(Yp,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[n.jsx(zg,{}),n.jsx(e,{}),n.jsx(Og,{}),n.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs(Np,{children:[n.jsx(_e,{path:"/",element:n.jsx(ng,{})}),n.jsx(_e,{path:"/login",element:n.jsx(sg,{})}),n.jsx(_e,{path:"/register",element:n.jsx(ag,{})}),n.jsx(_e,{path:"/dashboard",element:n.jsx(pt,{children:n.jsx(fg,{})})}),n.jsx(_e,{path:"/browse-cases",element:n.jsx(pt,{children:n.jsx(gg,{})})}),n.jsx(_e,{path:"/simulation",element:n.jsx(pt,{children:n.jsx(xg,{})})}),n.jsx(_e,{path:"/simulation/:caseId",element:n.jsx(pt,{children:n.jsx(gc,{})})}),n.jsx(_e,{path:"/simulation/:caseId/session/:sessionId",element:n.jsx(pt,{children:n.jsx(gc,{})})}),n.jsx(_e,{path:"/progress",element:n.jsx(pt,{children:n.jsx(Eg,{})})}),n.jsx(_e,{path:"/leaderboard",element:n.jsx(pt,{children:n.jsx(Pg,{})})}),n.jsx(_e,{path:"/admin",element:n.jsx(pt,{requireAdmin:!0,children:n.jsx(Rg,{})})}),n.jsx(_e,{path:"/:specialty",element:n.jsx(pt,{children:n.jsx(Wg,{children:n.jsx(Vg,{children:n.jsx(Jd,{})})})})})]})})]})})})}class Yg extends x.Component{constructor(){super(...arguments);ht(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Uncaught error:",r,s)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-md w-full text-center",children:[n.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"An error occurred while loading the application. Please refresh the page to try again."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"}),!1]})}):this.props.children}}Wa.createRoot(document.getElementById("root")).render(n.jsx(Pc.StrictMode,{children:n.jsx(Yg,{children:n.jsx(rg,{children:n.jsx(Hg,{})})})}));export{M as L,Pc as R,bg as S,Zd as a,Ul as b,Gg as c,U as d,Kg as e,Kd as f,nt as g,un as i,n as j,x as r,At as s,Jg as t,zi as u};
//# sourceMappingURL=index-aa4a64a0.js.map
